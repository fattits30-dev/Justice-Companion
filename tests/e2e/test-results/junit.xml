<testsuites id="" name="" tests="17" failures="16" skipped="1" errors="0" time="184.55569899999978">
<testsuite name="ai-chat.e2e.test.ts" timestamp="2025-10-08T21:07:53.538Z" hostname="electron" tests="3" failures="3" skipped="0" time="0.147" errors="0">
<testcase name="AI Chat E2E › should send chat message and receive response" classname="ai-chat.e2e.test.ts" time="0.05">
<failure message="ai-chat.e2e.test.ts:18:7 should send chat message and receive response" type="FAILURE">
<![CDATA[  [electron] › ai-chat.e2e.test.ts:18:7 › AI Chat E2E › should send chat message and receive response 

    SqliteError: table cases has no column named case_number

       at ..\setup\test-database.ts:88

      86 |   try {
      87 |     // Insert sample case
    > 88 |     db.exec(`
         |        ^
      89 |       INSERT INTO cases (id, case_number, title, case_type, description, status, created_at, updated_at)
      90 |       VALUES (
      91 |         1,
        at Database.exec (C:\Users\sava6\Desktop\Justice Companion\node_modules\better-sqlite3\lib\methods\wrappers.js:9:14)
        at seedTestData (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\test-database.ts:88:8)
        at setupTestDatabase (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\test-database.ts:48:11)
        at launchElectronApp (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\electron-setup.ts:30:18)
        at C:\Users\sava6\Desktop\Justice Companion\tests\e2e\specs\ai-chat.e2e.test.ts:10:13

    TypeError: Cannot destructure property 'app' of 'testApp' as it is undefined.

       at ..\setup\electron-setup.ts:85

      83 |  */
      84 | export async function closeElectronApp(testApp: ElectronTestApp): Promise<void> {
    > 85 |   const { app, dbPath } = testApp;
         |           ^
      86 |
      87 |   try {
      88 |     // Close Electron app
        at closeElectronApp (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\electron-setup.ts:85:11)
        at C:\Users\sava6\Desktop\Justice Companion\tests\e2e\specs\ai-chat.e2e.test.ts:14:25

    attachment #1: trace (application/zip) ─────────────────────────────────────────────────────────
    ..\test-results\artifacts\ai-chat.e2e-AI-Chat-E2E-sh-d38de-essage-and-receive-response-electron\trace.zip
    Usage:

        npx playwright show-trace ..\test-results\artifacts\ai-chat.e2e-AI-Chat-E2E-sh-d38de-essage-and-receive-response-electron\trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[Test database created at: C:\Users\sava6\Desktop\Justice Companion\test-data\test-1759957674819.db

[[ATTACHMENT|artifacts\ai-chat.e2e-AI-Chat-E2E-sh-d38de-essage-and-receive-response-electron\trace.zip]]
]]>
</system-out>
<system-err>
<![CDATA[Failed to seed test data: SqliteError: table cases has no column named case_number
    at Database.exec [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mbetter-sqlite3[24m\lib\methods\wrappers.js:9:14[90m)[39m
    at seedTestData [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\test-database.ts:88:8[90m)[39m
    at setupTestDatabase [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\test-database.ts:48:11[90m)[39m
    at launchElectronApp [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\electron-setup.ts:30:18[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\specs\ai-chat.e2e.test.ts:10:13
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:305:11
    at TimeoutManager.withRunnable [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\timeoutManager.js:67:14[90m)[39m
    at TestInfoImpl._runWithTimeout [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:303:7[90m)[39m
    at FixtureRunner.resolveParametersAndRunFunction [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\fixtureRunner.js:228:5[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:469:11
    at TestInfoImpl._runAsStep [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:294:7[90m)[39m
    at WorkerMain._runEachHooksForSuites [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:468:9[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:302:9
    at TestInfoImpl._runAsStep [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:294:7[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:298:7
    at WorkerMain._runTest [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:283:5[90m)[39m
    at WorkerMain.runTestGroup [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:198:11[90m)[39m
    at process.<anonymous> [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\common\process.js:65:22[90m)[39m {
  code: [32m'SQLITE_ERROR'[39m
}
]]>
</system-err>
</testcase>
<testcase name="AI Chat E2E › should display conversation history" classname="ai-chat.e2e.test.ts" time="0.05">
<failure message="ai-chat.e2e.test.ts:73:7 should display conversation history" type="FAILURE">
<![CDATA[  [electron] › ai-chat.e2e.test.ts:73:7 › AI Chat E2E › should display conversation history ────────

    SqliteError: table cases has no column named case_number

       at ..\setup\test-database.ts:88

      86 |   try {
      87 |     // Insert sample case
    > 88 |     db.exec(`
         |        ^
      89 |       INSERT INTO cases (id, case_number, title, case_type, description, status, created_at, updated_at)
      90 |       VALUES (
      91 |         1,
        at Database.exec (C:\Users\sava6\Desktop\Justice Companion\node_modules\better-sqlite3\lib\methods\wrappers.js:9:14)
        at seedTestData (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\test-database.ts:88:8)
        at setupTestDatabase (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\test-database.ts:48:11)
        at launchElectronApp (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\electron-setup.ts:30:18)
        at C:\Users\sava6\Desktop\Justice Companion\tests\e2e\specs\ai-chat.e2e.test.ts:10:13

    TypeError: Cannot destructure property 'app' of 'testApp' as it is undefined.

       at ..\setup\electron-setup.ts:85

      83 |  */
      84 | export async function closeElectronApp(testApp: ElectronTestApp): Promise<void> {
    > 85 |   const { app, dbPath } = testApp;
         |           ^
      86 |
      87 |   try {
      88 |     // Close Electron app
        at closeElectronApp (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\electron-setup.ts:85:11)
        at C:\Users\sava6\Desktop\Justice Companion\tests\e2e\specs\ai-chat.e2e.test.ts:14:25

    attachment #1: trace (application/zip) ─────────────────────────────────────────────────────────
    ..\test-results\artifacts\ai-chat.e2e-AI-Chat-E2E-should-display-conversation-history-electron\trace.zip
    Usage:

        npx playwright show-trace ..\test-results\artifacts\ai-chat.e2e-AI-Chat-E2E-should-display-conversation-history-electron\trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[Test database created at: C:\Users\sava6\Desktop\Justice Companion\test-data\test-1759957675932.db

[[ATTACHMENT|artifacts\ai-chat.e2e-AI-Chat-E2E-should-display-conversation-history-electron\trace.zip]]
]]>
</system-out>
<system-err>
<![CDATA[Failed to seed test data: SqliteError: table cases has no column named case_number
    at Database.exec [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mbetter-sqlite3[24m\lib\methods\wrappers.js:9:14[90m)[39m
    at seedTestData [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\test-database.ts:88:8[90m)[39m
    at setupTestDatabase [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\test-database.ts:48:11[90m)[39m
    at launchElectronApp [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\electron-setup.ts:30:18[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\specs\ai-chat.e2e.test.ts:10:13
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:305:11
    at TimeoutManager.withRunnable [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\timeoutManager.js:67:14[90m)[39m
    at TestInfoImpl._runWithTimeout [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:303:7[90m)[39m
    at FixtureRunner.resolveParametersAndRunFunction [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\fixtureRunner.js:228:5[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:469:11
    at TestInfoImpl._runAsStep [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:294:7[90m)[39m
    at WorkerMain._runEachHooksForSuites [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:468:9[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:302:9
    at TestInfoImpl._runAsStep [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:294:7[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:298:7
    at WorkerMain._runTest [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:283:5[90m)[39m
    at WorkerMain.runTestGroup [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:198:11[90m)[39m
    at process.<anonymous> [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\common\process.js:65:22[90m)[39m {
  code: [32m'SQLITE_ERROR'[39m
}
]]>
</system-err>
</testcase>
<testcase name="AI Chat E2E › should create new conversation" classname="ai-chat.e2e.test.ts" time="0.047">
<failure message="ai-chat.e2e.test.ts:109:7 should create new conversation" type="FAILURE">
<![CDATA[  [electron] › ai-chat.e2e.test.ts:109:7 › AI Chat E2E › should create new conversation ────────────

    SqliteError: table cases has no column named case_number

       at ..\setup\test-database.ts:88

      86 |   try {
      87 |     // Insert sample case
    > 88 |     db.exec(`
         |        ^
      89 |       INSERT INTO cases (id, case_number, title, case_type, description, status, created_at, updated_at)
      90 |       VALUES (
      91 |         1,
        at Database.exec (C:\Users\sava6\Desktop\Justice Companion\node_modules\better-sqlite3\lib\methods\wrappers.js:9:14)
        at seedTestData (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\test-database.ts:88:8)
        at setupTestDatabase (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\test-database.ts:48:11)
        at launchElectronApp (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\electron-setup.ts:30:18)
        at C:\Users\sava6\Desktop\Justice Companion\tests\e2e\specs\ai-chat.e2e.test.ts:10:13

    TypeError: Cannot destructure property 'app' of 'testApp' as it is undefined.

       at ..\setup\electron-setup.ts:85

      83 |  */
      84 | export async function closeElectronApp(testApp: ElectronTestApp): Promise<void> {
    > 85 |   const { app, dbPath } = testApp;
         |           ^
      86 |
      87 |   try {
      88 |     // Close Electron app
        at closeElectronApp (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\electron-setup.ts:85:11)
        at C:\Users\sava6\Desktop\Justice Companion\tests\e2e\specs\ai-chat.e2e.test.ts:14:25

    attachment #1: trace (application/zip) ─────────────────────────────────────────────────────────
    ..\test-results\artifacts\ai-chat.e2e-AI-Chat-E2E-should-create-new-conversation-electron\trace.zip
    Usage:

        npx playwright show-trace ..\test-results\artifacts\ai-chat.e2e-AI-Chat-E2E-should-create-new-conversation-electron\trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[Test database created at: C:\Users\sava6\Desktop\Justice Companion\test-data\test-1759957676991.db

[[ATTACHMENT|artifacts\ai-chat.e2e-AI-Chat-E2E-should-create-new-conversation-electron\trace.zip]]
]]>
</system-out>
<system-err>
<![CDATA[Failed to seed test data: SqliteError: table cases has no column named case_number
    at Database.exec [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mbetter-sqlite3[24m\lib\methods\wrappers.js:9:14[90m)[39m
    at seedTestData [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\test-database.ts:88:8[90m)[39m
    at setupTestDatabase [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\test-database.ts:48:11[90m)[39m
    at launchElectronApp [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\electron-setup.ts:30:18[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\specs\ai-chat.e2e.test.ts:10:13
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:305:11
    at TimeoutManager.withRunnable [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\timeoutManager.js:67:14[90m)[39m
    at TestInfoImpl._runWithTimeout [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:303:7[90m)[39m
    at FixtureRunner.resolveParametersAndRunFunction [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\fixtureRunner.js:228:5[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:469:11
    at TestInfoImpl._runAsStep [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:294:7[90m)[39m
    at WorkerMain._runEachHooksForSuites [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:468:9[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:302:9
    at TestInfoImpl._runAsStep [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:294:7[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:298:7
    at WorkerMain._runTest [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:283:5[90m)[39m
    at WorkerMain.runTestGroup [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:198:11[90m)[39m
    at process.<anonymous> [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\common\process.js:65:22[90m)[39m {
  code: [32m'SQLITE_ERROR'[39m
}
]]>
</system-err>
</testcase>
</testsuite>
<testsuite name="case-management.e2e.test.ts" timestamp="2025-10-08T21:07:53.538Z" hostname="electron" tests="5" failures="5" skipped="0" time="150.053" errors="0">
<testcase name="Case Management E2E › should create new case and persist to database" classname="case-management.e2e.test.ts" time="30.015">
<failure message="case-management.e2e.test.ts:19:7 should create new case and persist to database" type="FAILURE">
<![CDATA[  [electron] › case-management.e2e.test.ts:19:7 › Case Management E2E › should create new case and persist to database 

    Test timeout of 30000ms exceeded while running "beforeEach" hook.

       6 | let testApp: ElectronTestApp;
       7 |
    >  8 | test.beforeEach(async () => {
         |      ^
       9 |   // Launch app with clean database (no seed data)
      10 |   testApp = await launchElectronApp({ seedData: false });
      11 | });
        at C:\Users\sava6\Desktop\Justice Companion\tests\e2e\specs\case-management.e2e.test.ts:8:6

    TypeError: Cannot destructure property 'app' of 'testApp' as it is undefined.

       at ..\setup\electron-setup.ts:85

      83 |  */
      84 | export async function closeElectronApp(testApp: ElectronTestApp): Promise<void> {
    > 85 |   const { app, dbPath } = testApp;
         |           ^
      86 |
      87 |   try {
      88 |     // Close Electron app
        at closeElectronApp (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\electron-setup.ts:85:11)
        at C:\Users\sava6\Desktop\Justice Companion\tests\e2e\specs\case-management.e2e.test.ts:15:25

    attachment #1: trace (application/zip) ─────────────────────────────────────────────────────────
    ..\test-results\artifacts\case-management.e2e-Case-M-91d6a-ase-and-persist-to-database-electron\trace.zip
    Usage:

        npx playwright show-trace ..\test-results\artifacts\case-management.e2e-Case-M-91d6a-ase-and-persist-to-database-electron\trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[Test database created at: C:\Users\sava6\Desktop\Justice Companion\test-data\test-1759957678084.db
Launching Electron from: C:\Users\sava6\Desktop\Justice Companion\electron\main.ts
Using test database: C:\Users\sava6\Desktop\Justice Companion\test-data\test-1759957678084.db

[[ATTACHMENT|artifacts\case-management.e2e-Case-M-91d6a-ase-and-persist-to-database-electron\trace.zip]]
]]>
</system-out>
</testcase>
<testcase name="Case Management E2E › should view case details" classname="case-management.e2e.test.ts" time="30.009">
<failure message="case-management.e2e.test.ts:70:7 should view case details" type="FAILURE">
<![CDATA[  [electron] › case-management.e2e.test.ts:70:7 › Case Management E2E › should view case details ───

    Test timeout of 30000ms exceeded while running "beforeEach" hook.

       6 | let testApp: ElectronTestApp;
       7 |
    >  8 | test.beforeEach(async () => {
         |      ^
       9 |   // Launch app with clean database (no seed data)
      10 |   testApp = await launchElectronApp({ seedData: false });
      11 | });
        at C:\Users\sava6\Desktop\Justice Companion\tests\e2e\specs\case-management.e2e.test.ts:8:6

    TypeError: Cannot destructure property 'app' of 'testApp' as it is undefined.

       at ..\setup\electron-setup.ts:85

      83 |  */
      84 | export async function closeElectronApp(testApp: ElectronTestApp): Promise<void> {
    > 85 |   const { app, dbPath } = testApp;
         |           ^
      86 |
      87 |   try {
      88 |     // Close Electron app
        at closeElectronApp (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\electron-setup.ts:85:11)
        at C:\Users\sava6\Desktop\Justice Companion\tests\e2e\specs\case-management.e2e.test.ts:15:25

    attachment #1: trace (application/zip) ─────────────────────────────────────────────────────────
    ..\test-results\artifacts\case-management.e2e-Case-M-745a4-2E-should-view-case-details-electron\trace.zip
    Usage:

        npx playwright show-trace ..\test-results\artifacts\case-management.e2e-Case-M-745a4-2E-should-view-case-details-electron\trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[Test database created at: C:\Users\sava6\Desktop\Justice Companion\test-data\test-1759957709179.db
Launching Electron from: C:\Users\sava6\Desktop\Justice Companion\electron\main.ts
Using test database: C:\Users\sava6\Desktop\Justice Companion\test-data\test-1759957709179.db

[[ATTACHMENT|artifacts\case-management.e2e-Case-M-745a4-2E-should-view-case-details-electron\trace.zip]]
]]>
</system-out>
</testcase>
<testcase name="Case Management E2E › should update case information" classname="case-management.e2e.test.ts" time="30.015">
<failure message="case-management.e2e.test.ts:102:7 should update case information" type="FAILURE">
<![CDATA[  [electron] › case-management.e2e.test.ts:102:7 › Case Management E2E › should update case information 

    Test timeout of 30000ms exceeded while running "beforeEach" hook.

       6 | let testApp: ElectronTestApp;
       7 |
    >  8 | test.beforeEach(async () => {
         |      ^
       9 |   // Launch app with clean database (no seed data)
      10 |   testApp = await launchElectronApp({ seedData: false });
      11 | });
        at C:\Users\sava6\Desktop\Justice Companion\tests\e2e\specs\case-management.e2e.test.ts:8:6

    TypeError: Cannot destructure property 'app' of 'testApp' as it is undefined.

       at ..\setup\electron-setup.ts:85

      83 |  */
      84 | export async function closeElectronApp(testApp: ElectronTestApp): Promise<void> {
    > 85 |   const { app, dbPath } = testApp;
         |           ^
      86 |
      87 |   try {
      88 |     // Close Electron app
        at closeElectronApp (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\electron-setup.ts:85:11)
        at C:\Users\sava6\Desktop\Justice Companion\tests\e2e\specs\case-management.e2e.test.ts:15:25

    TimeoutError: electron.launch: Timeout 30000ms exceeded.
    Call log:
      - <launching> "C:\Users\sava6\Desktop\Justice Companion\node_modules\electron\dist\electron.exe" "-r" "C:\Users\sava6\Desktop\Justice Companion\node_modules\playwright-core\lib\server\electron\loader.js" "--inspect=0" "--remote-debugging-port=0" "C:\Users\sava6\Desktop\Justice Companion\electron\main.ts"
      - <launched> pid=13172
      - [pid=13172][out]
      - [pid=13172][err] Debugger listening on ws://127.0.0.1:57528/701f7b16-5e02-4bfd-93ca-2f5a6a872871
      - [pid=13172][err] For help, see: https://nodejs.org/en/docs/inspector
      - <ws connecting> ws://127.0.0.1:57528/701f7b16-5e02-4bfd-93ca-2f5a6a872871
      - <ws connected> ws://127.0.0.1:57528/701f7b16-5e02-4bfd-93ca-2f5a6a872871
      - [pid=13172][err] Debugger attached.
      - [pid=13172][err] App threw an error during load
      - [pid=13172][err] Error [ERR_MODULE_NOT_FOUND]: Cannot find module 'C:\Users\sava6\Desktop\Justice Companion\src\utils\error-logger' imported from C:\Users\sava6\Desktop\Justice Companion\electron\main.ts
      - [pid=13172][err]     at finalizeResolution (node:internal/modules/esm/resolve:278:11)
      - [pid=13172][err]     at moduleResolve (node:internal/modules/esm/resolve:871:10)
      - [pid=13172][err]     at defaultResolve (node:internal/modules/esm/resolve:995:11)
      - [pid=13172][err]     at #cachedDefaultResolve (node:internal/modules/esm/loader:717:20)
      - [pid=13172][err]     at ModuleLoader.resolve (node:internal/modules/esm/loader:694:38)
      - [pid=13172][err]     at ModuleLoader.getModuleJobForImport (node:internal/modules/esm/loader:308:38)
      - [pid=13172][err]     at ModuleJob._link (node:internal/modules/esm/module_job:183:49)
      - [pid=13172][err]     at process.processTicksAndRejections (node:internal/process/task_queues:105:5)


       at ..\setup\electron-setup.ts:45

      43 |   try {
      44 |     // Launch Electron
    > 45 |     const app = await electron.launch({
         |                 ^
      46 |       args: [mainPath],
      47 |       env: {
      48 |         ...process.env,
        at launchElectronApp (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\electron-setup.ts:45:17)
        at C:\Users\sava6\Desktop\Justice Companion\tests\e2e\specs\case-management.e2e.test.ts:10:13

    attachment #1: trace (application/zip) ─────────────────────────────────────────────────────────
    ..\test-results\artifacts\case-management.e2e-Case-M-88e06-uld-update-case-information-electron\trace.zip
    Usage:

        npx playwright show-trace ..\test-results\artifacts\case-management.e2e-Case-M-88e06-uld-update-case-information-electron\trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[Test database created at: C:\Users\sava6\Desktop\Justice Companion\test-data\test-1759957740274.db
Launching Electron from: C:\Users\sava6\Desktop\Justice Companion\electron\main.ts
Using test database: C:\Users\sava6\Desktop\Justice Companion\test-data\test-1759957740274.db

[[ATTACHMENT|artifacts\case-management.e2e-Case-M-88e06-uld-update-case-information-electron\trace.zip]]
]]>
</system-out>
<system-err>
<![CDATA[Failed to launch Electron app: electron.launch: Timeout 30000ms exceeded.
Call log:
[2m  - <launching> "C:\Users\sava6\Desktop\Justice Companion\node_modules\electron\dist\electron.exe" "-r" "C:\Users\sava6\Desktop\Justice Companion\node_modules\playwright-core\lib\server\electron\loader.js" "--inspect=0" "--remote-debugging-port=0" "C:\Users\sava6\Desktop\Justice Companion\electron\main.ts"[22m
[2m  - <launched> pid=13172[22m
[2m  - [pid=13172][out][22m
[2m  - [pid=13172][err] Debugger listening on ws://127.0.0.1:57528/701f7b16-5e02-4bfd-93ca-2f5a6a872871[22m
[2m  - [pid=13172][err] For help, see: https://nodejs.org/en/docs/inspector[22m
[2m  - <ws connecting> ws://127.0.0.1:57528/701f7b16-5e02-4bfd-93ca-2f5a6a872871[22m
[2m  - <ws connected> ws://127.0.0.1:57528/701f7b16-5e02-4bfd-93ca-2f5a6a872871[22m
[2m  - [pid=13172][err] Debugger attached.[22m
[2m  - [pid=13172][err] App threw an error during load[22m
[2m  - [pid=13172][err] Error [ERR_MODULE_NOT_FOUND]: Cannot find module 'C:\Users\sava6\Desktop\Justice Companion\src\utils\error-logger' imported from C:\Users\sava6\Desktop\Justice Companion\electron\main.ts[22m
[2m  - [pid=13172][err]     at finalizeResolution (node:internal/modules/esm/resolve:278:11)[22m
[2m  - [pid=13172][err]     at moduleResolve (node:internal/modules/esm/resolve:871:10)[22m
[2m  - [pid=13172][err]     at defaultResolve (node:internal/modules/esm/resolve:995:11)[22m
[2m  - [pid=13172][err]     at #cachedDefaultResolve (node:internal/modules/esm/loader:717:20)[22m
[2m  - [pid=13172][err]     at ModuleLoader.resolve (node:internal/modules/esm/loader:694:38)[22m
[2m  - [pid=13172][err]     at ModuleLoader.getModuleJobForImport (node:internal/modules/esm/loader:308:38)[22m
[2m  - [pid=13172][err]     at ModuleJob._link (node:internal/modules/esm/module_job:183:49)[22m
[2m  - [pid=13172][err]     at process.processTicksAndRejections (node:internal/process/task_queues:105:5)[22m

    at launchElectronApp [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\electron-setup.ts:45:17[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\specs\case-management.e2e.test.ts:10:13 {
  name: [32m'TimeoutError'[39m
}
Failed to cleanup test database: Error: EBUSY: resource busy or locked, unlink 'C:\Users\sava6\Desktop\Justice Companion\test-data\test-1759957740274.db'
[90m    at Object.unlinkSync (node:fs:1952:11)[39m
    at cleanupTestDatabase [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\test-database.ts:65:10[90m)[39m
    at launchElectronApp [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\electron-setup.ts:76:30[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\specs\case-management.e2e.test.ts:10:13
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:305:11 {
  errno: [33m-4082[39m,
  code: [32m'EBUSY'[39m,
  syscall: [32m'unlink'[39m,
  path: [32m'C:\\Users\\sava6\\Desktop\\Justice Companion\\test-data\\test-1759957740274.db'[39m
}
]]>
</system-err>
</testcase>
<testcase name="Case Management E2E › should delete case" classname="case-management.e2e.test.ts" time="30.004">
<failure message="case-management.e2e.test.ts:152:7 should delete case" type="FAILURE">
<![CDATA[  [electron] › case-management.e2e.test.ts:152:7 › Case Management E2E › should delete case ────────

    Test timeout of 30000ms exceeded while running "beforeEach" hook.

       6 | let testApp: ElectronTestApp;
       7 |
    >  8 | test.beforeEach(async () => {
         |      ^
       9 |   // Launch app with clean database (no seed data)
      10 |   testApp = await launchElectronApp({ seedData: false });
      11 | });
        at C:\Users\sava6\Desktop\Justice Companion\tests\e2e\specs\case-management.e2e.test.ts:8:6

    TypeError: Cannot destructure property 'app' of 'testApp' as it is undefined.

       at ..\setup\electron-setup.ts:85

      83 |  */
      84 | export async function closeElectronApp(testApp: ElectronTestApp): Promise<void> {
    > 85 |   const { app, dbPath } = testApp;
         |           ^
      86 |
      87 |   try {
      88 |     // Close Electron app
        at closeElectronApp (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\electron-setup.ts:85:11)
        at C:\Users\sava6\Desktop\Justice Companion\tests\e2e\specs\case-management.e2e.test.ts:15:25

    attachment #1: trace (application/zip) ─────────────────────────────────────────────────────────
    ..\test-results\artifacts\case-management.e2e-Case-Management-E2E-should-delete-case-electron\trace.zip
    Usage:

        npx playwright show-trace ..\test-results\artifacts\case-management.e2e-Case-Management-E2E-should-delete-case-electron\trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[Test database created at: C:\Users\sava6\Desktop\Justice Companion\test-data\test-1759957772782.db
Launching Electron from: C:\Users\sava6\Desktop\Justice Companion\electron\main.ts
Using test database: C:\Users\sava6\Desktop\Justice Companion\test-data\test-1759957772782.db

[[ATTACHMENT|artifacts\case-management.e2e-Case-Management-E2E-should-delete-case-electron\trace.zip]]
]]>
</system-out>
</testcase>
<testcase name="Case Management E2E › should verify case persistence across app restarts" classname="case-management.e2e.test.ts" time="30.01">
<failure message="case-management.e2e.test.ts:201:7 should verify case persistence across app restarts" type="FAILURE">
<![CDATA[  [electron] › case-management.e2e.test.ts:201:7 › Case Management E2E › should verify case persistence across app restarts 

    Test timeout of 30000ms exceeded while running "beforeEach" hook.

       6 | let testApp: ElectronTestApp;
       7 |
    >  8 | test.beforeEach(async () => {
         |      ^
       9 |   // Launch app with clean database (no seed data)
      10 |   testApp = await launchElectronApp({ seedData: false });
      11 | });
        at C:\Users\sava6\Desktop\Justice Companion\tests\e2e\specs\case-management.e2e.test.ts:8:6

    TypeError: Cannot destructure property 'app' of 'testApp' as it is undefined.

       at ..\setup\electron-setup.ts:85

      83 |  */
      84 | export async function closeElectronApp(testApp: ElectronTestApp): Promise<void> {
    > 85 |   const { app, dbPath } = testApp;
         |           ^
      86 |
      87 |   try {
      88 |     // Close Electron app
        at closeElectronApp (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\electron-setup.ts:85:11)
        at C:\Users\sava6\Desktop\Justice Companion\tests\e2e\specs\case-management.e2e.test.ts:15:25

    attachment #1: trace (application/zip) ─────────────────────────────────────────────────────────
    ..\test-results\artifacts\case-management.e2e-Case-M-b0bfd-istence-across-app-restarts-electron\trace.zip
    Usage:

        npx playwright show-trace ..\test-results\artifacts\case-management.e2e-Case-M-b0bfd-istence-across-app-restarts-electron\trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[Test database created at: C:\Users\sava6\Desktop\Justice Companion\test-data\test-1759957803846.db
Launching Electron from: C:\Users\sava6\Desktop\Justice Companion\electron\main.ts
Using test database: C:\Users\sava6\Desktop\Justice Companion\test-data\test-1759957803846.db

[[ATTACHMENT|artifacts\case-management.e2e-Case-M-b0bfd-istence-across-app-restarts-electron\trace.zip]]
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="evidence-upload.e2e.test.ts" timestamp="2025-10-08T21:07:53.538Z" hostname="electron" tests="4" failures="4" skipped="0" time="0.188" errors="0">
<testcase name="Evidence Upload E2E › should upload document evidence" classname="evidence-upload.e2e.test.ts" time="0.049">
<failure message="evidence-upload.e2e.test.ts:21:7 should upload document evidence" type="FAILURE">
<![CDATA[  [electron] › evidence-upload.e2e.test.ts:21:7 › Evidence Upload E2E › should upload document evidence 

    SqliteError: table cases has no column named case_number

       at ..\setup\test-database.ts:88

      86 |   try {
      87 |     // Insert sample case
    > 88 |     db.exec(`
         |        ^
      89 |       INSERT INTO cases (id, case_number, title, case_type, description, status, created_at, updated_at)
      90 |       VALUES (
      91 |         1,
        at Database.exec (C:\Users\sava6\Desktop\Justice Companion\node_modules\better-sqlite3\lib\methods\wrappers.js:9:14)
        at seedTestData (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\test-database.ts:88:8)
        at setupTestDatabase (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\test-database.ts:48:11)
        at launchElectronApp (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\electron-setup.ts:30:18)
        at C:\Users\sava6\Desktop\Justice Companion\tests\e2e\specs\evidence-upload.e2e.test.ts:10:13

    TypeError: Cannot destructure property 'app' of 'testApp' as it is undefined.

       at ..\setup\electron-setup.ts:85

      83 |  */
      84 | export async function closeElectronApp(testApp: ElectronTestApp): Promise<void> {
    > 85 |   const { app, dbPath } = testApp;
         |           ^
      86 |
      87 |   try {
      88 |     // Close Electron app
        at closeElectronApp (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\electron-setup.ts:85:11)
        at C:\Users\sava6\Desktop\Justice Companion\tests\e2e\specs\evidence-upload.e2e.test.ts:17:25

    attachment #1: trace (application/zip) ─────────────────────────────────────────────────────────
    ..\test-results\artifacts\evidence-upload.e2e-Eviden-31859-ld-upload-document-evidence-electron\trace.zip
    Usage:

        npx playwright show-trace ..\test-results\artifacts\evidence-upload.e2e-Eviden-31859-ld-upload-document-evidence-electron\trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[Test database created at: C:\Users\sava6\Desktop\Justice Companion\test-data\test-1759957834872.db

[[ATTACHMENT|artifacts\evidence-upload.e2e-Eviden-31859-ld-upload-document-evidence-electron\trace.zip]]
]]>
</system-out>
<system-err>
<![CDATA[Failed to seed test data: SqliteError: table cases has no column named case_number
    at Database.exec [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mbetter-sqlite3[24m\lib\methods\wrappers.js:9:14[90m)[39m
    at seedTestData [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\test-database.ts:88:8[90m)[39m
    at setupTestDatabase [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\test-database.ts:48:11[90m)[39m
    at launchElectronApp [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\electron-setup.ts:30:18[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\specs\evidence-upload.e2e.test.ts:10:13
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:305:11
    at TimeoutManager.withRunnable [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\timeoutManager.js:67:14[90m)[39m
    at TestInfoImpl._runWithTimeout [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:303:7[90m)[39m
    at FixtureRunner.resolveParametersAndRunFunction [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\fixtureRunner.js:228:5[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:469:11
    at TestInfoImpl._runAsStep [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:294:7[90m)[39m
    at WorkerMain._runEachHooksForSuites [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:468:9[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:302:9
    at TestInfoImpl._runAsStep [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:294:7[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:298:7
    at WorkerMain._runTest [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:283:5[90m)[39m
    at WorkerMain.runTestGroup [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:198:11[90m)[39m
    at process.<anonymous> [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\common\process.js:65:22[90m)[39m {
  code: [32m'SQLITE_ERROR'[39m
}
]]>
</system-err>
</testcase>
<testcase name="Evidence Upload E2E › should upload photo evidence" classname="evidence-upload.e2e.test.ts" time="0.046">
<failure message="evidence-upload.e2e.test.ts:86:7 should upload photo evidence" type="FAILURE">
<![CDATA[  [electron] › evidence-upload.e2e.test.ts:86:7 › Evidence Upload E2E › should upload photo evidence 

    SqliteError: table cases has no column named case_number

       at ..\setup\test-database.ts:88

      86 |   try {
      87 |     // Insert sample case
    > 88 |     db.exec(`
         |        ^
      89 |       INSERT INTO cases (id, case_number, title, case_type, description, status, created_at, updated_at)
      90 |       VALUES (
      91 |         1,
        at Database.exec (C:\Users\sava6\Desktop\Justice Companion\node_modules\better-sqlite3\lib\methods\wrappers.js:9:14)
        at seedTestData (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\test-database.ts:88:8)
        at setupTestDatabase (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\test-database.ts:48:11)
        at launchElectronApp (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\electron-setup.ts:30:18)
        at C:\Users\sava6\Desktop\Justice Companion\tests\e2e\specs\evidence-upload.e2e.test.ts:10:13

    TypeError: Cannot destructure property 'app' of 'testApp' as it is undefined.

       at ..\setup\electron-setup.ts:85

      83 |  */
      84 | export async function closeElectronApp(testApp: ElectronTestApp): Promise<void> {
    > 85 |   const { app, dbPath } = testApp;
         |           ^
      86 |
      87 |   try {
      88 |     // Close Electron app
        at closeElectronApp (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\electron-setup.ts:85:11)
        at C:\Users\sava6\Desktop\Justice Companion\tests\e2e\specs\evidence-upload.e2e.test.ts:17:25

    attachment #1: trace (application/zip) ─────────────────────────────────────────────────────────
    ..\test-results\artifacts\evidence-upload.e2e-Eviden-a5615-hould-upload-photo-evidence-electron\trace.zip
    Usage:

        npx playwright show-trace ..\test-results\artifacts\evidence-upload.e2e-Eviden-a5615-hould-upload-photo-evidence-electron\trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[Test database created at: C:\Users\sava6\Desktop\Justice Companion\test-data\test-1759957835890.db

[[ATTACHMENT|artifacts\evidence-upload.e2e-Eviden-a5615-hould-upload-photo-evidence-electron\trace.zip]]
]]>
</system-out>
<system-err>
<![CDATA[Failed to seed test data: SqliteError: table cases has no column named case_number
    at Database.exec [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mbetter-sqlite3[24m\lib\methods\wrappers.js:9:14[90m)[39m
    at seedTestData [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\test-database.ts:88:8[90m)[39m
    at setupTestDatabase [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\test-database.ts:48:11[90m)[39m
    at launchElectronApp [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\electron-setup.ts:30:18[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\specs\evidence-upload.e2e.test.ts:10:13
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:305:11
    at TimeoutManager.withRunnable [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\timeoutManager.js:67:14[90m)[39m
    at TestInfoImpl._runWithTimeout [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:303:7[90m)[39m
    at FixtureRunner.resolveParametersAndRunFunction [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\fixtureRunner.js:228:5[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:469:11
    at TestInfoImpl._runAsStep [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:294:7[90m)[39m
    at WorkerMain._runEachHooksForSuites [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:468:9[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:302:9
    at TestInfoImpl._runAsStep [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:294:7[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:298:7
    at WorkerMain._runTest [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:283:5[90m)[39m
    at WorkerMain.runTestGroup [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:198:11[90m)[39m
    at process.<anonymous> [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\common\process.js:65:22[90m)[39m {
  code: [32m'SQLITE_ERROR'[39m
}
]]>
</system-err>
</testcase>
<testcase name="Evidence Upload E2E › should view uploaded evidence" classname="evidence-upload.e2e.test.ts" time="0.046">
<failure message="evidence-upload.e2e.test.ts:134:7 should view uploaded evidence" type="FAILURE">
<![CDATA[  [electron] › evidence-upload.e2e.test.ts:134:7 › Evidence Upload E2E › should view uploaded evidence 

    SqliteError: table cases has no column named case_number

       at ..\setup\test-database.ts:88

      86 |   try {
      87 |     // Insert sample case
    > 88 |     db.exec(`
         |        ^
      89 |       INSERT INTO cases (id, case_number, title, case_type, description, status, created_at, updated_at)
      90 |       VALUES (
      91 |         1,
        at Database.exec (C:\Users\sava6\Desktop\Justice Companion\node_modules\better-sqlite3\lib\methods\wrappers.js:9:14)
        at seedTestData (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\test-database.ts:88:8)
        at setupTestDatabase (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\test-database.ts:48:11)
        at launchElectronApp (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\electron-setup.ts:30:18)
        at C:\Users\sava6\Desktop\Justice Companion\tests\e2e\specs\evidence-upload.e2e.test.ts:10:13

    TypeError: Cannot destructure property 'app' of 'testApp' as it is undefined.

       at ..\setup\electron-setup.ts:85

      83 |  */
      84 | export async function closeElectronApp(testApp: ElectronTestApp): Promise<void> {
    > 85 |   const { app, dbPath } = testApp;
         |           ^
      86 |
      87 |   try {
      88 |     // Close Electron app
        at closeElectronApp (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\electron-setup.ts:85:11)
        at C:\Users\sava6\Desktop\Justice Companion\tests\e2e\specs\evidence-upload.e2e.test.ts:17:25

    attachment #1: trace (application/zip) ─────────────────────────────────────────────────────────
    ..\test-results\artifacts\evidence-upload.e2e-Eviden-16422-ould-view-uploaded-evidence-electron\trace.zip
    Usage:

        npx playwright show-trace ..\test-results\artifacts\evidence-upload.e2e-Eviden-16422-ould-view-uploaded-evidence-electron\trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[Test database created at: C:\Users\sava6\Desktop\Justice Companion\test-data\test-1759957837004.db

[[ATTACHMENT|artifacts\evidence-upload.e2e-Eviden-16422-ould-view-uploaded-evidence-electron\trace.zip]]
]]>
</system-out>
<system-err>
<![CDATA[Failed to seed test data: SqliteError: table cases has no column named case_number
    at Database.exec [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mbetter-sqlite3[24m\lib\methods\wrappers.js:9:14[90m)[39m
    at seedTestData [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\test-database.ts:88:8[90m)[39m
    at setupTestDatabase [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\test-database.ts:48:11[90m)[39m
    at launchElectronApp [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\electron-setup.ts:30:18[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\specs\evidence-upload.e2e.test.ts:10:13
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:305:11
    at TimeoutManager.withRunnable [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\timeoutManager.js:67:14[90m)[39m
    at TestInfoImpl._runWithTimeout [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:303:7[90m)[39m
    at FixtureRunner.resolveParametersAndRunFunction [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\fixtureRunner.js:228:5[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:469:11
    at TestInfoImpl._runAsStep [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:294:7[90m)[39m
    at WorkerMain._runEachHooksForSuites [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:468:9[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:302:9
    at TestInfoImpl._runAsStep [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:294:7[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:298:7
    at WorkerMain._runTest [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:283:5[90m)[39m
    at WorkerMain.runTestGroup [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:198:11[90m)[39m
    at process.<anonymous> [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\common\process.js:65:22[90m)[39m {
  code: [32m'SQLITE_ERROR'[39m
}
]]>
</system-err>
</testcase>
<testcase name="Evidence Upload E2E › should delete evidence" classname="evidence-upload.e2e.test.ts" time="0.047">
<failure message="evidence-upload.e2e.test.ts:167:7 should delete evidence" type="FAILURE">
<![CDATA[  [electron] › evidence-upload.e2e.test.ts:167:7 › Evidence Upload E2E › should delete evidence ────

    SqliteError: table cases has no column named case_number

       at ..\setup\test-database.ts:88

      86 |   try {
      87 |     // Insert sample case
    > 88 |     db.exec(`
         |        ^
      89 |       INSERT INTO cases (id, case_number, title, case_type, description, status, created_at, updated_at)
      90 |       VALUES (
      91 |         1,
        at Database.exec (C:\Users\sava6\Desktop\Justice Companion\node_modules\better-sqlite3\lib\methods\wrappers.js:9:14)
        at seedTestData (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\test-database.ts:88:8)
        at setupTestDatabase (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\test-database.ts:48:11)
        at launchElectronApp (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\electron-setup.ts:30:18)
        at C:\Users\sava6\Desktop\Justice Companion\tests\e2e\specs\evidence-upload.e2e.test.ts:10:13

    TypeError: Cannot destructure property 'app' of 'testApp' as it is undefined.

       at ..\setup\electron-setup.ts:85

      83 |  */
      84 | export async function closeElectronApp(testApp: ElectronTestApp): Promise<void> {
    > 85 |   const { app, dbPath } = testApp;
         |           ^
      86 |
      87 |   try {
      88 |     // Close Electron app
        at closeElectronApp (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\electron-setup.ts:85:11)
        at C:\Users\sava6\Desktop\Justice Companion\tests\e2e\specs\evidence-upload.e2e.test.ts:17:25

    attachment #1: trace (application/zip) ─────────────────────────────────────────────────────────
    ..\test-results\artifacts\evidence-upload.e2e-Eviden-dbfd5--E2E-should-delete-evidence-electron\trace.zip
    Usage:

        npx playwright show-trace ..\test-results\artifacts\evidence-upload.e2e-Eviden-dbfd5--E2E-should-delete-evidence-electron\trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[Test database created at: C:\Users\sava6\Desktop\Justice Companion\test-data\test-1759957838011.db

[[ATTACHMENT|artifacts\evidence-upload.e2e-Eviden-dbfd5--E2E-should-delete-evidence-electron\trace.zip]]
]]>
</system-out>
<system-err>
<![CDATA[Failed to seed test data: SqliteError: table cases has no column named case_number
    at Database.exec [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mbetter-sqlite3[24m\lib\methods\wrappers.js:9:14[90m)[39m
    at seedTestData [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\test-database.ts:88:8[90m)[39m
    at setupTestDatabase [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\test-database.ts:48:11[90m)[39m
    at launchElectronApp [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\electron-setup.ts:30:18[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\specs\evidence-upload.e2e.test.ts:10:13
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:305:11
    at TimeoutManager.withRunnable [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\timeoutManager.js:67:14[90m)[39m
    at TestInfoImpl._runWithTimeout [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:303:7[90m)[39m
    at FixtureRunner.resolveParametersAndRunFunction [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\fixtureRunner.js:228:5[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:469:11
    at TestInfoImpl._runAsStep [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:294:7[90m)[39m
    at WorkerMain._runEachHooksForSuites [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:468:9[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:302:9
    at TestInfoImpl._runAsStep [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:294:7[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:298:7
    at WorkerMain._runTest [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:283:5[90m)[39m
    at WorkerMain.runTestGroup [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:198:11[90m)[39m
    at process.<anonymous> [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\common\process.js:65:22[90m)[39m {
  code: [32m'SQLITE_ERROR'[39m
}
]]>
</system-err>
</testcase>
</testsuite>
<testsuite name="facts-tracking.e2e.test.ts" timestamp="2025-10-08T21:07:53.538Z" hostname="electron" tests="4" failures="4" skipped="0" time="0.189" errors="0">
<testcase name="Facts Tracking E2E › should create user fact" classname="facts-tracking.e2e.test.ts" time="0.048">
<failure message="facts-tracking.e2e.test.ts:17:7 should create user fact" type="FAILURE">
<![CDATA[  [electron] › facts-tracking.e2e.test.ts:17:7 › Facts Tracking E2E › should create user fact ──────

    SqliteError: table cases has no column named case_number

       at ..\setup\test-database.ts:88

      86 |   try {
      87 |     // Insert sample case
    > 88 |     db.exec(`
         |        ^
      89 |       INSERT INTO cases (id, case_number, title, case_type, description, status, created_at, updated_at)
      90 |       VALUES (
      91 |         1,
        at Database.exec (C:\Users\sava6\Desktop\Justice Companion\node_modules\better-sqlite3\lib\methods\wrappers.js:9:14)
        at seedTestData (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\test-database.ts:88:8)
        at setupTestDatabase (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\test-database.ts:48:11)
        at launchElectronApp (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\electron-setup.ts:30:18)
        at C:\Users\sava6\Desktop\Justice Companion\tests\e2e\specs\facts-tracking.e2e.test.ts:9:13

    TypeError: Cannot destructure property 'app' of 'testApp' as it is undefined.

       at ..\setup\electron-setup.ts:85

      83 |  */
      84 | export async function closeElectronApp(testApp: ElectronTestApp): Promise<void> {
    > 85 |   const { app, dbPath } = testApp;
         |           ^
      86 |
      87 |   try {
      88 |     // Close Electron app
        at closeElectronApp (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\electron-setup.ts:85:11)
        at C:\Users\sava6\Desktop\Justice Companion\tests\e2e\specs\facts-tracking.e2e.test.ts:13:25

    attachment #1: trace (application/zip) ─────────────────────────────────────────────────────────
    ..\test-results\artifacts\facts-tracking.e2e-Facts-T-70930-E2E-should-create-user-fact-electron\trace.zip
    Usage:

        npx playwright show-trace ..\test-results\artifacts\facts-tracking.e2e-Facts-T-70930-E2E-should-create-user-fact-electron\trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[Test database created at: C:\Users\sava6\Desktop\Justice Companion\test-data\test-1759957839047.db

[[ATTACHMENT|artifacts\facts-tracking.e2e-Facts-T-70930-E2E-should-create-user-fact-electron\trace.zip]]
]]>
</system-out>
<system-err>
<![CDATA[Failed to seed test data: SqliteError: table cases has no column named case_number
    at Database.exec [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mbetter-sqlite3[24m\lib\methods\wrappers.js:9:14[90m)[39m
    at seedTestData [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\test-database.ts:88:8[90m)[39m
    at setupTestDatabase [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\test-database.ts:48:11[90m)[39m
    at launchElectronApp [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\electron-setup.ts:30:18[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\specs\facts-tracking.e2e.test.ts:9:13
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:305:11
    at TimeoutManager.withRunnable [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\timeoutManager.js:67:14[90m)[39m
    at TestInfoImpl._runWithTimeout [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:303:7[90m)[39m
    at FixtureRunner.resolveParametersAndRunFunction [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\fixtureRunner.js:228:5[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:469:11
    at TestInfoImpl._runAsStep [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:294:7[90m)[39m
    at WorkerMain._runEachHooksForSuites [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:468:9[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:302:9
    at TestInfoImpl._runAsStep [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:294:7[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:298:7
    at WorkerMain._runTest [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:283:5[90m)[39m
    at WorkerMain.runTestGroup [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:198:11[90m)[39m
    at process.<anonymous> [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\common\process.js:65:22[90m)[39m {
  code: [32m'SQLITE_ERROR'[39m
}
]]>
</system-err>
</testcase>
<testcase name="Facts Tracking E2E › should create case fact" classname="facts-tracking.e2e.test.ts" time="0.046">
<failure message="facts-tracking.e2e.test.ts:82:7 should create case fact" type="FAILURE">
<![CDATA[  [electron] › facts-tracking.e2e.test.ts:82:7 › Facts Tracking E2E › should create case fact ──────

    SqliteError: table cases has no column named case_number

       at ..\setup\test-database.ts:88

      86 |   try {
      87 |     // Insert sample case
    > 88 |     db.exec(`
         |        ^
      89 |       INSERT INTO cases (id, case_number, title, case_type, description, status, created_at, updated_at)
      90 |       VALUES (
      91 |         1,
        at Database.exec (C:\Users\sava6\Desktop\Justice Companion\node_modules\better-sqlite3\lib\methods\wrappers.js:9:14)
        at seedTestData (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\test-database.ts:88:8)
        at setupTestDatabase (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\test-database.ts:48:11)
        at launchElectronApp (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\electron-setup.ts:30:18)
        at C:\Users\sava6\Desktop\Justice Companion\tests\e2e\specs\facts-tracking.e2e.test.ts:9:13

    TypeError: Cannot destructure property 'app' of 'testApp' as it is undefined.

       at ..\setup\electron-setup.ts:85

      83 |  */
      84 | export async function closeElectronApp(testApp: ElectronTestApp): Promise<void> {
    > 85 |   const { app, dbPath } = testApp;
         |           ^
      86 |
      87 |   try {
      88 |     // Close Electron app
        at closeElectronApp (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\electron-setup.ts:85:11)
        at C:\Users\sava6\Desktop\Justice Companion\tests\e2e\specs\facts-tracking.e2e.test.ts:13:25

    attachment #1: trace (application/zip) ─────────────────────────────────────────────────────────
    ..\test-results\artifacts\facts-tracking.e2e-Facts-T-deb0a-E2E-should-create-case-fact-electron\trace.zip
    Usage:

        npx playwright show-trace ..\test-results\artifacts\facts-tracking.e2e-Facts-T-deb0a-E2E-should-create-case-fact-electron\trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[Test database created at: C:\Users\sava6\Desktop\Justice Companion\test-data\test-1759957840054.db

[[ATTACHMENT|artifacts\facts-tracking.e2e-Facts-T-deb0a-E2E-should-create-case-fact-electron\trace.zip]]
]]>
</system-out>
<system-err>
<![CDATA[Failed to seed test data: SqliteError: table cases has no column named case_number
    at Database.exec [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mbetter-sqlite3[24m\lib\methods\wrappers.js:9:14[90m)[39m
    at seedTestData [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\test-database.ts:88:8[90m)[39m
    at setupTestDatabase [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\test-database.ts:48:11[90m)[39m
    at launchElectronApp [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\electron-setup.ts:30:18[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\specs\facts-tracking.e2e.test.ts:9:13
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:305:11
    at TimeoutManager.withRunnable [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\timeoutManager.js:67:14[90m)[39m
    at TestInfoImpl._runWithTimeout [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:303:7[90m)[39m
    at FixtureRunner.resolveParametersAndRunFunction [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\fixtureRunner.js:228:5[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:469:11
    at TestInfoImpl._runAsStep [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:294:7[90m)[39m
    at WorkerMain._runEachHooksForSuites [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:468:9[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:302:9
    at TestInfoImpl._runAsStep [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:294:7[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:298:7
    at WorkerMain._runTest [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:283:5[90m)[39m
    at WorkerMain.runTestGroup [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:198:11[90m)[39m
    at process.<anonymous> [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\common\process.js:65:22[90m)[39m {
  code: [32m'SQLITE_ERROR'[39m
}
]]>
</system-err>
</testcase>
<testcase name="Facts Tracking E2E › should filter facts by category" classname="facts-tracking.e2e.test.ts" time="0.046">
<failure message="facts-tracking.e2e.test.ts:152:7 should filter facts by category" type="FAILURE">
<![CDATA[  [electron] › facts-tracking.e2e.test.ts:152:7 › Facts Tracking E2E › should filter facts by category 

    SqliteError: table cases has no column named case_number

       at ..\setup\test-database.ts:88

      86 |   try {
      87 |     // Insert sample case
    > 88 |     db.exec(`
         |        ^
      89 |       INSERT INTO cases (id, case_number, title, case_type, description, status, created_at, updated_at)
      90 |       VALUES (
      91 |         1,
        at Database.exec (C:\Users\sava6\Desktop\Justice Companion\node_modules\better-sqlite3\lib\methods\wrappers.js:9:14)
        at seedTestData (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\test-database.ts:88:8)
        at setupTestDatabase (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\test-database.ts:48:11)
        at launchElectronApp (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\electron-setup.ts:30:18)
        at C:\Users\sava6\Desktop\Justice Companion\tests\e2e\specs\facts-tracking.e2e.test.ts:9:13

    TypeError: Cannot destructure property 'app' of 'testApp' as it is undefined.

       at ..\setup\electron-setup.ts:85

      83 |  */
      84 | export async function closeElectronApp(testApp: ElectronTestApp): Promise<void> {
    > 85 |   const { app, dbPath } = testApp;
         |           ^
      86 |
      87 |   try {
      88 |     // Close Electron app
        at closeElectronApp (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\electron-setup.ts:85:11)
        at C:\Users\sava6\Desktop\Justice Companion\tests\e2e\specs\facts-tracking.e2e.test.ts:13:25

    attachment #1: trace (application/zip) ─────────────────────────────────────────────────────────
    ..\test-results\artifacts\facts-tracking.e2e-Facts-T-29419-ld-filter-facts-by-category-electron\trace.zip
    Usage:

        npx playwright show-trace ..\test-results\artifacts\facts-tracking.e2e-Facts-T-29419-ld-filter-facts-by-category-electron\trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[Test database created at: C:\Users\sava6\Desktop\Justice Companion\test-data\test-1759957841065.db

[[ATTACHMENT|artifacts\facts-tracking.e2e-Facts-T-29419-ld-filter-facts-by-category-electron\trace.zip]]
]]>
</system-out>
<system-err>
<![CDATA[Failed to seed test data: SqliteError: table cases has no column named case_number
    at Database.exec [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mbetter-sqlite3[24m\lib\methods\wrappers.js:9:14[90m)[39m
    at seedTestData [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\test-database.ts:88:8[90m)[39m
    at setupTestDatabase [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\test-database.ts:48:11[90m)[39m
    at launchElectronApp [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\electron-setup.ts:30:18[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\specs\facts-tracking.e2e.test.ts:9:13
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:305:11
    at TimeoutManager.withRunnable [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\timeoutManager.js:67:14[90m)[39m
    at TestInfoImpl._runWithTimeout [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:303:7[90m)[39m
    at FixtureRunner.resolveParametersAndRunFunction [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\fixtureRunner.js:228:5[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:469:11
    at TestInfoImpl._runAsStep [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:294:7[90m)[39m
    at WorkerMain._runEachHooksForSuites [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:468:9[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:302:9
    at TestInfoImpl._runAsStep [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:294:7[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:298:7
    at WorkerMain._runTest [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:283:5[90m)[39m
    at WorkerMain.runTestGroup [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:198:11[90m)[39m
    at process.<anonymous> [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\common\process.js:65:22[90m)[39m {
  code: [32m'SQLITE_ERROR'[39m
}
]]>
</system-err>
</testcase>
<testcase name="Facts Tracking E2E › should update and delete facts" classname="facts-tracking.e2e.test.ts" time="0.049">
<failure message="facts-tracking.e2e.test.ts:194:7 should update and delete facts" type="FAILURE">
<![CDATA[  [electron] › facts-tracking.e2e.test.ts:194:7 › Facts Tracking E2E › should update and delete facts 

    SqliteError: table cases has no column named case_number

       at ..\setup\test-database.ts:88

      86 |   try {
      87 |     // Insert sample case
    > 88 |     db.exec(`
         |        ^
      89 |       INSERT INTO cases (id, case_number, title, case_type, description, status, created_at, updated_at)
      90 |       VALUES (
      91 |         1,
        at Database.exec (C:\Users\sava6\Desktop\Justice Companion\node_modules\better-sqlite3\lib\methods\wrappers.js:9:14)
        at seedTestData (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\test-database.ts:88:8)
        at setupTestDatabase (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\test-database.ts:48:11)
        at launchElectronApp (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\electron-setup.ts:30:18)
        at C:\Users\sava6\Desktop\Justice Companion\tests\e2e\specs\facts-tracking.e2e.test.ts:9:13

    TypeError: Cannot destructure property 'app' of 'testApp' as it is undefined.

       at ..\setup\electron-setup.ts:85

      83 |  */
      84 | export async function closeElectronApp(testApp: ElectronTestApp): Promise<void> {
    > 85 |   const { app, dbPath } = testApp;
         |           ^
      86 |
      87 |   try {
      88 |     // Close Electron app
        at closeElectronApp (C:\Users\sava6\Desktop\Justice Companion\tests\e2e\setup\electron-setup.ts:85:11)
        at C:\Users\sava6\Desktop\Justice Companion\tests\e2e\specs\facts-tracking.e2e.test.ts:13:25

    attachment #1: trace (application/zip) ─────────────────────────────────────────────────────────
    ..\test-results\artifacts\facts-tracking.e2e-Facts-T-b1e66-uld-update-and-delete-facts-electron\trace.zip
    Usage:

        npx playwright show-trace ..\test-results\artifacts\facts-tracking.e2e-Facts-T-b1e66-uld-update-and-delete-facts-electron\trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[Test database created at: C:\Users\sava6\Desktop\Justice Companion\test-data\test-1759957842134.db

[[ATTACHMENT|artifacts\facts-tracking.e2e-Facts-T-b1e66-uld-update-and-delete-facts-electron\trace.zip]]
]]>
</system-out>
<system-err>
<![CDATA[Failed to seed test data: SqliteError: table cases has no column named case_number
    at Database.exec [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mbetter-sqlite3[24m\lib\methods\wrappers.js:9:14[90m)[39m
    at seedTestData [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\test-database.ts:88:8[90m)[39m
    at setupTestDatabase [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\test-database.ts:48:11[90m)[39m
    at launchElectronApp [90m(C:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\setup\electron-setup.ts:30:18[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mtests\e2e\specs\facts-tracking.e2e.test.ts:9:13
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:305:11
    at TimeoutManager.withRunnable [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\timeoutManager.js:67:14[90m)[39m
    at TestInfoImpl._runWithTimeout [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:303:7[90m)[39m
    at FixtureRunner.resolveParametersAndRunFunction [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\fixtureRunner.js:228:5[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:469:11
    at TestInfoImpl._runAsStep [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:294:7[90m)[39m
    at WorkerMain._runEachHooksForSuites [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:468:9[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:302:9
    at TestInfoImpl._runAsStep [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\testInfo.js:294:7[90m)[39m
    at [90mC:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:298:7
    at WorkerMain._runTest [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:283:5[90m)[39m
    at WorkerMain.runTestGroup [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\worker\workerMain.js:198:11[90m)[39m
    at process.<anonymous> [90m(C:\Users\sava6\Desktop\Justice Companion\[39mnode_modules\[4mplaywright[24m\lib\common\process.js:65:22[90m)[39m {
  code: [32m'SQLITE_ERROR'[39m
}
]]>
</system-err>
</testcase>
</testsuite>
<testsuite name="user-journey.e2e.test.ts" timestamp="2025-10-08T21:07:53.538Z" hostname="electron" tests="1" failures="0" skipped="1" time="13.757" errors="0">
<testcase name="Complete User Journey E2E › should complete full workflow: create case → add evidence → add facts → chat with AI → verify persistence" classname="user-journey.e2e.test.ts" time="13.757">
<skipped>
</skipped>
</testcase>
</testsuite>
</testsuites>