{
  "id": "6eddcd14-acce-4e9b-9374-d9d621ae771f",
  "type": "test_failure",
  "status": "pending",
  "created_at": "2025-10-06T23:19:06.586631+00:00",
  "created_by": "test_runner",
  "files": [
    "C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\services\\AuditLogger.ts"
  ],
  "test_result": {
    "passed": false,
    "returncode": 1,
    "stdout": "\n> justice-companion@1.0.0 test\n> vitest --run\n\n\n\u001b[1m\u001b[7m\u001b[36m RUN \u001b[39m\u001b[27m\u001b[22m \u001b[36mv2.1.9 \u001b[39m\u001b[90mC:/Users/sava6/Desktop/Justice Companion\u001b[39m\n\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mcreateUserFact\u001b[2m > \u001b[22mshould create a user fact with valid input\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mcreateUserFact\u001b[2m > \u001b[22mshould create a user fact with different fact types\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mcreateUserFact\u001b[2m > \u001b[22mshould throw error if factContent is empty\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mcreateUserFact\u001b[2m > \u001b[22mshould throw error if factContent exceeds 5000 characters\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mcreateUserFact\u001b[2m > \u001b[22mshould accept factContent exactly 5000 characters\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mcreateUserFact\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mgetUserFactById\u001b[2m > \u001b[22mshould return a user fact by id\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mgetUserFactById\u001b[2m > \u001b[22mshould return null if user fact not found\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mgetUserFactById\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mgetUserFactsByCaseId\u001b[2m > \u001b[22mshould return all user facts for a case\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mgetUserFactsByCaseId\u001b[2m > \u001b[22mshould return empty array if no user facts exist\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mgetUserFactsByCaseId\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mgetUserFactsByType\u001b[2m > \u001b[22mshould return user facts filtered by type\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mgetUserFactsByType\u001b[2m > \u001b[22mshould return empty array if no facts match type\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mgetUserFactsByType\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mupdateUserFact\u001b[2m > \u001b[22mshould update a user fact with valid input\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mupdateUserFact\u001b[2m > \u001b[22mshould update only factContent\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mupdateUserFact\u001b[2m > \u001b[22mshould throw error if factContent is empty string\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mupdateUserFact\u001b[2m > \u001b[22mshould throw error if factContent exceeds 5000 characters\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mupdateUserFact\u001b[2m > \u001b[22mshould throw error if user fact not found\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mupdateUserFact\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mdeleteUserFact\u001b[2m > \u001b[22mshould delete a user fact successfully\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mdeleteUserFact\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle special characters in factContent\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle unicode characters in factContent\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle newlines and formatting in factContent\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle PII data in factContent\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mcreateTimelineEvent\u001b[2m > \u001b[22mshould create a timeline event with valid input\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mcreateTimelineEvent\u001b[2m > \u001b[22mshould create a timeline event without description\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mcreateTimelineEvent\u001b[2m > \u001b[22mshould throw error if title is empty\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mcreateTimelineEvent\u001b[2m > \u001b[22mshould throw error if title exceeds 200 characters\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mcreateTimelineEvent\u001b[2m > \u001b[22mshould accept title exactly 200 characters\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mcreateTimelineEvent\u001b[2m > \u001b[22mshould throw error if eventDate is missing\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mcreateTimelineEvent\u001b[2m > \u001b[22mshould throw error if description exceeds 10000 characters\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mcreateTimelineEvent\u001b[2m > \u001b[22mshould accept description exactly 10000 characters\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mcreateTimelineEvent\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mgetTimelineEventById\u001b[2m > \u001b[22mshould return a timeline event by id\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mgetTimelineEventById\u001b[2m > \u001b[22mshould return null if timeline event not found\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mgetTimelineEventById\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mgetTimelineEventsByCaseId\u001b[2m > \u001b[22mshould return all timeline events for a case\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mgetTimelineEventsByCaseId\u001b[2m > \u001b[22mshould return empty array if no timeline events exist\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mgetTimelineEventsByCaseId\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mupdateTimelineEvent\u001b[2m > \u001b[22mshould update a timeline event with valid input\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mupdateTimelineEvent\u001b[2m > \u001b[22mshould update only title\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mupdateTimelineEvent\u001b[2m > \u001b[22mshould throw error if title is empty string\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mupdateTimelineEvent\u001b[2m > \u001b[22mshould throw error if title exceeds 200 characters\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mupdateTimelineEvent\u001b[2m > \u001b[22mshould throw error if description exceeds 10000 characters\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mupdateTimelineEvent\u001b[2m > \u001b[22mshould throw error if timeline event not found\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mupdateTimelineEvent\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mdeleteTimelineEvent\u001b[2m > \u001b[22mshould delete a timeline event successfully\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mdeleteTimelineEvent\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle special characters in title\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle unicode characters in title and description\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle various date formats\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle newlines in description\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mcreateCaseFact\u001b[2m > \u001b[22mshould create a case fact with valid input\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mcreateCaseFact\u001b[2m > \u001b[22mshould create case facts with different categories\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mcreateCaseFact\u001b[2m > \u001b[22mshould create case facts with different importance levels\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mcreateCaseFact\u001b[2m > \u001b[22mshould throw error if factContent is empty\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mcreateCaseFact\u001b[2m > \u001b[22mshould throw error if factContent exceeds 5000 characters\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mcreateCaseFact\u001b[2m > \u001b[22mshould accept factContent exactly 5000 characters\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mcreateCaseFact\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mgetCaseFactById\u001b[2m > \u001b[22mshould return a case fact by id\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mgetCaseFactById\u001b[2m > \u001b[22mshould return null if case fact not found\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mgetCaseFactById\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mgetCaseFactsByCaseId\u001b[2m > \u001b[22mshould return all case facts for a case\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mgetCaseFactsByCaseId\u001b[2m > \u001b[22mshould return empty array if no case facts exist\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mgetCaseFactsByCaseId\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mgetCaseFactsByCategory\u001b[2m > \u001b[22mshould return case facts filtered by category\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mgetCaseFactsByCategory\u001b[2m > \u001b[22mshould return empty array if no facts match category\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mgetCaseFactsByCategory\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mgetCaseFactsByImportance\u001b[2m > \u001b[22mshould return case facts filtered by importance\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mgetCaseFactsByImportance\u001b[2m > \u001b[22mshould return empty array if no facts match importance\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mgetCaseFactsByImportance\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mupdateCaseFact\u001b[2m > \u001b[22mshould update a case fact with valid input\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mupdateCaseFact\u001b[2m > \u001b[22mshould update only factContent\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mupdateCaseFact\u001b[2m > \u001b[22mshould update only importance\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mupdateCaseFact\u001b[2m > \u001b[22mshould throw error if factContent is empty string\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mupdateCaseFact\u001b[2m > \u001b[22mshould throw error if factContent exceeds 5000 characters\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mupdateCaseFact\u001b[2m > \u001b[22mshould throw error if case fact not found\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mupdateCaseFact\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mdeleteCaseFact\u001b[2m > \u001b[22mshould delete a case fact successfully\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mdeleteCaseFact\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle special characters in factContent\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle unicode characters in factContent\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle formatted content with newlines\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle dates and timestamps in factContent\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mCore Functionality\u001b[2m > \u001b[22mshould encrypt and decrypt data correctly\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mCore Functionality\u001b[2m > \u001b[22mshould produce EncryptedData with all required fields\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mCore Functionality\u001b[2m > \u001b[22mshould decrypt valid encrypted data successfully\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mCore Functionality\u001b[2m > \u001b[22mshould generate 32-byte encryption key\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mCore Functionality\u001b[2m > \u001b[22mshould correctly identify encrypted data with isEncrypted()\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mCore Functionality\u001b[2m > \u001b[22mshould return false for non-encrypted data with isEncrypted()\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mSecurity Properties\u001b[2m > \u001b[22mshould generate unique IVs for same plaintext encrypted twice\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mSecurity Properties\u001b[2m > \u001b[22mshould include non-empty authentication tag\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mSecurity Properties\u001b[2m > \u001b[22mshould detect tampered ciphertext via authentication tag\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mSecurity Properties\u001b[2m > \u001b[22mshould detect tampered authentication tag\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mSecurity Properties\u001b[2m > \u001b[22mshould reject 31-byte key (too short)\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mSecurity Properties\u001b[2m > \u001b[22mshould reject 33-byte key (too long)\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould return null for empty string\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould return null for null input to encrypt()\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould return null for undefined input to encrypt()\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould return null for whitespace-only string\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould return null when decrypting null\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould return null when decrypting undefined\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould throw error for corrupted ciphertext\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould throw error for invalid base64 in IV\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould throw error for invalid base64 in ciphertext\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould throw error for missing algorithm field\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould fail gracefully when decrypting with wrong key\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould throw error for malformed EncryptedData object\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mKey Rotation\u001b[2m > \u001b[22mshould successfully re-encrypt data with new key using rotateKey()\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mKey Rotation\u001b[2m > \u001b[22mshould prevent old service from decrypting data encrypted with new key\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mData Format Validation\u001b[2m > \u001b[22mshould have correct algorithm value in EncryptedData\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mData Format Validation\u001b[2m > \u001b[22mshould have correct version number in EncryptedData\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mData Format Validation\u001b[2m > \u001b[22mshould produce base64 encoded ciphertext\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mData Format Validation\u001b[2m > \u001b[22mshould produce base64 encoded IV\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mData Format Validation\u001b[2m > \u001b[22mshould produce base64 encoded auth tag\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mLarge Data Handling\u001b[2m > \u001b[22mshould encrypt and decrypt 1KB of text successfully\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mLarge Data Handling\u001b[2m > \u001b[22mshould encrypt and decrypt 100KB of text successfully\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mLarge Data Handling\u001b[2m > \u001b[22mshould encrypt and decrypt 1MB of text successfully (large legal documents)\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mConstructor Key Handling\u001b[2m > \u001b[22mshould accept Buffer key in constructor\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mConstructor Key Handling\u001b[2m > \u001b[22mshould accept base64 string key in constructor\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mConstructor Key Handling\u001b[2m > \u001b[22mshould create equivalent services from Buffer and base64 string\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mSpecial Characters and Unicode\u001b[2m > \u001b[22mshould handle special characters correctly\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mSpecial Characters and Unicode\u001b[2m > \u001b[22mshould handle unicode characters correctly\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mSpecial Characters and Unicode\u001b[2m > \u001b[22mshould handle emojis correctly\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mSpecial Characters and Unicode\u001b[2m > \u001b[22mshould handle newlines and tabs\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22misEncrypted() Type Guard\u001b[2m > \u001b[22mshould return false for null\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22misEncrypted() Type Guard\u001b[2m > \u001b[22mshould return false for undefined\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22misEncrypted() Type Guard\u001b[2m > \u001b[22mshould return false for string\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22misEncrypted() Type Guard\u001b[2m > \u001b[22mshould return false for number\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22misEncrypted() Type Guard\u001b[2m > \u001b[22mshould return false for array\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22misEncrypted() Type Guard\u001b[2m > \u001b[22mshould return false for object missing required fields\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22misEncrypted() Type Guard\u001b[2m > \u001b[22mshould return false for object with wrong field types\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mCore Functionality\u001b[2m > \u001b[22mlogs an audit event successfully\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mCore Functionality\u001b[2m > \u001b[22mgenerates unique IDs for each log entry\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mCore Functionality\u001b[2m > \u001b[22mgenerates ISO 8601 timestamps with milliseconds\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mCore Functionality\u001b[2m > \u001b[22mstores all provided fields correctly\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mCore Functionality\u001b[2m > \u001b[22mdefaults success to true when not provided\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mHash Calculation\u001b[2m > \u001b[22mcalculates integrity hash for each entry\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mHash Calculation\u001b[2m > \u001b[22mproduces different hashes for different events\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mHash Calculation\u001b[2m > \u001b[22mproduces same hash for identical data (deterministic)\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mChain Integrity\u001b[2m > \u001b[22mfirst log has null previous hash\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mChain Integrity\u001b[2m > \u001b[22msecond log references first log hash\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mChain Integrity\u001b[2m > \u001b[22mverifies intact chain successfully\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mChain Integrity\u001b[2m > \u001b[22mdetects tampered integrity hash\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mChain Integrity\u001b[2m > \u001b[22mdetects broken chain link\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mChain Integrity\u001b[2m > \u001b[22mdetects tampered event data\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mChain Integrity\u001b[2m > \u001b[22mreturns valid:true for empty audit log\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mQuery Functionality\u001b[2m > \u001b[22mfilters by resource type\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mQuery Functionality\u001b[2m > \u001b[22mfilters by event type\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mQuery Functionality\u001b[2m > \u001b[22mfilters by success status\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mQuery Functionality\u001b[2m > \u001b[22mfilters by resource ID\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mQuery Functionality\u001b[2m > \u001b[22mfilters by user ID\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mQuery Functionality\u001b[2m > \u001b[22mlimits results\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mQuery Functionality\u001b[2m > \u001b[22msupports offset pagination\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mQuery Functionality\u001b[2m > \u001b[22mcombines multiple filters\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mQuery Functionality\u001b[2m > \u001b[22mreturns empty array when no matches found\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mQuery Functionality\u001b[2m > \u001b[22mreturns logs in descending chronological order\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mExport Functionality\u001b[2m > \u001b[22mexports to JSON format\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mExport Functionality\u001b[2m > \u001b[22mexports to CSV format\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mExport Functionality\u001b[2m > \u001b[22mexports with filters applied\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mExport Functionality\u001b[2m > \u001b[22mhandles CSV escaping for commas in fields\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mExport Functionality\u001b[2m > \u001b[22mreturns empty string for CSV with no results\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mExport Functionality\u001b[2m > \u001b[22mJSON export preserves all fields\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mdoes not throw on logging failure\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mhandles null/undefined optional fields\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mserializes complex details objects\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mhandles details with null value\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mhandles empty details object\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mhandles very long detail strings\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mhandles special characters in fields\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mhandles Unicode characters in details\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mAction Types\u001b[2m > \u001b[22msupports create action\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mAction Types\u001b[2m > \u001b[22msupports read action\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mAction Types\u001b[2m > \u001b[22msupports update action\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mAction Types\u001b[2m > \u001b[22msupports delete action\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mAction Types\u001b[2m > \u001b[22msupports export action\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mAction Types\u001b[2m > \u001b[22msupports decrypt action\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mSuccess and Error Tracking\u001b[2m > \u001b[22mlogs successful operations with success=true\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mSuccess and Error Tracking\u001b[2m > \u001b[22mlogs failed operations with success=false and error message\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mSuccess and Error Tracking\u001b[2m > \u001b[22mfilters successful operations only\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mSuccess and Error Tracking\u001b[2m > \u001b[22mfilters failed operations only\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mImmutability\u001b[2m > \u001b[22mcreates new log entries without modifying existing ones\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mLarge Chain Verification\u001b[2m > \u001b[22mverifies chain with 100 entries\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mLarge Chain Verification\u001b[2m > \u001b[22mdetects tampering in middle of large chain\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould initialize with empty array and loading state\n\u001b[31m   \u2192 Right-hand side of 'instanceof' is not an object\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould load user facts on mount\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle empty user facts list\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle missing data property in response\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mCaseId Changes\u001b[2m > \u001b[22mshould reload user facts when caseId changes\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create a personal fact\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create facts of all types\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update fact content\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update fact type\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update both content and type\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould delete a user fact successfully\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mType-Based Filtering (loadFactsByType)\u001b[2m > \u001b[22mshould load facts filtered by type\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mType-Based Filtering (loadFactsByType)\u001b[2m > \u001b[22mshould load all fact types individually\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mType-Based Filtering (loadFactsByType)\u001b[2m > \u001b[22mshould handle empty filtered results\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mType-Based Filtering (loadFactsByType)\u001b[2m > \u001b[22mshould handle filter error\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mType-Based Filtering (loadFactsByType)\u001b[2m > \u001b[22mshould set loading state during filter operation\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould refresh user facts list\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould set loading state during refresh\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure without error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle non-Error exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould clear previous error on successful operation\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould initialize with empty array and loading state\n\u001b[31m   \u2192 Right-hand side of 'instanceof' is not an object\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould load legal issues on mount\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle empty legal issues list\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle missing data property in response\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle legal issues with null optional fields\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mCaseId Changes\u001b[2m > \u001b[22mshould reload legal issues when caseId changes\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create a new legal issue with all fields\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create a new legal issue with only required fields\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update an existing legal issue with all fields\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update with partial fields\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould delete a legal issue successfully\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould refresh legal issues list\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould set loading state during refresh\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure without error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle non-Error exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould clear previous error on successful operation\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould initialize with empty array and loading state\n\u001b[31m   \u2192 Right-hand side of 'instanceof' is not an object\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould load timeline events on mount\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle empty timeline events list\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle missing data property in response\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle timeline events with null description\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mCaseId Changes\u001b[2m > \u001b[22mshould reload timeline events when caseId changes\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create a new timeline event with all fields\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create a new timeline event without description\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle various date formats\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update an existing timeline event with all fields\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update with partial fields\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update only the event date\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould delete a timeline event successfully\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould refresh timeline events list\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould set loading state during refresh\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure without error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle non-Error exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould clear previous error on successful operation\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould initialize with empty array and loading state\n\u001b[31m   \u2192 Right-hand side of 'instanceof' is not an object\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould load case facts on mount\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle empty case facts list\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle missing data property in response\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould load facts with all importance levels\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCaseId Changes\u001b[2m > \u001b[22mshould reload case facts when caseId changes\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create a case fact with all fields\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create a case fact without importance (defaults to medium)\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create facts of all categories\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create facts with all importance levels\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update fact content only\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update fact category only\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update fact importance only\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update all fields together\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould delete a case fact successfully\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCategory-Based Filtering (loadFactsByCategory)\u001b[2m > \u001b[22mshould load facts filtered by category\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCategory-Based Filtering (loadFactsByCategory)\u001b[2m > \u001b[22mshould load all fact categories individually\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCategory-Based Filtering (loadFactsByCategory)\u001b[2m > \u001b[22mshould handle empty filtered results\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCategory-Based Filtering (loadFactsByCategory)\u001b[2m > \u001b[22mshould handle category filter error\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCategory-Based Filtering (loadFactsByCategory)\u001b[2m > \u001b[22mshould set loading state during category filter operation\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mImportance-Based Filtering (loadFactsByImportance)\u001b[2m > \u001b[22mshould load facts filtered by importance\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mImportance-Based Filtering (loadFactsByImportance)\u001b[2m > \u001b[22mshould load all importance levels individually\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mImportance-Based Filtering (loadFactsByImportance)\u001b[2m > \u001b[22mshould handle empty filtered results\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mImportance-Based Filtering (loadFactsByImportance)\u001b[2m > \u001b[22mshould handle importance filter error\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mImportance-Based Filtering (loadFactsByImportance)\u001b[2m > \u001b[22mshould set loading state during importance filter operation\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould refresh case facts list\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould set loading state during refresh\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure without error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle non-Error exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould clear previous error on successful operation\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22mFacts Repositories Integration Tests\u001b[2m > \u001b[22mCreating both fact types for a case\u001b[2m > \u001b[22mshould create user facts and case facts for the same case\n \u001b[32m\u2713\u001b[39m src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22mFacts Repositories Integration Tests\u001b[2m > \u001b[22mEncryption verification across both repositories\u001b[2m > \u001b[22mshould encrypt both user facts and case facts independently\n \u001b[32m\u2713\u001b[39m src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22mFacts Repositories Integration Tests\u001b[2m > \u001b[22mFiltering and categorization\u001b[2m > \u001b[22mshould filter user facts by type\n \u001b[32m\u2713\u001b[39m src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22mFacts Repositories Integration Tests\u001b[2m > \u001b[22mFiltering and categorization\u001b[2m > \u001b[22mshould filter case facts by category\n \u001b[32m\u2713\u001b[39m src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22mFacts Repositories Integration Tests\u001b[2m > \u001b[22mFiltering and categorization\u001b[2m > \u001b[22mshould filter case facts by importance\n \u001b[32m\u2713\u001b[39m src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22mFacts Repositories Integration Tests\u001b[2m > \u001b[22mCascade delete behavior\u001b[2m > \u001b[22mshould delete both user facts and case facts when case is deleted\n \u001b[31m\u00d7\u001b[39m src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22mFacts Repositories Integration Tests\u001b[2m > \u001b[22mAudit trail verification\u001b[2m > \u001b[22mshould create separate audit logs for user facts and case facts\n\u001b[31m   \u2192 expected [] to have a length of 1 but got +0\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22mFacts Repositories Integration Tests\u001b[2m > \u001b[22mAudit trail verification\u001b[2m > \u001b[22mshould audit content access for both fact types\n\u001b[31m   \u2192 expected [] to have a length of 1 but got +0\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22mFacts Repositories Integration Tests\u001b[2m > \u001b[22mAudit trail verification\u001b[2m > \u001b[22mshould audit updates and deletes for both fact types\n\u001b[31m   \u2192 expected 0 to be greater than 0\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22mFacts Repositories Integration Tests\u001b[2m > \u001b[22mReal-world case scenario\u001b[2m > \u001b[22mshould handle a complete employment discrimination case with mixed facts\n\u001b[31m   \u2192 expected 0 to be greater than 15\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22mFacts Repositories Integration Tests\u001b[2m > \u001b[22mError handling\u001b[2m > \u001b[22mshould handle invalid case IDs gracefully\n \u001b[32m\u2713\u001b[39m src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22mFacts Repositories Integration Tests\u001b[2m > \u001b[22mError handling\u001b[2m > \u001b[22mshould handle invalid fact types\n \u001b[32m\u2713\u001b[39m src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22mFacts Repositories Integration Tests\u001b[2m > \u001b[22mError handling\u001b[2m > \u001b[22mshould handle invalid fact categories\n \u001b[32m\u2713\u001b[39m src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22mFacts Repositories Integration Tests\u001b[2m > \u001b[22mError handling\u001b[2m > \u001b[22mshould handle invalid importance levels\n \u001b[32m\u2713\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould create a user fact with encrypted content\n \u001b[32m\u2713\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould create user facts with different types\n \u001b[31m\u00d7\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould audit user fact creation\n\u001b[31m   \u2192 expected [] to have a length of 1 but got +0\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould throw error if encryption service is missing\n \u001b[31m\u00d7\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould audit failed creation\n\u001b[31m   \u2192 expected [] to have a length of 1 but got +0\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mfindById\u001b[2m > \u001b[22mshould find user fact by ID and decrypt content\n \u001b[31m\u00d7\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mfindById\u001b[2m > \u001b[22mshould return null for non-existent ID\n\u001b[31m   \u2192 expected undefined to be null\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mfindById\u001b[2m > \u001b[22mshould audit content access when decrypting\n\u001b[31m   \u2192 expected [] to have a length of 1 but got +0\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mfindByCaseId\u001b[2m > \u001b[22mshould find all user facts for a case\n \u001b[32m\u2713\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mfindByCaseId\u001b[2m > \u001b[22mshould return empty array for case with no facts\n \u001b[31m\u00d7\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mfindByCaseId\u001b[2m > \u001b[22mshould audit bulk content access\n\u001b[31m   \u2192 expected [] to have a length of 1 but got +0\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mfindByType\u001b[2m > \u001b[22mshould find user facts by type\n \u001b[32m\u2713\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mfindByType\u001b[2m > \u001b[22mshould return empty array for type with no facts\n \u001b[31m\u00d7\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mfindByType\u001b[2m > \u001b[22mshould audit filtered content access\n\u001b[31m   \u2192 expected [] to have a length of 1 but got +0\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mupdate\u001b[2m > \u001b[22mshould update fact content with re-encryption\n \u001b[32m\u2713\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mupdate\u001b[2m > \u001b[22mshould update fact type\n \u001b[32m\u2713\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mupdate\u001b[2m > \u001b[22mshould update both content and type\n \u001b[31m\u00d7\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mupdate\u001b[2m > \u001b[22mshould audit update operation\n\u001b[31m   \u2192 expected 0 to be greater than 0\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mupdate\u001b[2m > \u001b[22mshould throw error if encryption service is missing\n \u001b[31m\u00d7\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mdelete\u001b[2m > \u001b[22mshould delete user fact\n\u001b[31m   \u2192 expected undefined to be null\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mdelete\u001b[2m > \u001b[22mshould return false for non-existent fact\n \u001b[31m\u00d7\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mdelete\u001b[2m > \u001b[22mshould audit delete operation\n\u001b[31m   \u2192 expected 0 to be greater than 0\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mbackward compatibility\u001b[2m > \u001b[22mshould handle legacy plaintext data\n \u001b[32m\u2713\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mbackward compatibility\u001b[2m > \u001b[22mshould handle repository without encryption service\n \u001b[32m\u2713\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mdependency injection\u001b[2m > \u001b[22mshould allow setting encryption service\n \u001b[31m\u00d7\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mdependency injection\u001b[2m > \u001b[22mshould allow setting audit logger\n\u001b[31m   \u2192 expected [] to have a length of 1 but got +0\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mCASCADE DELETE\u001b[2m > \u001b[22mshould delete user facts when case is deleted\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould create a case fact with encrypted content\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould create case facts with different categories\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould create case facts with different importance levels\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould audit case fact creation\n\u001b[31m   \u2192 expected [] to have a length of 1 but got +0\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould throw error if encryption service is missing\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould audit failed creation\n\u001b[31m   \u2192 expected [] to have a length of 1 but got +0\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mfindById\u001b[2m > \u001b[22mshould find case fact by ID and decrypt content\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mfindById\u001b[2m > \u001b[22mshould return null for non-existent ID\n\u001b[31m   \u2192 expected undefined to be null\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mfindById\u001b[2m > \u001b[22mshould audit content access when decrypting\n\u001b[31m   \u2192 expected [] to have a length of 1 but got +0\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mfindByCaseId\u001b[2m > \u001b[22mshould find all case facts for a case ordered by importance\n\u001b[31m   \u2192 expected 'medium' to be 'critical' // Object.is equality\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mfindByCaseId\u001b[2m > \u001b[22mshould return empty array for case with no facts\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mfindByCaseId\u001b[2m > \u001b[22mshould audit bulk content access\n\u001b[31m   \u2192 expected [] to have a length of 1 but got +0\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mfindByCategory\u001b[2m > \u001b[22mshould find case facts by category\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mfindByCategory\u001b[2m > \u001b[22mshould return empty array for category with no facts\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mfindByCategory\u001b[2m > \u001b[22mshould audit filtered content access\n\u001b[31m   \u2192 expected [] to have a length of 1 but got +0\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mfindByImportance\u001b[2m > \u001b[22mshould find case facts by importance level\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mfindByImportance\u001b[2m > \u001b[22mshould return empty array for importance level with no facts\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mfindByImportance\u001b[2m > \u001b[22mshould audit filtered content access by importance\n\u001b[31m   \u2192 expected [] to have a length of 1 but got +0\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mupdate\u001b[2m > \u001b[22mshould update fact content with re-encryption\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mupdate\u001b[2m > \u001b[22mshould update fact category\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mupdate\u001b[2m > \u001b[22mshould update importance level\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mupdate\u001b[2m > \u001b[22mshould update multiple fields at once\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mupdate\u001b[2m > \u001b[22mshould audit update operation\n\u001b[31m   \u2192 expected 0 to be greater than 0\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mupdate\u001b[2m > \u001b[22mshould throw error if encryption service is missing\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mdelete\u001b[2m > \u001b[22mshould delete case fact\n\u001b[31m   \u2192 expected undefined to be null\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mdelete\u001b[2m > \u001b[22mshould return false for non-existent fact\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mdelete\u001b[2m > \u001b[22mshould audit delete operation\n\u001b[31m   \u2192 expected 0 to be greater than 0\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mbackward compatibility\u001b[2m > \u001b[22mshould handle legacy plaintext data\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mbackward compatibility\u001b[2m > \u001b[22mshould handle repository without encryption service\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mdependency injection\u001b[2m > \u001b[22mshould allow setting encryption service\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mdependency injection\u001b[2m > \u001b[22mshould allow setting audit logger\n\u001b[31m   \u2192 expected [] to have a length of 1 but got +0\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mCASCADE DELETE\u001b[2m > \u001b[22mshould delete case facts when case is deleted\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mEvent Type Coverage (18 Event Types)\u001b[2m > \u001b[22mCase Operations (5 event types)\u001b[2m > \u001b[22mlogs case.create event\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mEvent Type Coverage (18 Event Types)\u001b[2m > \u001b[22mCase Operations (5 event types)\u001b[2m > \u001b[22mlogs case.read event via findById\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mEvent Type Coverage (18 Event Types)\u001b[2m > \u001b[22mCase Operations (5 event types)\u001b[2m > \u001b[22mlogs case.update event\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mEvent Type Coverage (18 Event Types)\u001b[2m > \u001b[22mCase Operations (5 event types)\u001b[2m > \u001b[22mlogs case.delete event\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mEvent Type Coverage (18 Event Types)\u001b[2m > \u001b[22mCase Operations (5 event types)\u001b[2m > \u001b[22mlogs case.pii_access event when accessing encrypted description\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mEvent Type Coverage (18 Event Types)\u001b[2m > \u001b[22mEvidence Operations (6 event types)\u001b[2m > \u001b[22mlogs evidence.create event\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mEvent Type Coverage (18 Event Types)\u001b[2m > \u001b[22mEvidence Operations (6 event types)\u001b[2m > \u001b[22mlogs evidence.update event\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mEvent Type Coverage (18 Event Types)\u001b[2m > \u001b[22mEvidence Operations (6 event types)\u001b[2m > \u001b[22mlogs evidence.delete event\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mEvent Type Coverage (18 Event Types)\u001b[2m > \u001b[22mEvidence Operations (6 event types)\u001b[2m > \u001b[22mlogs evidence.content_access when accessing encrypted content\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mEvent Type Coverage (18 Event Types)\u001b[2m > \u001b[22mEvidence Operations (6 event types)\u001b[2m > \u001b[22mlogs evidence.export event (manual)\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mEvent Type Coverage (18 Event Types)\u001b[2m > \u001b[22mEvidence Operations (6 event types)\u001b[2m > \u001b[22mlogs evidence.read event (manual)\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mEvent Type Coverage (18 Event Types)\u001b[2m > \u001b[22mEncryption Operations (2 event types)\u001b[2m > \u001b[22mlogs encryption.key_loaded event\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mEvent Type Coverage (18 Event Types)\u001b[2m > \u001b[22mEncryption Operations (2 event types)\u001b[2m > \u001b[22mlogs encryption.decrypt event\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mEvent Type Coverage (18 Event Types)\u001b[2m > \u001b[22mDatabase Operations (3 event types)\u001b[2m > \u001b[22mlogs database.backup event\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mEvent Type Coverage (18 Event Types)\u001b[2m > \u001b[22mDatabase Operations (3 event types)\u001b[2m > \u001b[22mlogs database.restore event\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mEvent Type Coverage (18 Event Types)\u001b[2m > \u001b[22mDatabase Operations (3 event types)\u001b[2m > \u001b[22mlogs database.migrate event\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mEvent Type Coverage (18 Event Types)\u001b[2m > \u001b[22mConfig Operations (1 event type)\u001b[2m > \u001b[22mlogs config.change event\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mFull Workflow Integration Tests\u001b[2m > \u001b[22mmaintains hash chain integrity across complete case lifecycle\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mFull Workflow Integration Tests\u001b[2m > \u001b[22mmaintains hash chain integrity across case + evidence workflow\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mFull Workflow Integration Tests\u001b[2m > \u001b[22mmaintains integrity when operations fail\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mGDPR Compliance\u001b[2m > \u001b[22mdoes not log PII in case.create details\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mGDPR Compliance\u001b[2m > \u001b[22mdoes not log sensitive content in evidence.create details\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mGDPR Compliance\u001b[2m > \u001b[22mlogs only metadata for PII access events\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mPerformance Tests\u001b[2m > \u001b[22mhandles 1000+ audit log entries efficiently\u001b[33m 306\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mPerformance Tests\u001b[2m > \u001b[22mverifies integrity of 1000+ log chain in reasonable time\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mPerformance Tests\u001b[2m > \u001b[22mqueries large audit log efficiently\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mPerformance Tests\u001b[2m > \u001b[22mexports large audit log efficiently\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mConcurrent Logging\u001b[2m > \u001b[22mmaintains hash chain integrity with concurrent operations\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mConcurrent Logging\u001b[2m > \u001b[22mhandles rapid sequential logging correctly\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mError Recovery\u001b[2m > \u001b[22mcontinues logging after failed operation\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mTamper Detection in Real Scenarios\u001b[2m > \u001b[22mdetects tampering attempt in multi-step workflow\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mcreateLegalIssue\u001b[2m > \u001b[22mshould create a legal issue with valid input\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mcreateLegalIssue\u001b[2m > \u001b[22mshould create a legal issue without description\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mcreateLegalIssue\u001b[2m > \u001b[22mshould throw error if title is empty\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mcreateLegalIssue\u001b[2m > \u001b[22mshould throw error if title exceeds 200 characters\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mcreateLegalIssue\u001b[2m > \u001b[22mshould accept title exactly 200 characters\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mcreateLegalIssue\u001b[2m > \u001b[22mshould throw error if description exceeds 10000 characters\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mcreateLegalIssue\u001b[2m > \u001b[22mshould accept description exactly 10000 characters\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mcreateLegalIssue\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mgetLegalIssueById\u001b[2m > \u001b[22mshould return a legal issue by id\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mgetLegalIssueById\u001b[2m > \u001b[22mshould return null if legal issue not found\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mgetLegalIssueById\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mgetLegalIssuesByCaseId\u001b[2m > \u001b[22mshould return all legal issues for a case\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mgetLegalIssuesByCaseId\u001b[2m > \u001b[22mshould return empty array if no legal issues exist\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mgetLegalIssuesByCaseId\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mupdateLegalIssue\u001b[2m > \u001b[22mshould update a legal issue with valid input\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mupdateLegalIssue\u001b[2m > \u001b[22mshould update only title\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mupdateLegalIssue\u001b[2m > \u001b[22mshould throw error if title is empty string\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mupdateLegalIssue\u001b[2m > \u001b[22mshould throw error if title exceeds 200 characters\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mupdateLegalIssue\u001b[2m > \u001b[22mshould throw error if description exceeds 10000 characters\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mupdateLegalIssue\u001b[2m > \u001b[22mshould throw error if legal issue not found\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mupdateLegalIssue\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mdeleteLegalIssue\u001b[2m > \u001b[22mshould delete a legal issue successfully\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mdeleteLegalIssue\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle special characters in title\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle unicode characters in title and description\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle newlines in description\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould initialize with empty notes array and loading state\n\u001b[31m   \u2192 Right-hand side of 'instanceof' is not an object\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould load notes on mount\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle empty notes list\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle missing data property in response\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mCaseId Changes\u001b[2m > \u001b[22mshould reload notes when caseId changes\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create a new note successfully\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create failure without error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update an existing note successfully\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould delete a note successfully\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould refresh notes list\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould set loading state during refresh\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure without error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle non-Error exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould clear previous error on successful operation\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould render loading state\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould render error state\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould render empty state when no notes exist\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould render notes list when data is loaded\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould display correct count in header\u001b[33m 490\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould render Add Note button\u001b[33m 931\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould display timestamps for notes\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mEncryption on Write Operations\u001b[2m > \u001b[22mshould store encrypted case description in database\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mEncryption on Write Operations\u001b[2m > \u001b[22mshould store null for empty description without encryption\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mEncryption on Write Operations\u001b[2m > \u001b[22mshould update and encrypt case description\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mDecryption on Read Operations\u001b[2m > \u001b[22mshould decrypt case description on retrieval\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mDecryption on Read Operations\u001b[2m > \u001b[22mshould decrypt all case descriptions in findAll\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mDecryption on Read Operations\u001b[2m > \u001b[22mshould handle null descriptions correctly\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mBackward Compatibility\u001b[2m > \u001b[22mshould handle legacy plaintext descriptions\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mBackward Compatibility\u001b[2m > \u001b[22mshould work without encryption service (backward compat mode)\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mEncryption Security Properties\u001b[2m > \u001b[22mshould use unique IVs for same description encrypted multiple times\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mEncryption Security Properties\u001b[2m > \u001b[22mshould fail decryption with wrong key\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mRound-Trip Testing\u001b[2m > \u001b[22mshould successfully encrypt and decrypt unicode characters\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mRound-Trip Testing\u001b[2m > \u001b[22mshould handle large descriptions (10KB+)\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mRound-Trip Testing\u001b[2m > \u001b[22mshould handle special legal characters\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mEncryption on Write Operations\u001b[2m > \u001b[22mshould store encrypted evidence content in database\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mEncryption on Write Operations\u001b[2m > \u001b[22mshould store file path without encryption\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mEncryption on Write Operations\u001b[2m > \u001b[22mshould update and encrypt evidence content\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mEncryption on Write Operations\u001b[2m > \u001b[22mshould handle null content without encryption\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mDecryption on Read Operations\u001b[2m > \u001b[22mshould decrypt evidence content on retrieval\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mDecryption on Read Operations\u001b[2m > \u001b[22mshould decrypt all evidence content in findByCaseId\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mDecryption on Read Operations\u001b[2m > \u001b[22mshould decrypt all evidence content in findAll\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mDecryption on Read Operations\u001b[2m > \u001b[22mshould filter by evidence type and decrypt\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mBackward Compatibility\u001b[2m > \u001b[22mshould handle legacy plaintext content\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mBackward Compatibility\u001b[2m > \u001b[22mshould work without encryption service\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mEncryption Security Properties\u001b[2m > \u001b[22mshould use unique IVs for same content encrypted multiple times\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mEncryption Security Properties\u001b[2m > \u001b[22mshould fail decryption with wrong key\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mRound-Trip Testing\u001b[2m > \u001b[22mshould successfully encrypt and decrypt unicode characters\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mRound-Trip Testing\u001b[2m > \u001b[22mshould handle large evidence content (100KB+)\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mRound-Trip Testing\u001b[2m > \u001b[22mshould handle special characters in evidence\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mStatistics and Counting\u001b[2m > \u001b[22mshould count evidence by case correctly\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mStatistics and Counting\u001b[2m > \u001b[22mshould count evidence by type correctly\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mUserProfileRepository\u001b[2m > \u001b[22mshould encrypt name and email when updating profile\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mUserProfileRepository\u001b[2m > \u001b[22mshould decrypt name and email when retrieving profile\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mUserProfileRepository\u001b[2m > \u001b[22mshould audit PII access\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mUserProfileRepository\u001b[2m > \u001b[22mshould not log PII in audit details\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mLegalIssuesRepository\u001b[2m > \u001b[22mshould encrypt description field\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mLegalIssuesRepository\u001b[2m > \u001b[22mshould decrypt description when retrieving\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mLegalIssuesRepository\u001b[2m > \u001b[22mshould find all issues for a case with decryption\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mLegalIssuesRepository\u001b[2m > \u001b[22mshould update encrypted description\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mLegalIssuesRepository\u001b[2m > \u001b[22mshould audit legal issue operations\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mTimelineRepository\u001b[2m > \u001b[22mshould encrypt description field\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mTimelineRepository\u001b[2m > \u001b[22mshould decrypt description when retrieving\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mTimelineRepository\u001b[2m > \u001b[22mshould find all events for a case sorted by date\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mTimelineRepository\u001b[2m > \u001b[22mshould update encrypted description\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mTimelineRepository\u001b[2m > \u001b[22mshould audit timeline event operations\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mPhase 3 GDPR Compliance\u001b[2m > \u001b[22mshould never log plaintext PII across all repositories\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mcreateNote\u001b[2m > \u001b[22mshould create a note with valid input\n\u001b[31m   \u2192 Note content must be 10000 characters or less\u001b[39m\n \u001b[32m\u2713\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mcreateNote\u001b[2m > \u001b[22mshould throw error if content is empty\n \u001b[31m\u00d7\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mcreateNote\u001b[2m > \u001b[22mshould throw error if content exceeds 10000 characters\n\u001b[31m   \u2192 expected [Function] to throw error including 'Note content must be 10000 characters\u2026' but got 'Cannot read properties of undefined (\u2026'\u001b[39m\n \u001b[32m\u2713\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mcreateNote\u001b[2m > \u001b[22mshould accept content exactly 10000 characters\n \u001b[31m\u00d7\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mcreateNote\u001b[2m > \u001b[22mshould log and rethrow repository errors\n\u001b[31m   \u2192 expected [Function] to throw error including 'Database error' but got 'Note content must be 10000 characters\u2026'\u001b[39m\n \u001b[32m\u2713\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mgetNotesByCaseId\u001b[2m > \u001b[22mshould return all notes for a case\n \u001b[32m\u2713\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mgetNotesByCaseId\u001b[2m > \u001b[22mshould return empty array if no notes exist\n \u001b[32m\u2713\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mgetNotesByCaseId\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mupdateNote\u001b[2m > \u001b[22mshould update a note with valid input\n \u001b[32m\u2713\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mupdateNote\u001b[2m > \u001b[22mshould throw error if content is empty\n \u001b[32m\u2713\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mupdateNote\u001b[2m > \u001b[22mshould throw error if content exceeds 10000 characters\n \u001b[32m\u2713\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mupdateNote\u001b[2m > \u001b[22mshould throw error if note not found\n \u001b[32m\u2713\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mupdateNote\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mdeleteNote\u001b[2m > \u001b[22mshould delete a note successfully\n \u001b[32m\u2713\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mdeleteNote\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[31m\u00d7\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle special characters in content\n\u001b[31m   \u2192 Note content must be 10000 characters or less\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle unicode characters in content\n\u001b[31m   \u2192 Note content must be 10000 characters or less\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould create a note with encrypted content\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould audit note creation\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould not log plaintext content in audit logs\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mfindById\u001b[2m > \u001b[22mshould decrypt content when retrieving note\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mfindById\u001b[2m > \u001b[22mshould audit PII access when decrypting content\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mfindById\u001b[2m > \u001b[22mshould return null for non-existent note\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mfindByCaseId\u001b[2m > \u001b[22mshould decrypt all notes for a case\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mfindByCaseId\u001b[2m > \u001b[22mshould return empty array for case with no notes\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mupdate\u001b[2m > \u001b[22mshould update note content with new encryption\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mupdate\u001b[2m > \u001b[22mshould audit note update\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mdelete\u001b[2m > \u001b[22mshould delete note and return true\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mdelete\u001b[2m > \u001b[22mshould return false when deleting non-existent note\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mdelete\u001b[2m > \u001b[22mshould audit note deletion\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mbackward compatibility\u001b[2m > \u001b[22mshould handle legacy plaintext notes\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mbackward compatibility\u001b[2m > \u001b[22mshould handle empty content\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mwithout encryption service\u001b[2m > \u001b[22mshould handle notes without encryption\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mGDPR compliance\u001b[2m > \u001b[22mshould never log decrypted content in audit logs\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n \u001b[32m\u2713\u001b[39m src/hooks/useAI.test.ts\u001b[2m > \u001b[22museAI types\u001b[2m > \u001b[22mAILoadingState has correct values\n \u001b[32m\u2713\u001b[39m src/hooks/useAI.test.ts\u001b[2m > \u001b[22museAI types\u001b[2m > \u001b[22mUseAIReturn has correct shape\n \u001b[32m\u2713\u001b[39m src/hooks/useAI.test.ts\u001b[2m > \u001b[22museAI types\u001b[2m > \u001b[22mChatMessage has correct structure\n \u001b[32m\u2713\u001b[39m src/hooks/useAI.test.ts\u001b[2m > \u001b[22museAI types\u001b[2m > \u001b[22mLoading states transition correctly\n \u001b[32m\u2713\u001b[39m src/hooks/useAI.test.ts\u001b[2m > \u001b[22museAI hook contract\u001b[2m > \u001b[22msendMessage validates empty content\n \u001b[32m\u2713\u001b[39m src/hooks/useAI.test.ts\u001b[2m > \u001b[22museAI hook contract\u001b[2m > \u001b[22misStreaming prevents concurrent sends\n \u001b[32m\u2713\u001b[39m src/hooks/useAI.test.ts\u001b[2m > \u001b[22museAI hook contract\u001b[2m > \u001b[22mmessages array maintains order\n \u001b[32m\u2713\u001b[39m src/hooks/useAI.test.ts\u001b[2m > \u001b[22museAI hook contract\u001b[2m > \u001b[22mclearMessages resets all state\n \u001b[32m\u2713\u001b[39m src/hooks/useAI.test.ts\u001b[2m > \u001b[22museAI error handling\u001b[2m > \u001b[22mAI initialization error message is user-friendly\n \u001b[32m\u2713\u001b[39m src/hooks/useAI.test.ts\u001b[2m > \u001b[22museAI error handling\u001b[2m > \u001b[22mStream error is prefixed with \"AI Error:\"\n \u001b[32m\u2713\u001b[39m src/hooks/useAI.test.ts\u001b[2m > \u001b[22museAI error handling\u001b[2m > \u001b[22mEmpty message error is clear\n \u001b[32m\u2713\u001b[39m src/hooks/useAI.test.ts\u001b[2m > \u001b[22museAI error handling\u001b[2m > \u001b[22mConcurrent send error is clear\n \u001b[32m\u2713\u001b[39m src/hooks/useAI.test.ts\u001b[2m > \u001b[22museAI streaming behavior\u001b[2m > \u001b[22mStreaming content accumulates tokens\n \u001b[32m\u2713\u001b[39m src/hooks/useAI.test.ts\u001b[2m > \u001b[22museAI streaming behavior\u001b[2m > \u001b[22mStreaming content resets on completion\n \u001b[32m\u2713\u001b[39m src/hooks/useAI.test.ts\u001b[2m > \u001b[22museAI streaming behavior\u001b[2m > \u001b[22mAssistant message created from streaming content\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mRendering\u001b[2m > \u001b[22mshould render textarea with correct placeholder\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mRendering\u001b[2m > \u001b[22mshould render textarea with custom placeholder\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mRendering\u001b[2m > \u001b[22mshould render send button\u001b[33m 311\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mRendering\u001b[2m > \u001b[22mshould have send button disabled when textarea is empty\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mRendering\u001b[2m > \u001b[22mshould render with default yellow color\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mRendering\u001b[2m > \u001b[22mshould render with custom color (blue)\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mRendering\u001b[2m > \u001b[22mshould render all 5 color variants correctly\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mRendering\u001b[2m > \u001b[22mshould display placeholder when content is empty\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mRendering\u001b[2m > \u001b[22mshould render delete button when onDelete is provided and not readOnly\u001b[33m 392\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mRendering\u001b[2m > \u001b[22mshould NOT render delete button when readOnly\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mRendering\u001b[2m > \u001b[22mshould NOT render delete button when onDelete is not provided\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mEdit Mode Interactions\u001b[2m > \u001b[22mshould enter edit mode when clicked\u001b[33m 382\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mEdit Mode Interactions\u001b[2m > \u001b[22mshould NOT enter edit mode when readOnly\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mKeyboard Shortcuts\u001b[2m > \u001b[22mshould send message when Enter key is pressed\u001b[33m 615\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mUser Messages\u001b[2m > \u001b[22mshould render user message with correct styling\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mUser Messages\u001b[2m > \u001b[22mshould align user message to the right\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mUser Messages\u001b[2m > \u001b[22mshould render user message as plain text (not markdown)\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mUser Messages\u001b[2m > \u001b[22mshould display timestamp for user message\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mUser Messages\u001b[2m > \u001b[22mshould NOT show sources for user message\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mUser Messages\u001b[2m > \u001b[22mshould NOT show disclaimer for user message\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mUser Messages\u001b[2m > \u001b[22mshould show streaming indicator for user message\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mUser Messages\u001b[2m > \u001b[22mshould NOT show timestamp when streaming\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAssistant Messages\u001b[2m > \u001b[22mshould render assistant message with correct styling\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAssistant Messages\u001b[2m > \u001b[22mshould align assistant message to the left\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAssistant Messages\u001b[2m > \u001b[22mshould render assistant message as markdown\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAssistant Messages\u001b[2m > \u001b[22mshould display timestamp for assistant message\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAssistant Messages\u001b[2m > \u001b[22mshould show sources when provided\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAssistant Messages\u001b[2m > \u001b[22mshould NOT show sources when empty array\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAssistant Messages\u001b[2m > \u001b[22mshould show disclaimer for assistant message\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAssistant Messages\u001b[2m > \u001b[22mshould NOT show disclaimer when streaming\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAssistant Messages\u001b[2m > \u001b[22mshould render markdown lists correctly\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAssistant Messages\u001b[2m > \u001b[22mshould render markdown code blocks correctly\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAI Reasoning Process\u001b[2m > \u001b[22mshould show reasoning dropdown when thinkingContent is present\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAI Reasoning Process\u001b[2m > \u001b[22mshould NOT show reasoning dropdown when thinkingContent is null\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAI Reasoning Process\u001b[2m > \u001b[22mshould NOT show reasoning dropdown when thinkingContent is empty string\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mCreate Note Workflow\u001b[2m > \u001b[22mshould show note creator when Add button is clicked\u001b[33m 1910\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mNormal Rendering\u001b[2m > \u001b[22mshould render children when no error occurs\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mNormal Rendering\u001b[2m > \u001b[22mshould not show error UI when children render successfully\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mError Catching\u001b[2m > \u001b[22mshould catch errors from child components\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mError Catching\u001b[2m > \u001b[22mshould display error message in error UI\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mError Catching\u001b[2m > \u001b[22mshould show error details heading\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mError Catching\u001b[2m > \u001b[22mshould log error to console\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mError Catching\u001b[2m > \u001b[22mshould log component stack to console\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mError Fallback UI\u001b[2m > \u001b[22mshould display error icon\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mError Fallback UI\u001b[2m > \u001b[22mshould display heading\u001b[33m 435\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mError Fallback UI\u001b[2m > \u001b[22mshould display reload button\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mError Fallback UI\u001b[2m > \u001b[22mshould display try to continue button\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mError Fallback UI\u001b[2m > \u001b[22mshould display help text with log file path\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mDevelopment-Only Features\u001b[2m > \u001b[22mshould show component stack in development mode\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mDevelopment-Only Features\u001b[2m > \u001b[22mshould show error stack in development mode\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mDevelopment-Only Features\u001b[2m > \u001b[22mshould NOT show component stack in production mode\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mDevelopment-Only Features\u001b[2m > \u001b[22mshould NOT show error stack in production mode\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mEdit Mode Interactions\u001b[2m > \u001b[22mshould select all text when entering edit mode\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mRecovery Actions\u001b[2m > \u001b[22mshould reload page when reload button is clicked\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAI Reasoning Process\u001b[2m > \u001b[22mshould expand and collapse reasoning content when clicked\u001b[33m 377\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAI Reasoning Process\u001b[2m > \u001b[22mshould have proper ARIA attributes for reasoning button\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mKeyboard Shortcuts\u001b[2m > \u001b[22mshould create new line when Shift+Enter is pressed\u001b[33m 471\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mCreate Note Workflow\u001b[2m > \u001b[22mshould autofocus textarea when creating new note\u001b[33m 598\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAI Reasoning Process\u001b[2m > \u001b[22mshould update aria-expanded when reasoning is expanded\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAI Reasoning Process\u001b[2m > \u001b[22mshould only show reasoning for assistant messages\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mStreaming State\u001b[2m > \u001b[22mshould show streaming indicator for assistant message\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mStreaming State\u001b[2m > \u001b[22mshould NOT show timestamp when streaming\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mStreaming State\u001b[2m > \u001b[22mshould NOT show disclaimer when streaming\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have proper ARIA label for reasoning button\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mKeyboard Shortcuts\u001b[2m > \u001b[22mshould NOT send message when only whitespace is entered\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould update ARIA label when reasoning is expanded\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have semantic HTML for message content\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould preserve whitespace in user messages\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mEdit Mode Interactions\u001b[2m > \u001b[22mshould update content and call onUpdate when blur occurs\u001b[33m 628\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/services/LegalAPIService.test.ts\u001b[2m > \u001b[22mLegalAPIService\u001b[2m > \u001b[22mextractKeywords\u001b[2m > \u001b[22mshould extract keywords from \"Can I be fired for being pregnant?\"\n \u001b[32m\u2713\u001b[39m src/services/LegalAPIService.test.ts\u001b[2m > \u001b[22mLegalAPIService\u001b[2m > \u001b[22mextractKeywords\u001b[2m > \u001b[22mshould handle housing-related questions\n \u001b[32m\u2713\u001b[39m src/services/LegalAPIService.test.ts\u001b[2m > \u001b[22mLegalAPIService\u001b[2m > \u001b[22mextractKeywords\u001b[2m > \u001b[22mshould return general keywords when no legal terms found\n \u001b[32m\u2713\u001b[39m src/services/LegalAPIService.test.ts\u001b[2m > \u001b[22mLegalAPIService\u001b[2m > \u001b[22mclassifyQuestion\u001b[2m > \u001b[22mshould classify pregnancy discrimination as employment\n \u001b[32m\u2713\u001b[39m src/services/LegalAPIService.test.ts\u001b[2m > \u001b[22mLegalAPIService\u001b[2m > \u001b[22mclassifyQuestion\u001b[2m > \u001b[22mshould classify eviction as housing\n \u001b[32m\u2713\u001b[39m src/services/LegalAPIService.test.ts\u001b[2m > \u001b[22mLegalAPIService\u001b[2m > \u001b[22mclassifyQuestion\u001b[2m > \u001b[22mshould classify consumer refund as consumer\n \u001b[31m\u00d7\u001b[39m src/services/LegalAPIService.test.ts\u001b[2m > \u001b[22mLegalAPIService\u001b[2m > \u001b[22mclassifyQuestion\u001b[2m > \u001b[22mshould default to civil for unknown questions\n\u001b[31m   \u2192 expected 'general' to be 'civil' // Object.is equality\u001b[39m\n \u001b[32m\u2713\u001b[39m src/services/LegalAPIService.test.ts\u001b[2m > \u001b[22mLegalAPIService\u001b[2m > \u001b[22msearchLegalInfo\u001b[2m > \u001b[22mshould return LegalSearchResults structure\n \u001b[32m\u2713\u001b[39m src/utils/error-logger.test.ts\u001b[2m > \u001b[22mErrorLogger\u001b[2m > \u001b[22mshould create log directory if it does not exist\n \u001b[32m\u2713\u001b[39m src/utils/error-logger.test.ts\u001b[2m > \u001b[22mErrorLogger\u001b[2m > \u001b[22mshould log error to file\n \u001b[32m\u2713\u001b[39m src/utils/error-logger.test.ts\u001b[2m > \u001b[22mErrorLogger\u001b[2m > \u001b[22mshould log string error\n \u001b[32m\u2713\u001b[39m src/utils/error-logger.test.ts\u001b[2m > \u001b[22mErrorLogger\u001b[2m > \u001b[22mshould include context in log\n \u001b[32m\u2713\u001b[39m src/utils/error-logger.test.ts\u001b[2m > \u001b[22mErrorLogger\u001b[2m > \u001b[22mshould rotate log file when exceeding max size\n \u001b[32m\u2713\u001b[39m src/utils/error-logger.test.ts\u001b[2m > \u001b[22mErrorLogger\u001b[2m > \u001b[22mshould read recent errors\n \u001b[32m\u2713\u001b[39m src/utils/error-logger.test.ts\u001b[2m > \u001b[22mErrorLogger\u001b[2m > \u001b[22mshould clear all logs\n \u001b[32m\u2713\u001b[39m src/utils/error-logger.test.ts\u001b[2m > \u001b[22mErrorLogger\u001b[2m > \u001b[22mshould maintain max number of backups\n \u001b[32m\u2713\u001b[39m src/services/LegalAPIService.test.ts\u001b[2m > \u001b[22mLegalAPIService\u001b[2m > \u001b[22msearchLegalInfo\u001b[2m > \u001b[22mshould cache results on subsequent calls\n \u001b[32m\u2713\u001b[39m src/services/LegalAPIService.test.ts\u001b[2m > \u001b[22mLegalAPIService\u001b[2m > \u001b[22msearchLegalInfo\u001b[2m > \u001b[22mshould handle errors gracefully and return empty results\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mKeyboard Shortcuts\u001b[2m > \u001b[22mshould trim whitespace before sending\u001b[33m 323\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/services/LegalAPIService.test.ts\u001b[2m > \u001b[22mLegalAPIService\u001b[2m > \u001b[22mcache management\u001b[2m > \u001b[22mshould clear cache\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mRecovery Actions\u001b[2m > \u001b[22mshould reset error state when continue button is clicked\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mError Message Handling\u001b[2m > \u001b[22mshould display custom error message\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mError Message Handling\u001b[2m > \u001b[22mshould display default message if error has no message\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mStyling and UI\u001b[2m > \u001b[22mshould have red background for error container\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mStyling and UI\u001b[2m > \u001b[22mshould have white card background for error content\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mStyling and UI\u001b[2m > \u001b[22mshould have proper button styling for reload button\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mStyling and UI\u001b[2m > \u001b[22mshould have proper button styling for continue button\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have proper heading hierarchy\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have focusable buttons\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have focus styles on buttons\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle errors with stack traces\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle null error gracefully\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle re-rendering after error is caught\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mSend Button Click\u001b[2m > \u001b[22mshould send message when send button is clicked\u001b[33m 351\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mEdit Mode Interactions\u001b[2m > \u001b[22mshould trim whitespace before calling onUpdate\u001b[33m 703\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mEdit Mode Interactions\u001b[2m > \u001b[22mshould NOT call onUpdate if content is unchanged\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould render loading state\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould render error state\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould render empty state when no facts match filters\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould render facts list when data is loaded\u001b[33m 358\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould display correct count in header\u001b[33m 436\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould render Add Case Fact button\u001b[33m 1504\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mCategory Filtering\u001b[2m > \u001b[22mshould display all category filter buttons with counts\u001b[33m 2511\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mSend Button Click\u001b[2m > \u001b[22mshould enable send button when textarea has text\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mSend Button Click\u001b[2m > \u001b[22mshould NOT send empty message when button is clicked\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mDisabled State\u001b[2m > \u001b[22mshould disable textarea when disabled prop is true\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mDisabled State\u001b[2m > \u001b[22mshould disable send button when disabled prop is true\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mDisabled State\u001b[2m > \u001b[22mshould NOT send message when disabled and Enter is pressed\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mDisabled State\u001b[2m > \u001b[22mshould apply disabled styling to textarea\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mDisabled State\u001b[2m > \u001b[22mshould apply disabled styling to send button\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mCreate Note Workflow\u001b[2m > \u001b[22mshould call createNote when Save button is clicked with content\u001b[33m 1578\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould render loading state\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould render error state\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould render empty state when no facts exist\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould render facts list when data is loaded\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould display correct count in header\u001b[33m 377\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould render Add User Fact button\u001b[33m 790\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mType Filtering\u001b[2m > \u001b[22mshould display all filter buttons with counts\u001b[33m 1451\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mEdit Mode Interactions\u001b[2m > \u001b[22mshould revert changes when Escape key is pressed\u001b[33m 466\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mAuto-resize Behavior\u001b[2m > \u001b[22mshould resize textarea as content grows\u001b[33m 415\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mAuto-resize Behavior\u001b[2m > \u001b[22mshould have minimum height set\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mAuto-resize Behavior\u001b[2m > \u001b[22mshould have maximum height set\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have proper ARIA label for textarea\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have proper ARIA label for send button\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould update aria-disabled when disabled prop changes\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mDelete Functionality\u001b[2m > \u001b[22mshould call onDelete when delete button is clicked and confirmed\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mCategory Filtering\u001b[2m > \u001b[22mshould filter facts by timeline category\u001b[33m 1013\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mDelete Functionality\u001b[2m > \u001b[22mshould NOT call onDelete when delete is cancelled\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mDelete Functionality\u001b[2m > \u001b[22mshould stop propagation when delete button is clicked\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have appropriate cursor style when not readOnly\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have default cursor when readOnly\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mType Filtering\u001b[2m > \u001b[22mshould filter facts by personal type when clicked\u001b[33m 511\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould be keyboard navigable\u001b[33m 423\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have placeholder in textarea when editing empty note\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould preserve whitespace in content display\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle very long content\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mType Filtering\u001b[2m > \u001b[22mshould filter facts by employment type\u001b[33m 431\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mCategory Filtering\u001b[2m > \u001b[22mshould filter facts by evidence category\u001b[33m 573\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mCreate Note Workflow\u001b[2m > \u001b[22mshould clear textarea and hide creator after successful creation\u001b[33m 1276\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle special characters in content\u001b[33m 1105\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mType Filtering\u001b[2m > \u001b[22mshould show all facts when \"All\" filter is selected\u001b[33m 1123\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle rapid click events without breaking\u001b[33m 309\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould update content when prop changes\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mCreate Note Workflow\u001b[2m > \u001b[22mshould NOT call createNote when content is empty\u001b[33m 1182\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle empty onUpdate gracefully\u001b[33m 375\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mHover Effects\u001b[2m > \u001b[22mshould apply hover styles on mouse enter\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mHover Effects\u001b[2m > \u001b[22mshould restore styles on mouse leave\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mHover Effects\u001b[2m > \u001b[22mshould NOT apply hover effects when in edit mode\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mType Filtering\u001b[2m > \u001b[22mshould update count in header when filtering\u001b[33m 538\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mType Filtering\u001b[2m > \u001b[22mshould show empty state when filtered category has no facts\u001b[33m 639\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mCreate Note Workflow\u001b[2m > \u001b[22mshould NOT call createNote when content is only whitespace\u001b[33m 1036\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mCreate User Fact Workflow\u001b[2m > \u001b[22mshould show fact creator when Add button is clicked\u001b[33m 367\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mCategory Filtering\u001b[2m > \u001b[22mshould show all facts when \"All\" category filter is selected\u001b[33m 1705\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mImportance Filtering\u001b[2m > \u001b[22mshould display all importance filter buttons with counts\u001b[33m 1307\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mCreate User Fact Workflow\u001b[2m > \u001b[22mshould default to \"personal\" type when creating new fact\u001b[33m 386\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mCreate Note Workflow\u001b[2m > \u001b[22mshould hide creator and clear content when Cancel is clicked\u001b[33m 883\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mImportance Filtering\u001b[2m > \u001b[22mshould filter facts by critical importance\u001b[33m 479\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mCreate User Fact Workflow\u001b[2m > \u001b[22mshould allow changing fact type before creating\u001b[33m 409\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mUpdate Note Workflow\u001b[2m > \u001b[22mshould enter edit mode when Edit button is clicked\u001b[33m 316\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mCreate User Fact Workflow\u001b[2m > \u001b[22mshould render new fact creator UI elements\u001b[33m 358\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mImportance Filtering\u001b[2m > \u001b[22mshould filter facts by high importance\u001b[33m 489\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mUpdate User Fact\u001b[2m > \u001b[22mshould call updateUserFact when fact is updated\u001b[33m 323\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mUpdate Note Workflow\u001b[2m > \u001b[22mshould show Save and Cancel buttons in edit mode\u001b[33m 576\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mDelete User Fact\u001b[2m > \u001b[22mshould call deleteUserFact when delete button is clicked\u001b[33m 317\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mColor Assignment\u001b[2m > \u001b[22mshould assign correct colors to different fact types\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle very long fact content\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle special characters in fact content\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle caseId prop changes\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have proper heading hierarchy\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have accessible label for type select\u001b[33m 320\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mImportance Filtering\u001b[2m > \u001b[22mshould combine category and importance filters\u001b[33m 813\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mUpdate Note Workflow\u001b[2m > \u001b[22mshould call updateNote when Save button is clicked with changes\u001b[33m 1023\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mImportance Filtering\u001b[2m > \u001b[22mshould show empty state when combined filters match nothing\u001b[33m 833\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mCreate Case Fact Workflow\u001b[2m > \u001b[22mshould show fact creator when Add button is clicked\u001b[33m 560\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mUpdate Note Workflow\u001b[2m > \u001b[22mshould exit edit mode after successful update\u001b[33m 968\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mCreate Case Fact Workflow\u001b[2m > \u001b[22mshould default to \"timeline\" category and \"medium\" importance\u001b[33m 548\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mUpdate Note Workflow\u001b[2m > \u001b[22mshould NOT call updateNote when content is empty\u001b[33m 585\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mCreate Case Fact Workflow\u001b[2m > \u001b[22mshould allow changing category before creating\u001b[33m 622\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mUpdate Note Workflow\u001b[2m > \u001b[22mshould exit edit mode and revert changes when Cancel is clicked\u001b[33m 904\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mCreate Case Fact Workflow\u001b[2m > \u001b[22mshould allow changing importance before creating\u001b[33m 633\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mCreate Case Fact Workflow\u001b[2m > \u001b[22mshould render new fact creator UI elements\u001b[33m 544\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mUpdate Note Workflow\u001b[2m > \u001b[22mshould handle editing multiple notes independently\u001b[33m 896\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mDelete Note Workflow\u001b[2m > \u001b[22mshould call deleteNote when Delete button is clicked and confirmed\u001b[33m 316\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mUpdate Case Fact\u001b[2m > \u001b[22mshould call updateCaseFact when fact is updated\u001b[33m 523\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mDelete Note Workflow\u001b[2m > \u001b[22mshould NOT call deleteNote when delete is cancelled\u001b[33m 302\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mContent Display\u001b[2m > \u001b[22mshould preserve multiline content with pre-wrap\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mContent Display\u001b[2m > \u001b[22mshould display full timestamps in locale format\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle very long note content\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle special characters in note content\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle caseId prop changes\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mDelete Case Fact\u001b[2m > \u001b[22mshould call deleteCaseFact when delete button is clicked\u001b[33m 484\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mImportance Badges\u001b[2m > \u001b[22mshould display importance badge for each fact\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mColor Assignment\u001b[2m > \u001b[22mshould assign correct colors to different fact categories\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle very long fact content\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle special characters in fact content\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle caseId prop changes\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould update count when filtering\u001b[33m 530\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have proper heading hierarchy\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have accessible labels for selects\u001b[33m 509\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have descriptive filter labels\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle rapid create and cancel clicks\u001b[33m 1082\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have proper heading hierarchy\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have accessible placeholder for new note textarea\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould autofocus edit textarea when entering edit mode\u001b[33m 316\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have clear button labels\u001b[33m 410\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould handle keyboard navigation through buttons\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mEmpty State Behavior\u001b[2m > \u001b[22mshould show empty state with correct styling\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mEmpty State Behavior\u001b[2m > \u001b[22mshould show count of 0 in header when no notes\n\n\u001b[2m Test Files \u001b[22m \u001b[1m\u001b[31m14 failed\u001b[39m\u001b[22m\u001b[2m | \u001b[22m\u001b[1m\u001b[32m16 passed\u001b[39m\u001b[22m\u001b[90m (30)\u001b[39m\n\u001b[2m      Tests \u001b[22m \u001b[1m\u001b[31m233 failed\u001b[39m\u001b[22m\u001b[2m | \u001b[22m\u001b[1m\u001b[32m541 passed\u001b[39m\u001b[22m\u001b[90m (774)\u001b[39m\n\u001b[2m   Start at \u001b[22m 00:18:43\n\u001b[2m   Duration \u001b[22m 22.76s\u001b[2m (transform 4.63s, setup 7.24s, collect 13.80s, tests 63.51s, environment 51.70s, prepare 7.92s)\u001b[22m\n\n",
    "stderr": "\u001b[33mThe CJS build of Vite's Node API is deprecated. See https://vite.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.\u001b[39m\n\u001b[90mstderr\u001b[2m | src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22m\u001b[2museLegalIssues\u001b[2m > \u001b[22m\u001b[2mInitial State and Data Loading\u001b[2m > \u001b[22m\u001b[2mshould initialize with empty array and loading state\n\u001b[22m\u001b[39mWarning: Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition.\n\n\u001b[90mstderr\u001b[2m | src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22m\u001b[2museUserFacts\u001b[2m > \u001b[22m\u001b[2mInitial State and Data Loading\u001b[2m > \u001b[22m\u001b[2mshould initialize with empty array and loading state\n\u001b[22m\u001b[39mWarning: Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition.\n\n\u001b[90mstderr\u001b[2m | src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22m\u001b[2museTimeline\u001b[2m > \u001b[22m\u001b[2mInitial State and Data Loading\u001b[2m > \u001b[22m\u001b[2mshould initialize with empty array and loading state\n\u001b[22m\u001b[39mWarning: Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition.\n\n\u001b[90mstderr\u001b[2m | src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mUserFactsRepository\u001b[2m > \u001b[22m\u001b[2mcreate\u001b[2m > \u001b[22m\u001b[2mshould create a user fact with encrypted content\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:80:31\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:80:31\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mUserFactsRepository\u001b[2m > \u001b[22m\u001b[2mcreate\u001b[2m > \u001b[22m\u001b[2mshould create user facts with different types\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:113:33\n    at Array.forEach (<anonymous>)\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:112:17\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11 {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:113:33\n    at Array.forEach (<anonymous>)\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:112:17\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:113:33\n    at Array.forEach (<anonymous>)\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:112:17\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11 {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:113:33\n    at Array.forEach (<anonymous>)\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:112:17\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:113:33\n    at Array.forEach (<anonymous>)\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:112:17\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11 {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:113:33\n    at Array.forEach (<anonymous>)\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:112:17\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:113:33\n    at Array.forEach (<anonymous>)\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:112:17\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11 {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:113:33\n    at Array.forEach (<anonymous>)\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:112:17\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:113:33\n    at Array.forEach (<anonymous>)\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:112:17\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11 {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:113:33\n    at Array.forEach (<anonymous>)\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:112:17\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:113:33\n    at Array.forEach (<anonymous>)\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:112:17\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11 {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:113:33\n    at Array.forEach (<anonymous>)\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:112:17\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mUserFactsRepository\u001b[2m > \u001b[22m\u001b[2mcreate\u001b[2m > \u001b[22m\u001b[2mshould audit user fact creation\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:125:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:125:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22m\u001b[2museCaseFacts\u001b[2m > \u001b[22m\u001b[2mInitial State and Data Loading\u001b[2m > \u001b[22m\u001b[2mshould initialize with empty array and loading state\n\u001b[22m\u001b[39mWarning: Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition.\n\n\u001b[90mstderr\u001b[2m | src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mCaseFactsRepository\u001b[2m > \u001b[22m\u001b[2mcreate\u001b[2m > \u001b[22m\u001b[2mshould create a case fact with encrypted content\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:81:31\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:81:31\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mUserFactsRepository\u001b[2m > \u001b[22m\u001b[2mcreate\u001b[2m > \u001b[22m\u001b[2mshould audit failed creation\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:67:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:167:31\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mUserFactsRepository\u001b[2m > \u001b[22m\u001b[2mfindById\u001b[2m > \u001b[22m\u001b[2mshould find user fact by ID and decrypt content\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:183:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:183:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:189:32\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mUserFactsRepository\u001b[2m > \u001b[22m\u001b[2mfindById\u001b[2m > \u001b[22m\u001b[2mshould audit content access when decrypting\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:203:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:203:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:212:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mCaseFactsRepository\u001b[2m > \u001b[22m\u001b[2mcreate\u001b[2m > \u001b[22m\u001b[2mshould create case facts with different categories\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:116:33\n    at Array.forEach (<anonymous>)\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:115:22\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11 {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:116:33\n    at Array.forEach (<anonymous>)\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:115:22\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:116:33\n    at Array.forEach (<anonymous>)\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:115:22\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11 {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:116:33\n    at Array.forEach (<anonymous>)\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:115:22\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:116:33\n    at Array.forEach (<anonymous>)\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:115:22\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11 {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:116:33\n    at Array.forEach (<anonymous>)\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:115:22\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:116:33\n    at Array.forEach (<anonymous>)\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:115:22\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11 {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:116:33\n    at Array.forEach (<anonymous>)\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:115:22\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:116:33\n    at Array.forEach (<anonymous>)\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:115:22\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11 {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:116:33\n    at Array.forEach (<anonymous>)\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:115:22\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:116:33\n    at Array.forEach (<anonymous>)\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:115:22\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11 {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:116:33\n    at Array.forEach (<anonymous>)\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:115:22\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mUserFactsRepository\u001b[2m > \u001b[22m\u001b[2mfindByCaseId\u001b[2m > \u001b[22m\u001b[2mshould find all user facts for a case\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:234:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:234:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:240:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:240:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:246:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:246:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findByCaseId \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:147:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:252:32\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mCaseFactsRepository\u001b[2m > \u001b[22m\u001b[2mcreate\u001b[2m > \u001b[22m\u001b[2mshould create case facts with different importance levels\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:137:33\n    at Array.forEach (<anonymous>)\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:136:24\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11 {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:137:33\n    at Array.forEach (<anonymous>)\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:136:24\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:137:33\n    at Array.forEach (<anonymous>)\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:136:24\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11 {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:137:33\n    at Array.forEach (<anonymous>)\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:136:24\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:137:33\n    at Array.forEach (<anonymous>)\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:136:24\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11 {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:137:33\n    at Array.forEach (<anonymous>)\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:136:24\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:137:33\n    at Array.forEach (<anonymous>)\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:136:24\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11 {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:137:33\n    at Array.forEach (<anonymous>)\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:136:24\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mUserFactsRepository\u001b[2m > \u001b[22m\u001b[2mfindByCaseId\u001b[2m > \u001b[22m\u001b[2mshould audit bulk content access\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:266:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:266:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:272:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:272:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findByCaseId \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:147:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:281:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mCaseFactsRepository\u001b[2m > \u001b[22m\u001b[2mcreate\u001b[2m > \u001b[22m\u001b[2mshould audit case fact creation\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:150:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:150:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mUserFactsRepository\u001b[2m > \u001b[22m\u001b[2mfindByType\u001b[2m > \u001b[22m\u001b[2mshould find user facts by type\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:294:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:294:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:300:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:300:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:306:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:306:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findByType \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:192:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:312:40\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findByType \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:192:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:313:42\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mCaseFactsRepository\u001b[2m > \u001b[22m\u001b[2mcreate\u001b[2m > \u001b[22m\u001b[2mshould audit failed creation\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:69:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:194:31\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22m\u001b[2mFacts Repositories Integration Tests\u001b[2m > \u001b[22m\u001b[2mCreating both fact types for a case\u001b[2m > \u001b[22m\u001b[2mshould create user facts and case facts for the same case\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:95:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:95:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:101:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:101:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:107:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:107:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:114:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:114:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:121:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:121:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:128:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:128:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findByCaseId \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:147:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:136:39\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findByCaseId \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:151:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:143:39\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mUserFactsRepository\u001b[2m > \u001b[22m\u001b[2mfindByType\u001b[2m > \u001b[22m\u001b[2mshould audit filtered content access\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:327:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:327:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findByType \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:192:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:336:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mCaseFactsRepository\u001b[2m > \u001b[22m\u001b[2mfindById\u001b[2m > \u001b[22m\u001b[2mshould find case fact by ID and decrypt content\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:210:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:210:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:217:32\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22m\u001b[2mFacts Repositories Integration Tests\u001b[2m > \u001b[22m\u001b[2mEncryption verification across both repositories\u001b[2m > \u001b[22m\u001b[2mshould encrypt both user facts and case facts independently\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:153:38\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:153:38\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:159:38\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:159:38\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:178:47\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:179:47\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mUserFactsRepository\u001b[2m > \u001b[22m\u001b[2mupdate\u001b[2m > \u001b[22m\u001b[2mshould update fact content with re-encryption\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:349:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:349:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.update \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:248:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:355:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.update \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:251:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:355:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mCaseFactsRepository\u001b[2m > \u001b[22m\u001b[2mfindById\u001b[2m > \u001b[22m\u001b[2mshould audit content access when decrypting\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:232:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:232:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:241:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22m\u001b[2mFacts Repositories Integration Tests\u001b[2m > \u001b[22m\u001b[2mFiltering and categorization\u001b[2m > \u001b[22m\u001b[2mshould filter user facts by type\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:189:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:189:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1040:30\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:195:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:195:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1040:30\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:201:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:201:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1040:30\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:207:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:207:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1040:30\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:214:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:214:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1040:30\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:221:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:221:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1040:30\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findByType \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:192:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:230:43\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findByType \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:192:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:231:45\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mUserFactsRepository\u001b[2m > \u001b[22m\u001b[2mupdate\u001b[2m > \u001b[22m\u001b[2mshould update fact type\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:371:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:371:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.update \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:248:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:377:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.update \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:251:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:377:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mCaseFactsRepository\u001b[2m > \u001b[22m\u001b[2mfindByCaseId\u001b[2m > \u001b[22m\u001b[2mshould find all case facts for a case ordered by importance\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:263:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:263:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:270:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:270:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:277:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:277:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findByCaseId \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:151:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:284:32\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22m\u001b[2mFacts Repositories Integration Tests\u001b[2m > \u001b[22m\u001b[2mFiltering and categorization\u001b[2m > \u001b[22m\u001b[2mshould filter case facts by category\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:189:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:189:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1040:30\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:195:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:195:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1040:30\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:201:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:201:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1040:30\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:207:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:207:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1040:30\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:214:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:214:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1040:30\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:221:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:221:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1040:30\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findByCategory \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:197:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:238:43\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findByCategory \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:197:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:239:43\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mUserFactsRepository\u001b[2m > \u001b[22m\u001b[2mupdate\u001b[2m > \u001b[22m\u001b[2mshould update both content and type\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:387:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:387:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.update \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:248:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:393:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.update \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:251:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:393:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mCaseFactsRepository\u001b[2m > \u001b[22m\u001b[2mfindByCaseId\u001b[2m > \u001b[22m\u001b[2mshould audit bulk content access\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:298:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:298:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:304:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:304:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findByCaseId \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:151:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:313:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22m\u001b[2mFacts Repositories Integration Tests\u001b[2m > \u001b[22m\u001b[2mFiltering and categorization\u001b[2m > \u001b[22m\u001b[2mshould filter case facts by importance\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:189:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:189:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1040:30\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:195:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:195:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1040:30\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:201:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:201:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1040:30\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:207:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:207:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1040:30\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:214:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:214:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1040:30\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:221:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:221:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at callSuiteHook \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:964:28\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1040:30\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findByImportance \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:244:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:246:43\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findByImportance \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:244:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:247:39\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findByImportance \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:244:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:248:38\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mUserFactsRepository\u001b[2m > \u001b[22m\u001b[2mupdate\u001b[2m > \u001b[22m\u001b[2mshould audit update operation\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:404:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:404:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.update \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:248:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:410:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.update \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:251:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:410:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mCaseFactsRepository\u001b[2m > \u001b[22m\u001b[2mfindByCategory\u001b[2m > \u001b[22m\u001b[2mshould find case facts by category\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:326:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:326:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:332:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:332:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:338:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:338:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findByCategory \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:197:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:344:40\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findByCategory \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:197:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:345:39\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22m\u001b[2mFacts Repositories Integration Tests\u001b[2m > \u001b[22m\u001b[2mCascade delete behavior\u001b[2m > \u001b[22m\u001b[2mshould delete both user facts and case facts when case is deleted\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:259:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:259:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:265:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:265:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:271:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:271:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:277:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:277:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findByCaseId \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:147:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:284:28\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findByCaseId \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:151:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:285:28\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mUserFactsRepository\u001b[2m > \u001b[22m\u001b[2mupdate\u001b[2m > \u001b[22m\u001b[2mshould throw error if encryption service is missing\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:433:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:433:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mCaseFactsRepository\u001b[2m > \u001b[22m\u001b[2mfindByCategory\u001b[2m > \u001b[22m\u001b[2mshould audit filtered content access\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:359:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:359:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findByCategory \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:197:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:368:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22m\u001b[2mFacts Repositories Integration Tests\u001b[2m > \u001b[22m\u001b[2mAudit trail verification\u001b[2m > \u001b[22m\u001b[2mshould create separate audit logs for user facts and case facts\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:298:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:298:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:304:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:304:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mUserFactsRepository\u001b[2m > \u001b[22m\u001b[2mdelete\u001b[2m > \u001b[22m\u001b[2mshould delete user fact\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:451:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:451:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.delete \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:289:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:457:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mCaseFactsRepository\u001b[2m > \u001b[22m\u001b[2mfindByImportance\u001b[2m > \u001b[22m\u001b[2mshould find case facts by importance level\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:381:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:381:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:388:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:388:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:395:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:395:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findByImportance \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:244:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:402:40\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findByImportance \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:244:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:403:38\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22m\u001b[2mFacts Repositories Integration Tests\u001b[2m > \u001b[22m\u001b[2mAudit trail verification\u001b[2m > \u001b[22m\u001b[2mshould audit content access for both fact types\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:318:38\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:318:38\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:324:38\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:324:38\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:333:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:334:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mUserFactsRepository\u001b[2m > \u001b[22m\u001b[2mdelete\u001b[2m > \u001b[22m\u001b[2mshould return false for non-existent fact\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.delete \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:289:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:465:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mCaseFactsRepository\u001b[2m > \u001b[22m\u001b[2mfindByImportance\u001b[2m > \u001b[22m\u001b[2mshould audit filtered content access by importance\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:417:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:417:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findByImportance \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:244:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:427:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22m\u001b[2mFacts Repositories Integration Tests\u001b[2m > \u001b[22m\u001b[2mAudit trail verification\u001b[2m > \u001b[22m\u001b[2mshould audit updates and deletes for both fact types\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:344:38\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:344:38\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:350:38\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:350:38\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.update \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:248:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:356:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.update \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:251:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:356:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.update \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:305:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:357:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.update \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:308:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:357:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.delete \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:289:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:359:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.delete \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:346:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:360:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mUserFactsRepository\u001b[2m > \u001b[22m\u001b[2mdelete\u001b[2m > \u001b[22m\u001b[2mshould audit delete operation\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:470:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:470:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.delete \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:289:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:476:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mCaseFactsRepository\u001b[2m > \u001b[22m\u001b[2mupdate\u001b[2m > \u001b[22m\u001b[2mshould update fact content with re-encryption\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:440:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:440:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.update \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:305:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:446:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.update \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:308:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:446:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22m\u001b[2mFacts Repositories Integration Tests\u001b[2m > \u001b[22m\u001b[2mReal-world case scenario\u001b[2m > \u001b[22m\u001b[2mshould handle a complete employment discrimination case with mixed facts\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:377:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:377:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:383:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:383:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:389:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:389:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:395:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:395:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:401:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:401:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:407:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:407:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:414:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:414:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:421:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:421:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:428:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:428:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:435:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:435:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:442:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:442:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:449:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:449:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:456:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:456:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:463:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:463:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:470:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:470:21\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findByCaseId \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:147:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:478:39\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findByCaseId \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:151:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:479:39\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findByType \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:192:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:485:43\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findByType \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:192:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:486:42\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findByCategory \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:197:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:487:43\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findByCategory \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:197:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:488:42\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findByImportance \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:244:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:489:43\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mUserFactsRepository\u001b[2m > \u001b[22m\u001b[2mdependency injection\u001b[2m > \u001b[22m\u001b[2mshould allow setting audit logger\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:541:12\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:541:12\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mCaseFactsRepository\u001b[2m > \u001b[22m\u001b[2mupdate\u001b[2m > \u001b[22m\u001b[2mshould update fact category\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:462:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:462:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.update \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:305:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:468:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.update \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:308:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:468:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22m\u001b[2mFacts Repositories Integration Tests\u001b[2m > \u001b[22m\u001b[2mError handling\u001b[2m > \u001b[22m\u001b[2mshould handle invalid case IDs gracefully\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:67:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\FactsRepositories.test.ts:516:23\n    at Proxy.assertThrows \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4mchai\u001b[24m/index.js:2767:5\u001b[90m)\u001b[39m\n    at Proxy.methodWrapper \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4mchai\u001b[24m/index.js:1686:25\u001b[90m)\u001b[39m\n    at Proxy.<anonymous> \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/expect\u001b[24m/dist/index.js:1029:16\u001b[90m)\u001b[39m\n    at Proxy.overwritingMethodWrapper \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4mchai\u001b[24m/index.js:1735:33\u001b[90m)\u001b[39m\n    at Proxy.<anonymous> \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/expect\u001b[24m/dist/index.js:1509:21\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mUserFactsRepository\u001b[2m > \u001b[22m\u001b[2mCASCADE DELETE\u001b[2m > \u001b[22m\u001b[2mshould delete user facts when case is deleted\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:554:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:554:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:105:27\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:48:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:560:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at UserFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.ts:51:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\UserFactsRepository.test.ts:560:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mCaseFactsRepository\u001b[2m > \u001b[22m\u001b[2mupdate\u001b[2m > \u001b[22m\u001b[2mshould update importance level\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:478:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:478:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.update \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:305:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:485:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.update \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:308:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:485:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mCaseFactsRepository\u001b[2m > \u001b[22m\u001b[2mupdate\u001b[2m > \u001b[22m\u001b[2mshould update multiple fields at once\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:494:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:494:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.update \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:305:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:501:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.update \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:308:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:501:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mCaseFactsRepository\u001b[2m > \u001b[22m\u001b[2mupdate\u001b[2m > \u001b[22m\u001b[2mshould audit update operation\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:514:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:514:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.update \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:305:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:520:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.update \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:308:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:520:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mCaseFactsRepository\u001b[2m > \u001b[22m\u001b[2mupdate\u001b[2m > \u001b[22m\u001b[2mshould throw error if encryption service is missing\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:545:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:545:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mCaseFactsRepository\u001b[2m > \u001b[22m\u001b[2mdelete\u001b[2m > \u001b[22m\u001b[2mshould delete case fact\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:563:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:563:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.delete \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:346:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:569:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mCaseFactsRepository\u001b[2m > \u001b[22m\u001b[2mdelete\u001b[2m > \u001b[22m\u001b[2mshould return false for non-existent fact\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.delete \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:346:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:577:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mCaseFactsRepository\u001b[2m > \u001b[22m\u001b[2mdelete\u001b[2m > \u001b[22m\u001b[2mshould audit delete operation\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:582:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:582:34\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.delete \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:346:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:588:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mCaseFactsRepository\u001b[2m > \u001b[22m\u001b[2mdependency injection\u001b[2m > \u001b[22m\u001b[2mshould allow setting audit logger\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:653:12\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:653:12\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22m\u001b[2mCaseFactsRepository\u001b[2m > \u001b[22m\u001b[2mCASCADE DELETE\u001b[2m > \u001b[22m\u001b[2mshould delete case facts when case is deleted\n\u001b[22m\u001b[39m\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:666:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:666:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.findById \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:108:27\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:49:32\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:672:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\u274c Audit logging failed: SqliteError: no such column: integrity_hash\n    at Database.prepare \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39mnode_modules\\\u001b[4mbetter-sqlite3\u001b[24m\\lib\\methods\\wrappers.js:5:21\u001b[90m)\u001b[39m\n    at AuditLogger.getLastLogHash \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:335:26\u001b[90m)\u001b[39m\n    at AuditLogger.log \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\services\\AuditLogger.ts:33:33\u001b[90m)\u001b[39m\n    at CaseFactsRepository.create \u001b[90m(C:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.ts:52:25\u001b[90m)\u001b[39m\n    at \u001b[90mC:\\Users\\sava6\\Desktop\\Justice Companion\\\u001b[39msrc\\repositories\\CaseFactsRepository.test.ts:672:18\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:146:14\n    at \u001b[90mfile:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:533:11\n    at runWithTimeout \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:39:7\u001b[90m)\u001b[39m\n    at runTest \u001b[90m(file:///C:/Users/sava6/Desktop/Justice%20Companion/\u001b[39mnode_modules/\u001b[4m@vitest/runner\u001b[24m/dist/index.js:1056:17\u001b[90m)\u001b[39m\n\u001b[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)\u001b[39m {\n  code: \u001b[32m'SQLITE_ERROR'\u001b[39m\n}\n\n\u001b[90mstderr\u001b[2m | src/hooks/useNotes.test.ts\u001b[2m > \u001b[22m\u001b[2museNotes\u001b[2m > \u001b[22m\u001b[2mInitial State and Data Loading\u001b[2m > \u001b[22m\u001b[2mshould initialize with empty notes array and loading state\n\u001b[22m\u001b[39mWarning: Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition.\n\n\u001b[90mstderr\u001b[2m | src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22m\u001b[2mErrorBoundary\u001b[2m > \u001b[22m\u001b[2mError Catching\u001b[2m > \u001b[22m\u001b[2mshould catch errors from child components\n\u001b[22m\u001b[39m[ErrorBoundary] justiceAPI.logUIError not available\n\n\u001b[90mstderr\u001b[2m | src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22m\u001b[2mErrorBoundary\u001b[2m > \u001b[22m\u001b[2mError Catching\u001b[2m > \u001b[22m\u001b[2mshould display error message in error UI\n\u001b[22m\u001b[39m[ErrorBoundary] justiceAPI.logUIError not available\n\n\u001b[90mstderr\u001b[2m | src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22m\u001b[2mErrorBoundary\u001b[2m > \u001b[22m\u001b[2mError Catching\u001b[2m > \u001b[22m\u001b[2mshould show error details heading\n\u001b[22m\u001b[39m[ErrorBoundary] justiceAPI.logUIError not available\n\n\u001b[90mstderr\u001b[2m | src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22m\u001b[2mErrorBoundary\u001b[2m > \u001b[22m\u001b[2mError Catching\u001b[2m > \u001b[22m\u001b[2mshould log error to console\n\u001b[22m\u001b[39m[ErrorBoundary] justiceAPI.logUIError not available\n\n\u001b[90mstderr\u001b[2m | src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22m\u001b[2mErrorBoundary\u001b[2m > \u001b[22m\u001b[2mError Catching\u001b[2m > \u001b[22m\u001b[2mshould log component stack to console\n\u001b[22m\u001b[39m[ErrorBoundary] justiceAPI.logUIError not available\n\n\u001b[90mstderr\u001b[2m | src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22m\u001b[2mErrorBoundary\u001b[2m > \u001b[22m\u001b[2mError Fallback UI\u001b[2m > \u001b[22m\u001b[2mshould display error icon\n\u001b[22m\u001b[39m[ErrorBoundary] justiceAPI.logUIError not available\n\n\u001b[90mstderr\u001b[2m | src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22m\u001b[2mErrorBoundary\u001b[2m > \u001b[22m\u001b[2mError Fallback UI\u001b[2m > \u001b[22m\u001b[2mshould display heading\n\u001b[22m\u001b[39m[ErrorBoundary] justiceAPI.logUIError not available\n\n\u001b[90mstderr\u001b[2m | src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22m\u001b[2mErrorBoundary\u001b[2m > \u001b[22m\u001b[2mError Fallback UI\u001b[2m > \u001b[22m\u001b[2mshould display reload button\n\u001b[22m\u001b[39m[ErrorBoundary] justiceAPI.logUIError not available\n\n\u001b[90mstderr\u001b[2m | src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22m\u001b[2mErrorBoundary\u001b[2m > \u001b[22m\u001b[2mError Fallback UI\u001b[2m > \u001b[22m\u001b[2mshould display try to continue button\n\u001b[22m\u001b[39m[ErrorBoundary] justiceAPI.logUIError not available\n\n\u001b[90mstderr\u001b[2m | src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22m\u001b[2mErrorBoundary\u001b[2m > \u001b[22m\u001b[2mError Fallback UI\u001b[2m > \u001b[22m\u001b[2mshould display help text with log file path\n\u001b[22m\u001b[39m[ErrorBoundary] justiceAPI.logUIError not available\n\n\u001b[90mstderr\u001b[2m | src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22m\u001b[2mErrorBoundary\u001b[2m > \u001b[22m\u001b[2mDevelopment-Only Features\u001b[2m > \u001b[22m\u001b[2mshould show component stack in development mode\n\u001b[22m\u001b[39m[ErrorBoundary] justiceAPI.logUIError not available\n\n\u001b[90mstderr\u001b[2m | src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22m\u001b[2mErrorBoundary\u001b[2m > \u001b[22m\u001b[2mDevelopment-Only Features\u001b[2m > \u001b[22m\u001b[2mshould show error stack in development mode\n\u001b[22m\u001b[39m[ErrorBoundary] justiceAPI.logUIError not available\n\n\u001b[90mstderr\u001b[2m | src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22m\u001b[2mErrorBoundary\u001b[2m > \u001b[22m\u001b[2mDevelopment-Only Features\u001b[2m > \u001b[22m\u001b[2mshould NOT show component stack in production mode\n\u001b[22m\u001b[39m[ErrorBoundary] justiceAPI.logUIError not available\n\n\u001b[90mstderr\u001b[2m | src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22m\u001b[2mErrorBoundary\u001b[2m > \u001b[22m\u001b[2mDevelopment-Only Features\u001b[2m > \u001b[22m\u001b[2mshould NOT show error stack in production mode\n\u001b[22m\u001b[39m[ErrorBoundary] justiceAPI.logUIError not available\n\n\u001b[90mstderr\u001b[2m | src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22m\u001b[2mErrorBoundary\u001b[2m > \u001b[22m\u001b[2mRecovery Actions\u001b[2m > \u001b[22m\u001b[2mshould reload page when reload button is clicked\n\u001b[22m\u001b[39m[ErrorBoundary] justiceAPI.logUIError not available\n\n\u001b[90mstderr\u001b[2m | src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22m\u001b[2mErrorBoundary\u001b[2m > \u001b[22m\u001b[2mRecovery Actions\u001b[2m > \u001b[22m\u001b[2mshould reset error state when continue button is clicked\n\u001b[22m\u001b[39m[ErrorBoundary] justiceAPI.logUIError not available\n\n\u001b[90mstderr\u001b[2m | src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22m\u001b[2mErrorBoundary\u001b[2m > \u001b[22m\u001b[2mRecovery Actions\u001b[2m > \u001b[22m\u001b[2mshould reset error state when continue button is clicked\n\u001b[22m\u001b[39m[ErrorBoundary] justiceAPI.logUIError not available\n\n\u001b[90mstderr\u001b[2m | src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22m\u001b[2mErrorBoundary\u001b[2m > \u001b[22m\u001b[2mError Message Handling\u001b[2m > \u001b[22m\u001b[2mshould display custom error message\n\u001b[22m\u001b[39m[ErrorBoundary] justiceAPI.logUIError not available\n\n\u001b[90mstderr\u001b[2m | src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22m\u001b[2mErrorBoundary\u001b[2m > \u001b[22m\u001b[2mError Message Handling\u001b[2m > \u001b[22m\u001b[2mshould display default message if error has no message\n\u001b[22m\u001b[39m[ErrorBoundary] justiceAPI.logUIError not available\n\n\u001b[90mstderr\u001b[2m | src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22m\u001b[2mErrorBoundary\u001b[2m > \u001b[22m\u001b[2mStyling and UI\u001b[2m > \u001b[22m\u001b[2mshould have red background for error container\n\u001b[22m\u001b[39m[ErrorBoundary] justiceAPI.logUIError not available\n\n\u001b[90mstderr\u001b[2m | src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22m\u001b[2mErrorBoundary\u001b[2m > \u001b[22m\u001b[2mStyling and UI\u001b[2m > \u001b[22m\u001b[2mshould have white card background for error content\n\u001b[22m\u001b[39m[ErrorBoundary] justiceAPI.logUIError not available\n\n\u001b[90mstderr\u001b[2m | src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22m\u001b[2mErrorBoundary\u001b[2m > \u001b[22m\u001b[2mStyling and UI\u001b[2m > \u001b[22m\u001b[2mshould have proper button styling for reload button\n\u001b[22m\u001b[39m[ErrorBoundary] justiceAPI.logUIError not available\n\n\u001b[90mstderr\u001b[2m | src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22m\u001b[2mErrorBoundary\u001b[2m > \u001b[22m\u001b[2mStyling and UI\u001b[2m > \u001b[22m\u001b[2mshould have proper button styling for continue button\n\u001b[22m\u001b[39m[ErrorBoundary] justiceAPI.logUIError not available\n\n\u001b[90mstderr\u001b[2m | src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22m\u001b[2mErrorBoundary\u001b[2m > \u001b[22m\u001b[2mAccessibility\u001b[2m > \u001b[22m\u001b[2mshould have proper heading hierarchy\n\u001b[22m\u001b[39m[ErrorBoundary] justiceAPI.logUIError not available\n\n\u001b[90mstderr\u001b[2m | src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22m\u001b[2mErrorBoundary\u001b[2m > \u001b[22m\u001b[2mAccessibility\u001b[2m > \u001b[22m\u001b[2mshould have focusable buttons\n\u001b[22m\u001b[39m[ErrorBoundary] justiceAPI.logUIError not available\n\n\u001b[90mstderr\u001b[2m | src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22m\u001b[2mErrorBoundary\u001b[2m > \u001b[22m\u001b[2mAccessibility\u001b[2m > \u001b[22m\u001b[2mshould have focus styles on buttons\n\u001b[22m\u001b[39m[ErrorBoundary] justiceAPI.logUIError not available\n\n\u001b[90mstderr\u001b[2m | src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22m\u001b[2mErrorBoundary\u001b[2m > \u001b[22m\u001b[2mEdge Cases\u001b[2m > \u001b[22m\u001b[2mshould handle errors with stack traces\n\u001b[22m\u001b[39m[ErrorBoundary] justiceAPI.logUIError not available\n\n\u001b[90mstderr\u001b[2m | src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22m\u001b[2mErrorBoundary\u001b[2m > \u001b[22m\u001b[2mEdge Cases\u001b[2m > \u001b[22m\u001b[2mshould handle null error gracefully\n\u001b[22m\u001b[39m[ErrorBoundary] justiceAPI.logUIError not available\n\n\u001b[90mstderr\u001b[2m | src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22m\u001b[2mErrorBoundary\u001b[2m > \u001b[22m\u001b[2mEdge Cases\u001b[2m > \u001b[22m\u001b[2mshould handle re-rendering after error is caught\n\u001b[22m\u001b[39m[ErrorBoundary] justiceAPI.logUIError not available\n\n\u001b[31m\u23af\u23af\u23af\u23af\u23af\u23af\u001b[1m\u001b[7m Failed Tests 233 \u001b[27m\u001b[22m\u23af\u23af\u23af\u23af\u23af\u23af\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould initialize with empty array and loading state\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould initialize with empty array and loading state\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould initialize with empty notes array and loading state\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould initialize with empty array and loading state\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould initialize with empty array and loading state\n\u001b[31m\u001b[1mTypeError\u001b[22m: Right-hand side of 'instanceof' is not an object\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m getActiveElementDeep node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m8445:18\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m getSelectionInformation node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m8476:21\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m prepareForCommit node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m10912:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m commitBeforeMutationEffects node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m22980:27\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m commitRootImpl node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m26840:45\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m commitRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m26721:5\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m finishConcurrentRender node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m26020:9\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25848:7\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[1/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould initialize with empty array and loading state\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould load case facts on mount\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle empty case facts list\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle missing data property in response\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould load facts with all importance levels\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCaseId Changes\u001b[2m > \u001b[22mshould reload case facts when caseId changes\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create a case fact with all fields\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create a case fact without importance (defaults to medium)\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create facts of all categories\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create facts with all importance levels\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create failure with error message\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create exception\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update fact content only\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update fact category only\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update fact importance only\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update all fields together\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update failure with error message\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update exception\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould delete a case fact successfully\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete failure with error message\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete exception\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCategory-Based Filtering (loadFactsByCategory)\u001b[2m > \u001b[22mshould load facts filtered by category\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCategory-Based Filtering (loadFactsByCategory)\u001b[2m > \u001b[22mshould load all fact categories individually\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCategory-Based Filtering (loadFactsByCategory)\u001b[2m > \u001b[22mshould handle empty filtered results\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCategory-Based Filtering (loadFactsByCategory)\u001b[2m > \u001b[22mshould handle category filter error\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCategory-Based Filtering (loadFactsByCategory)\u001b[2m > \u001b[22mshould set loading state during category filter operation\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mImportance-Based Filtering (loadFactsByImportance)\u001b[2m > \u001b[22mshould load facts filtered by importance\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mImportance-Based Filtering (loadFactsByImportance)\u001b[2m > \u001b[22mshould load all importance levels individually\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mImportance-Based Filtering (loadFactsByImportance)\u001b[2m > \u001b[22mshould handle empty filtered results\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mImportance-Based Filtering (loadFactsByImportance)\u001b[2m > \u001b[22mshould handle importance filter error\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mImportance-Based Filtering (loadFactsByImportance)\u001b[2m > \u001b[22mshould set loading state during importance filter operation\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould refresh case facts list\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould set loading state during refresh\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure with error message\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure without error message\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list exception\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle non-Error exception\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould clear previous error on successful operation\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould initialize with empty array and loading state\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould load legal issues on mount\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle empty legal issues list\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle missing data property in response\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle legal issues with null optional fields\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mCaseId Changes\u001b[2m > \u001b[22mshould reload legal issues when caseId changes\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create a new legal issue with all fields\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create a new legal issue with only required fields\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create failure with error message\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create exception\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update an existing legal issue with all fields\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update with partial fields\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update failure with error message\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update exception\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould delete a legal issue successfully\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete failure with error message\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete exception\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould refresh legal issues list\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould set loading state during refresh\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure with error message\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure without error message\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list exception\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle non-Error exception\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould clear previous error on successful operation\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould initialize with empty notes array and loading state\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould load notes on mount\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle empty notes list\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle missing data property in response\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mCaseId Changes\u001b[2m > \u001b[22mshould reload notes when caseId changes\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create a new note successfully\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create failure with error message\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create failure without error message\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create exception\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update an existing note successfully\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update failure with error message\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update exception\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould delete a note successfully\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete failure with error message\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete exception\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould refresh notes list\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould set loading state during refresh\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure with error message\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure without error message\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list exception\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle non-Error exception\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould clear previous error on successful operation\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould initialize with empty array and loading state\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould load timeline events on mount\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle empty timeline events list\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle missing data property in response\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle timeline events with null description\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mCaseId Changes\u001b[2m > \u001b[22mshould reload timeline events when caseId changes\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create a new timeline event with all fields\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create a new timeline event without description\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle various date formats\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create failure with error message\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create exception\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update an existing timeline event with all fields\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update with partial fields\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update only the event date\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update failure with error message\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update exception\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould delete a timeline event successfully\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete failure with error message\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete exception\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould refresh timeline events list\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould set loading state during refresh\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure with error message\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure without error message\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list exception\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle non-Error exception\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould clear previous error on successful operation\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould initialize with empty array and loading state\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould load user facts on mount\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle empty user facts list\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle missing data property in response\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mCaseId Changes\u001b[2m > \u001b[22mshould reload user facts when caseId changes\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create a personal fact\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create facts of all types\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create failure with error message\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create exception\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update fact content\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update fact type\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update both content and type\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update failure with error message\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update exception\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould delete a user fact successfully\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete failure with error message\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete exception\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mType-Based Filtering (loadFactsByType)\u001b[2m > \u001b[22mshould load facts filtered by type\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mType-Based Filtering (loadFactsByType)\u001b[2m > \u001b[22mshould load all fact types individually\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mType-Based Filtering (loadFactsByType)\u001b[2m > \u001b[22mshould handle empty filtered results\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mType-Based Filtering (loadFactsByType)\u001b[2m > \u001b[22mshould handle filter error\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mType-Based Filtering (loadFactsByType)\u001b[2m > \u001b[22mshould set loading state during filter operation\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould refresh user facts list\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould set loading state during refresh\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure with error message\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure without error message\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list exception\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle non-Error exception\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould clear previous error on successful operation\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/pure.js:\u001b[2m307:28\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m cleanup node_modules/@testing-library/react/dist/pure.js:\u001b[2m303:22\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/index.js:\u001b[2m28:25\u001b[22m\u001b[39m\n    \u001b[90m 26| \u001b[39m  \u001b[35mif\u001b[39m (\u001b[35mtypeof\u001b[39m afterEach \u001b[33m===\u001b[39m \u001b[32m'function'\u001b[39m) {\n    \u001b[90m 27| \u001b[39m    \u001b[34mafterEach\u001b[39m(() \u001b[33m=>\u001b[39m {\n    \u001b[90m 28| \u001b[39m      (\u001b[34m0\u001b[39m\u001b[33m,\u001b[39m _pure\u001b[33m.\u001b[39mcleanup)()\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                        \u001b[31m^\u001b[39m\n    \u001b[90m 29| \u001b[39m    })\u001b[33m;\u001b[39m\n    \u001b[90m 30| \u001b[39m  } \u001b[35melse\u001b[39m \u001b[35mif\u001b[39m (\u001b[35mtypeof\u001b[39m teardown \u001b[33m===\u001b[39m \u001b[32m'function'\u001b[39m) {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[2/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould load case facts on mount\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m104:26\u001b[22m\u001b[39m\n    \u001b[90m102| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m103| \u001b[39m\n    \u001b[90m104| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m105| \u001b[39m\n    \u001b[90m106| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[3/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle empty case facts list\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m126:26\u001b[22m\u001b[39m\n    \u001b[90m124| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m125| \u001b[39m\n    \u001b[90m126| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m127| \u001b[39m\n    \u001b[90m128| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[4/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle missing data property in response\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m142:26\u001b[22m\u001b[39m\n    \u001b[90m140| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m141| \u001b[39m\n    \u001b[90m142| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m143| \u001b[39m\n    \u001b[90m144| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[5/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould load facts with all importance levels\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m165:26\u001b[22m\u001b[39m\n    \u001b[90m163| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m164| \u001b[39m\n    \u001b[90m165| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m166| \u001b[39m\n    \u001b[90m167| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[6/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCaseId Changes\u001b[2m > \u001b[22mshould reload case facts when caseId changes\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m186:36\u001b[22m\u001b[39m\n    \u001b[90m184| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m185| \u001b[39m\n    \u001b[90m186| \u001b[39m      \u001b[35mconst\u001b[39m { result\u001b[33m,\u001b[39m rerender } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(({ caseId }) \u001b[33m=>\u001b[39m \u001b[34museCaseF\u001b[39m\u2026\n    \u001b[90m   | \u001b[39m                                   \u001b[31m^\u001b[39m\n    \u001b[90m187| \u001b[39m        initialProps\u001b[33m:\u001b[39m { caseId\u001b[33m:\u001b[39m \u001b[34m100\u001b[39m }\u001b[33m,\u001b[39m\n    \u001b[90m188| \u001b[39m      })\u001b[33m;\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[7/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create a case fact with all fields\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m232:26\u001b[22m\u001b[39m\n    \u001b[90m230| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m231| \u001b[39m\n    \u001b[90m232| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m233| \u001b[39m\n    \u001b[90m234| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[8/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create a case fact without importance (defaults to medium)\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m273:26\u001b[22m\u001b[39m\n    \u001b[90m271| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m272| \u001b[39m\n    \u001b[90m273| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m274| \u001b[39m\n    \u001b[90m275| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[9/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create facts of all categories\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m311:26\u001b[22m\u001b[39m\n    \u001b[90m309| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m310| \u001b[39m\n    \u001b[90m311| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m312| \u001b[39m\n    \u001b[90m313| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[10/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create facts with all importance levels\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m361:26\u001b[22m\u001b[39m\n    \u001b[90m359| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m360| \u001b[39m\n    \u001b[90m361| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m362| \u001b[39m\n    \u001b[90m363| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[11/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create failure with error message\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m409:26\u001b[22m\u001b[39m\n    \u001b[90m407| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m408| \u001b[39m\n    \u001b[90m409| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m410| \u001b[39m\n    \u001b[90m411| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[12/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create exception\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m440:26\u001b[22m\u001b[39m\n    \u001b[90m438| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m439| \u001b[39m\n    \u001b[90m440| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m441| \u001b[39m\n    \u001b[90m442| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[13/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update fact content only\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m467:26\u001b[22m\u001b[39m\n    \u001b[90m465| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m466| \u001b[39m\n    \u001b[90m467| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m468| \u001b[39m\n    \u001b[90m469| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[14/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update fact category only\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m501:26\u001b[22m\u001b[39m\n    \u001b[90m499| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m500| \u001b[39m\n    \u001b[90m501| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m502| \u001b[39m\n    \u001b[90m503| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[15/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update fact importance only\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m535:26\u001b[22m\u001b[39m\n    \u001b[90m533| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m534| \u001b[39m\n    \u001b[90m535| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m536| \u001b[39m\n    \u001b[90m537| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[16/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update all fields together\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m567:26\u001b[22m\u001b[39m\n    \u001b[90m565| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m566| \u001b[39m\n    \u001b[90m567| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m568| \u001b[39m\n    \u001b[90m569| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[17/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update failure with error message\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m605:26\u001b[22m\u001b[39m\n    \u001b[90m603| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m604| \u001b[39m\n    \u001b[90m605| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m606| \u001b[39m\n    \u001b[90m607| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[18/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update exception\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m634:26\u001b[22m\u001b[39m\n    \u001b[90m632| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m633| \u001b[39m\n    \u001b[90m634| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m635| \u001b[39m\n    \u001b[90m636| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[19/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould delete a case fact successfully\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m661:26\u001b[22m\u001b[39m\n    \u001b[90m659| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m660| \u001b[39m\n    \u001b[90m661| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m662| \u001b[39m\n    \u001b[90m663| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[20/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete failure with error message\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m683:26\u001b[22m\u001b[39m\n    \u001b[90m681| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m682| \u001b[39m\n    \u001b[90m683| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m684| \u001b[39m\n    \u001b[90m685| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[21/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete exception\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m706:26\u001b[22m\u001b[39m\n    \u001b[90m704| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m705| \u001b[39m\n    \u001b[90m706| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m707| \u001b[39m\n    \u001b[90m708| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[22/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCategory-Based Filtering (loadFactsByCategory)\u001b[2m > \u001b[22mshould load facts filtered by category\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m727:26\u001b[22m\u001b[39m\n    \u001b[90m725| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m726| \u001b[39m\n    \u001b[90m727| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m728| \u001b[39m\n    \u001b[90m729| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[23/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCategory-Based Filtering (loadFactsByCategory)\u001b[2m > \u001b[22mshould load all fact categories individually\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m756:26\u001b[22m\u001b[39m\n    \u001b[90m754| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m755| \u001b[39m\n    \u001b[90m756| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m757| \u001b[39m\n    \u001b[90m758| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[24/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCategory-Based Filtering (loadFactsByCategory)\u001b[2m > \u001b[22mshould handle empty filtered results\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m803:26\u001b[22m\u001b[39m\n    \u001b[90m801| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m802| \u001b[39m\n    \u001b[90m803| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m804| \u001b[39m\n    \u001b[90m805| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[25/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCategory-Based Filtering (loadFactsByCategory)\u001b[2m > \u001b[22mshould handle category filter error\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m827:26\u001b[22m\u001b[39m\n    \u001b[90m825| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m826| \u001b[39m\n    \u001b[90m827| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m828| \u001b[39m\n    \u001b[90m829| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[26/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCategory-Based Filtering (loadFactsByCategory)\u001b[2m > \u001b[22mshould set loading state during category filter operation\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m851:26\u001b[22m\u001b[39m\n    \u001b[90m849| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m850| \u001b[39m\n    \u001b[90m851| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m852| \u001b[39m\n    \u001b[90m853| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[27/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mImportance-Based Filtering (loadFactsByImportance)\u001b[2m > \u001b[22mshould load facts filtered by importance\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m885:26\u001b[22m\u001b[39m\n    \u001b[90m883| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m884| \u001b[39m\n    \u001b[90m885| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m886| \u001b[39m\n    \u001b[90m887| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[28/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mImportance-Based Filtering (loadFactsByImportance)\u001b[2m > \u001b[22mshould load all importance levels individually\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m912:26\u001b[22m\u001b[39m\n    \u001b[90m910| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m911| \u001b[39m\n    \u001b[90m912| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m913| \u001b[39m\n    \u001b[90m914| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[29/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mImportance-Based Filtering (loadFactsByImportance)\u001b[2m > \u001b[22mshould handle empty filtered results\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m957:26\u001b[22m\u001b[39m\n    \u001b[90m955| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m956| \u001b[39m\n    \u001b[90m957| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m958| \u001b[39m\n    \u001b[90m959| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[30/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mImportance-Based Filtering (loadFactsByImportance)\u001b[2m > \u001b[22mshould handle importance filter error\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m981:26\u001b[22m\u001b[39m\n    \u001b[90m979| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m980| \u001b[39m\n    \u001b[90m981| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m982| \u001b[39m\n    \u001b[90m983| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[31/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mImportance-Based Filtering (loadFactsByImportance)\u001b[2m > \u001b[22mshould set loading state during importance filter operation\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m1005:26\u001b[22m\u001b[39m\n    \u001b[90m1003| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m1004| \u001b[39m\n    \u001b[90m1005| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m1006| \u001b[39m\n    \u001b[90m1007| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[32/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould refresh case facts list\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m1039:26\u001b[22m\u001b[39m\n    \u001b[90m1037| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m1038| \u001b[39m\n    \u001b[90m1039| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m1040| \u001b[39m\n    \u001b[90m1041| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[33/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould set loading state during refresh\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m1068:26\u001b[22m\u001b[39m\n    \u001b[90m1066| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m1067| \u001b[39m\n    \u001b[90m1068| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m1069| \u001b[39m\n    \u001b[90m1070| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[34/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure with error message\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m1102:26\u001b[22m\u001b[39m\n    \u001b[90m1100| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m1101| \u001b[39m\n    \u001b[90m1102| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m1103| \u001b[39m\n    \u001b[90m1104| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[35/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure without error message\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m1117:26\u001b[22m\u001b[39m\n    \u001b[90m1115| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m1116| \u001b[39m\n    \u001b[90m1117| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m1118| \u001b[39m\n    \u001b[90m1119| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[36/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list exception\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m1129:26\u001b[22m\u001b[39m\n    \u001b[90m1127| \u001b[39m      mockCaseFactsAPI\u001b[33m.\u001b[39mlist\u001b[33m.\u001b[39m\u001b[34mmockRejectedValue\u001b[39m(\u001b[35mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Connection ti\u001b[39m\u2026\n    \u001b[90m1128| \u001b[39m\n    \u001b[90m1129| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m1130| \u001b[39m\n    \u001b[90m1131| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[37/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle non-Error exception\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m1142:26\u001b[22m\u001b[39m\n    \u001b[90m1140| \u001b[39m      mockCaseFactsAPI\u001b[33m.\u001b[39mlist\u001b[33m.\u001b[39m\u001b[34mmockRejectedValue\u001b[39m(\u001b[32m'String error'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m1141| \u001b[39m\n    \u001b[90m1142| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m1143| \u001b[39m\n    \u001b[90m1144| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[38/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould clear previous error on successful operation\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useCaseFacts.test.ts:\u001b[2m1157:26\u001b[22m\u001b[39m\n    \u001b[90m1155| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m1156| \u001b[39m\n    \u001b[90m1157| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museCaseFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m1158| \u001b[39m\n    \u001b[90m1159| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[39/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould load legal issues on mount\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useLegalIssues.test.ts:\u001b[2m79:26\u001b[22m\u001b[39m\n    \u001b[90m 77| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m 78| \u001b[39m\n    \u001b[90m 79| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museLegalIssues\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m 80| \u001b[39m\n    \u001b[90m 81| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[40/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle empty legal issues list\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useLegalIssues.test.ts:\u001b[2m96:26\u001b[22m\u001b[39m\n    \u001b[90m 94| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m 95| \u001b[39m\n    \u001b[90m 96| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museLegalIssues\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m 97| \u001b[39m\n    \u001b[90m 98| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[41/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle missing data property in response\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useLegalIssues.test.ts:\u001b[2m112:26\u001b[22m\u001b[39m\n    \u001b[90m110| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m111| \u001b[39m\n    \u001b[90m112| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museLegalIssues\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m113| \u001b[39m\n    \u001b[90m114| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[42/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle legal issues with null optional fields\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useLegalIssues.test.ts:\u001b[2m128:26\u001b[22m\u001b[39m\n    \u001b[90m126| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m127| \u001b[39m\n    \u001b[90m128| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museLegalIssues\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m129| \u001b[39m\n    \u001b[90m130| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[43/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mCaseId Changes\u001b[2m > \u001b[22mshould reload legal issues when caseId changes\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useLegalIssues.test.ts:\u001b[2m148:36\u001b[22m\u001b[39m\n    \u001b[90m146| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m147| \u001b[39m\n    \u001b[90m148| \u001b[39m      \u001b[35mconst\u001b[39m { result\u001b[33m,\u001b[39m rerender } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(({ caseId }) \u001b[33m=>\u001b[39m \u001b[34museLegal\u001b[39m\u2026\n    \u001b[90m   | \u001b[39m                                   \u001b[31m^\u001b[39m\n    \u001b[90m149| \u001b[39m        initialProps\u001b[33m:\u001b[39m { caseId\u001b[33m:\u001b[39m \u001b[34m100\u001b[39m }\u001b[33m,\u001b[39m\n    \u001b[90m150| \u001b[39m      })\u001b[33m;\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[44/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create a new legal issue with all fields\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useLegalIssues.test.ts:\u001b[2m194:26\u001b[22m\u001b[39m\n    \u001b[90m192| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m193| \u001b[39m\n    \u001b[90m194| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museLegalIssues\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m195| \u001b[39m\n    \u001b[90m196| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[45/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create a new legal issue with only required fields\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useLegalIssues.test.ts:\u001b[2m236:26\u001b[22m\u001b[39m\n    \u001b[90m234| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m235| \u001b[39m\n    \u001b[90m236| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museLegalIssues\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m237| \u001b[39m\n    \u001b[90m238| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[46/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create failure with error message\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useLegalIssues.test.ts:\u001b[2m274:26\u001b[22m\u001b[39m\n    \u001b[90m272| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m273| \u001b[39m\n    \u001b[90m274| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museLegalIssues\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m275| \u001b[39m\n    \u001b[90m276| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[47/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create exception\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useLegalIssues.test.ts:\u001b[2m304:26\u001b[22m\u001b[39m\n    \u001b[90m302| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m303| \u001b[39m\n    \u001b[90m304| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museLegalIssues\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m305| \u001b[39m\n    \u001b[90m306| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[48/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update an existing legal issue with all fields\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useLegalIssues.test.ts:\u001b[2m330:26\u001b[22m\u001b[39m\n    \u001b[90m328| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m329| \u001b[39m\n    \u001b[90m330| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museLegalIssues\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m331| \u001b[39m\n    \u001b[90m332| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[49/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update with partial fields\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useLegalIssues.test.ts:\u001b[2m369:26\u001b[22m\u001b[39m\n    \u001b[90m367| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m368| \u001b[39m\n    \u001b[90m369| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museLegalIssues\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m370| \u001b[39m\n    \u001b[90m371| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[50/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update failure with error message\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useLegalIssues.test.ts:\u001b[2m401:26\u001b[22m\u001b[39m\n    \u001b[90m399| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m400| \u001b[39m\n    \u001b[90m401| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museLegalIssues\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m402| \u001b[39m\n    \u001b[90m403| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[51/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update exception\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useLegalIssues.test.ts:\u001b[2m430:26\u001b[22m\u001b[39m\n    \u001b[90m428| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m429| \u001b[39m\n    \u001b[90m430| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museLegalIssues\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m431| \u001b[39m\n    \u001b[90m432| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[52/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould delete a legal issue successfully\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useLegalIssues.test.ts:\u001b[2m457:26\u001b[22m\u001b[39m\n    \u001b[90m455| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m456| \u001b[39m\n    \u001b[90m457| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museLegalIssues\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m458| \u001b[39m\n    \u001b[90m459| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[53/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete failure with error message\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useLegalIssues.test.ts:\u001b[2m479:26\u001b[22m\u001b[39m\n    \u001b[90m477| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m478| \u001b[39m\n    \u001b[90m479| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museLegalIssues\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m480| \u001b[39m\n    \u001b[90m481| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[54/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete exception\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useLegalIssues.test.ts:\u001b[2m504:26\u001b[22m\u001b[39m\n    \u001b[90m502| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m503| \u001b[39m\n    \u001b[90m504| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museLegalIssues\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m505| \u001b[39m\n    \u001b[90m506| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[55/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould refresh legal issues list\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useLegalIssues.test.ts:\u001b[2m525:26\u001b[22m\u001b[39m\n    \u001b[90m523| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m524| \u001b[39m\n    \u001b[90m525| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museLegalIssues\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m526| \u001b[39m\n    \u001b[90m527| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[56/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould set loading state during refresh\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useLegalIssues.test.ts:\u001b[2m554:26\u001b[22m\u001b[39m\n    \u001b[90m552| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m553| \u001b[39m\n    \u001b[90m554| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museLegalIssues\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m555| \u001b[39m\n    \u001b[90m556| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[57/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure with error message\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useLegalIssues.test.ts:\u001b[2m588:26\u001b[22m\u001b[39m\n    \u001b[90m586| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m587| \u001b[39m\n    \u001b[90m588| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museLegalIssues\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m589| \u001b[39m\n    \u001b[90m590| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[58/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure without error message\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useLegalIssues.test.ts:\u001b[2m603:26\u001b[22m\u001b[39m\n    \u001b[90m601| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m602| \u001b[39m\n    \u001b[90m603| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museLegalIssues\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m604| \u001b[39m\n    \u001b[90m605| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[59/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list exception\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useLegalIssues.test.ts:\u001b[2m615:26\u001b[22m\u001b[39m\n    \u001b[90m613| \u001b[39m      mockLegalIssuesAPI\u001b[33m.\u001b[39mlist\u001b[33m.\u001b[39m\u001b[34mmockRejectedValue\u001b[39m(\u001b[35mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Connection \u001b[39m\u2026\n    \u001b[90m614| \u001b[39m\n    \u001b[90m615| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museLegalIssues\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m616| \u001b[39m\n    \u001b[90m617| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[60/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle non-Error exception\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useLegalIssues.test.ts:\u001b[2m628:26\u001b[22m\u001b[39m\n    \u001b[90m626| \u001b[39m      mockLegalIssuesAPI\u001b[33m.\u001b[39mlist\u001b[33m.\u001b[39m\u001b[34mmockRejectedValue\u001b[39m(\u001b[32m'String error'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m627| \u001b[39m\n    \u001b[90m628| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museLegalIssues\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m629| \u001b[39m\n    \u001b[90m630| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[61/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould clear previous error on successful operation\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useLegalIssues.test.ts:\u001b[2m643:26\u001b[22m\u001b[39m\n    \u001b[90m641| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m642| \u001b[39m\n    \u001b[90m643| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museLegalIssues\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m644| \u001b[39m\n    \u001b[90m645| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[62/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould load notes on mount\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useNotes.test.ts:\u001b[2m85:35\u001b[22m\u001b[39m\n    \u001b[90m 83| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m 84| \u001b[39m\n    \u001b[90m 85| \u001b[39m      \u001b[35mconst\u001b[39m { result\u001b[33m,\u001b[39m unmount } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museNotes\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                                  \u001b[31m^\u001b[39m\n    \u001b[90m 86| \u001b[39m\n    \u001b[90m 87| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[63/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle empty notes list\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useNotes.test.ts:\u001b[2m104:35\u001b[22m\u001b[39m\n    \u001b[90m102| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m103| \u001b[39m\n    \u001b[90m104| \u001b[39m      \u001b[35mconst\u001b[39m { result\u001b[33m,\u001b[39m unmount } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museNotes\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                                  \u001b[31m^\u001b[39m\n    \u001b[90m105| \u001b[39m\n    \u001b[90m106| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[64/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle missing data property in response\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useNotes.test.ts:\u001b[2m122:35\u001b[22m\u001b[39m\n    \u001b[90m120| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m121| \u001b[39m\n    \u001b[90m122| \u001b[39m      \u001b[35mconst\u001b[39m { result\u001b[33m,\u001b[39m unmount } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museNotes\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                                  \u001b[31m^\u001b[39m\n    \u001b[90m123| \u001b[39m\n    \u001b[90m124| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[65/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mCaseId Changes\u001b[2m > \u001b[22mshould reload notes when caseId changes\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useNotes.test.ts:\u001b[2m142:45\u001b[22m\u001b[39m\n    \u001b[90m140| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m141| \u001b[39m\n    \u001b[90m142| \u001b[39m      \u001b[35mconst\u001b[39m { result\u001b[33m,\u001b[39m rerender\u001b[33m,\u001b[39m unmount } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(({ caseId }) \u001b[33m=>\u001b[39m\u2026\n    \u001b[90m   | \u001b[39m                                            \u001b[31m^\u001b[39m\n    \u001b[90m143| \u001b[39m        initialProps\u001b[33m:\u001b[39m { caseId\u001b[33m:\u001b[39m \u001b[34m100\u001b[39m }\u001b[33m,\u001b[39m\n    \u001b[90m144| \u001b[39m      })\u001b[33m;\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[66/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create a new note successfully\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useNotes.test.ts:\u001b[2m188:35\u001b[22m\u001b[39m\n    \u001b[90m186| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m187| \u001b[39m\n    \u001b[90m188| \u001b[39m      \u001b[35mconst\u001b[39m { result\u001b[33m,\u001b[39m unmount } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museNotes\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                                  \u001b[31m^\u001b[39m\n    \u001b[90m189| \u001b[39m\n    \u001b[90m190| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[67/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create failure with error message\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useNotes.test.ts:\u001b[2m225:35\u001b[22m\u001b[39m\n    \u001b[90m223| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m224| \u001b[39m\n    \u001b[90m225| \u001b[39m      \u001b[35mconst\u001b[39m { result\u001b[33m,\u001b[39m unmount } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museNotes\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                                  \u001b[31m^\u001b[39m\n    \u001b[90m226| \u001b[39m\n    \u001b[90m227| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[68/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create failure without error message\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useNotes.test.ts:\u001b[2m254:35\u001b[22m\u001b[39m\n    \u001b[90m252| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m253| \u001b[39m\n    \u001b[90m254| \u001b[39m      \u001b[35mconst\u001b[39m { result\u001b[33m,\u001b[39m unmount } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museNotes\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                                  \u001b[31m^\u001b[39m\n    \u001b[90m255| \u001b[39m\n    \u001b[90m256| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[69/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create exception\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useNotes.test.ts:\u001b[2m279:35\u001b[22m\u001b[39m\n    \u001b[90m277| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m278| \u001b[39m\n    \u001b[90m279| \u001b[39m      \u001b[35mconst\u001b[39m { result\u001b[33m,\u001b[39m unmount } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museNotes\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                                  \u001b[31m^\u001b[39m\n    \u001b[90m280| \u001b[39m\n    \u001b[90m281| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[70/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update an existing note successfully\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useNotes.test.ts:\u001b[2m306:35\u001b[22m\u001b[39m\n    \u001b[90m304| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m305| \u001b[39m\n    \u001b[90m306| \u001b[39m      \u001b[35mconst\u001b[39m { result\u001b[33m,\u001b[39m unmount } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museNotes\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                                  \u001b[31m^\u001b[39m\n    \u001b[90m307| \u001b[39m\n    \u001b[90m308| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[71/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update failure with error message\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useNotes.test.ts:\u001b[2m341:35\u001b[22m\u001b[39m\n    \u001b[90m339| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m340| \u001b[39m\n    \u001b[90m341| \u001b[39m      \u001b[35mconst\u001b[39m { result\u001b[33m,\u001b[39m unmount } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museNotes\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                                  \u001b[31m^\u001b[39m\n    \u001b[90m342| \u001b[39m\n    \u001b[90m343| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[72/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update exception\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useNotes.test.ts:\u001b[2m370:35\u001b[22m\u001b[39m\n    \u001b[90m368| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m369| \u001b[39m\n    \u001b[90m370| \u001b[39m      \u001b[35mconst\u001b[39m { result\u001b[33m,\u001b[39m unmount } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museNotes\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                                  \u001b[31m^\u001b[39m\n    \u001b[90m371| \u001b[39m\n    \u001b[90m372| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[73/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould delete a note successfully\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useNotes.test.ts:\u001b[2m397:35\u001b[22m\u001b[39m\n    \u001b[90m395| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m396| \u001b[39m\n    \u001b[90m397| \u001b[39m      \u001b[35mconst\u001b[39m { result\u001b[33m,\u001b[39m unmount } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museNotes\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                                  \u001b[31m^\u001b[39m\n    \u001b[90m398| \u001b[39m\n    \u001b[90m399| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[74/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete failure with error message\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useNotes.test.ts:\u001b[2m423:35\u001b[22m\u001b[39m\n    \u001b[90m421| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m422| \u001b[39m\n    \u001b[90m423| \u001b[39m      \u001b[35mconst\u001b[39m { result\u001b[33m,\u001b[39m unmount } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museNotes\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                                  \u001b[31m^\u001b[39m\n    \u001b[90m424| \u001b[39m\n    \u001b[90m425| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[75/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete exception\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useNotes.test.ts:\u001b[2m452:35\u001b[22m\u001b[39m\n    \u001b[90m450| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m451| \u001b[39m\n    \u001b[90m452| \u001b[39m      \u001b[35mconst\u001b[39m { result\u001b[33m,\u001b[39m unmount } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museNotes\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                                  \u001b[31m^\u001b[39m\n    \u001b[90m453| \u001b[39m\n    \u001b[90m454| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[76/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould refresh notes list\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useNotes.test.ts:\u001b[2m479:35\u001b[22m\u001b[39m\n    \u001b[90m477| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m478| \u001b[39m\n    \u001b[90m479| \u001b[39m      \u001b[35mconst\u001b[39m { result\u001b[33m,\u001b[39m unmount } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museNotes\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                                  \u001b[31m^\u001b[39m\n    \u001b[90m480| \u001b[39m\n    \u001b[90m481| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[77/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould set loading state during refresh\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useNotes.test.ts:\u001b[2m512:35\u001b[22m\u001b[39m\n    \u001b[90m510| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m511| \u001b[39m\n    \u001b[90m512| \u001b[39m      \u001b[35mconst\u001b[39m { result\u001b[33m,\u001b[39m unmount } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museNotes\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                                  \u001b[31m^\u001b[39m\n    \u001b[90m513| \u001b[39m\n    \u001b[90m514| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[78/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure with error message\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useNotes.test.ts:\u001b[2m549:35\u001b[22m\u001b[39m\n    \u001b[90m547| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m548| \u001b[39m\n    \u001b[90m549| \u001b[39m      \u001b[35mconst\u001b[39m { result\u001b[33m,\u001b[39m unmount } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museNotes\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                                  \u001b[31m^\u001b[39m\n    \u001b[90m550| \u001b[39m\n    \u001b[90m551| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[79/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure without error message\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useNotes.test.ts:\u001b[2m566:35\u001b[22m\u001b[39m\n    \u001b[90m564| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m565| \u001b[39m\n    \u001b[90m566| \u001b[39m      \u001b[35mconst\u001b[39m { result\u001b[33m,\u001b[39m unmount } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museNotes\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                                  \u001b[31m^\u001b[39m\n    \u001b[90m567| \u001b[39m\n    \u001b[90m568| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[80/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list exception\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useNotes.test.ts:\u001b[2m580:35\u001b[22m\u001b[39m\n    \u001b[90m578| \u001b[39m      mockNotesAPI\u001b[33m.\u001b[39mlist\u001b[33m.\u001b[39m\u001b[34mmockRejectedValue\u001b[39m(\u001b[35mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Connection timeou\u001b[39m\u2026\n    \u001b[90m579| \u001b[39m\n    \u001b[90m580| \u001b[39m      \u001b[35mconst\u001b[39m { result\u001b[33m,\u001b[39m unmount } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museNotes\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                                  \u001b[31m^\u001b[39m\n    \u001b[90m581| \u001b[39m\n    \u001b[90m582| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[81/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle non-Error exception\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useNotes.test.ts:\u001b[2m595:35\u001b[22m\u001b[39m\n    \u001b[90m593| \u001b[39m      mockNotesAPI\u001b[33m.\u001b[39mlist\u001b[33m.\u001b[39m\u001b[34mmockRejectedValue\u001b[39m(\u001b[32m'String error'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m594| \u001b[39m\n    \u001b[90m595| \u001b[39m      \u001b[35mconst\u001b[39m { result\u001b[33m,\u001b[39m unmount } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museNotes\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                                  \u001b[31m^\u001b[39m\n    \u001b[90m596| \u001b[39m\n    \u001b[90m597| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[82/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould clear previous error on successful operation\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useNotes.test.ts:\u001b[2m612:35\u001b[22m\u001b[39m\n    \u001b[90m610| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m611| \u001b[39m\n    \u001b[90m612| \u001b[39m      \u001b[35mconst\u001b[39m { result\u001b[33m,\u001b[39m unmount } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museNotes\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                                  \u001b[31m^\u001b[39m\n    \u001b[90m613| \u001b[39m\n    \u001b[90m614| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[83/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould load timeline events on mount\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useTimeline.test.ts:\u001b[2m82:26\u001b[22m\u001b[39m\n    \u001b[90m 80| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m 81| \u001b[39m\n    \u001b[90m 82| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museTimeline\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m 83| \u001b[39m\n    \u001b[90m 84| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[84/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle empty timeline events list\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useTimeline.test.ts:\u001b[2m99:26\u001b[22m\u001b[39m\n    \u001b[90m 97| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m 98| \u001b[39m\n    \u001b[90m 99| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museTimeline\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m100| \u001b[39m\n    \u001b[90m101| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[85/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle missing data property in response\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useTimeline.test.ts:\u001b[2m115:26\u001b[22m\u001b[39m\n    \u001b[90m113| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m114| \u001b[39m\n    \u001b[90m115| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museTimeline\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m116| \u001b[39m\n    \u001b[90m117| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[86/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle timeline events with null description\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useTimeline.test.ts:\u001b[2m131:26\u001b[22m\u001b[39m\n    \u001b[90m129| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m130| \u001b[39m\n    \u001b[90m131| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museTimeline\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m132| \u001b[39m\n    \u001b[90m133| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[87/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mCaseId Changes\u001b[2m > \u001b[22mshould reload timeline events when caseId changes\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useTimeline.test.ts:\u001b[2m148:36\u001b[22m\u001b[39m\n    \u001b[90m146| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m147| \u001b[39m\n    \u001b[90m148| \u001b[39m      \u001b[35mconst\u001b[39m { result\u001b[33m,\u001b[39m rerender } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(({ caseId }) \u001b[33m=>\u001b[39m \u001b[34museTimel\u001b[39m\u2026\n    \u001b[90m   | \u001b[39m                                   \u001b[31m^\u001b[39m\n    \u001b[90m149| \u001b[39m        initialProps\u001b[33m:\u001b[39m { caseId\u001b[33m:\u001b[39m \u001b[34m100\u001b[39m }\u001b[33m,\u001b[39m\n    \u001b[90m150| \u001b[39m      })\u001b[33m;\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[88/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create a new timeline event with all fields\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useTimeline.test.ts:\u001b[2m193:26\u001b[22m\u001b[39m\n    \u001b[90m191| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m192| \u001b[39m\n    \u001b[90m193| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museTimeline\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m194| \u001b[39m\n    \u001b[90m195| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[89/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create a new timeline event without description\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useTimeline.test.ts:\u001b[2m233:26\u001b[22m\u001b[39m\n    \u001b[90m231| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m232| \u001b[39m\n    \u001b[90m233| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museTimeline\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m234| \u001b[39m\n    \u001b[90m235| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[90/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle various date formats\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useTimeline.test.ts:\u001b[2m271:26\u001b[22m\u001b[39m\n    \u001b[90m269| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m270| \u001b[39m\n    \u001b[90m271| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museTimeline\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m272| \u001b[39m\n    \u001b[90m273| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[91/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create failure with error message\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useTimeline.test.ts:\u001b[2m308:26\u001b[22m\u001b[39m\n    \u001b[90m306| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m307| \u001b[39m\n    \u001b[90m308| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museTimeline\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m309| \u001b[39m\n    \u001b[90m310| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[92/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create exception\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useTimeline.test.ts:\u001b[2m339:26\u001b[22m\u001b[39m\n    \u001b[90m337| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m338| \u001b[39m\n    \u001b[90m339| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museTimeline\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m340| \u001b[39m\n    \u001b[90m341| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[93/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update an existing timeline event with all fields\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useTimeline.test.ts:\u001b[2m366:26\u001b[22m\u001b[39m\n    \u001b[90m364| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m365| \u001b[39m\n    \u001b[90m366| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museTimeline\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m367| \u001b[39m\n    \u001b[90m368| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[94/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update with partial fields\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useTimeline.test.ts:\u001b[2m403:26\u001b[22m\u001b[39m\n    \u001b[90m401| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m402| \u001b[39m\n    \u001b[90m403| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museTimeline\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m404| \u001b[39m\n    \u001b[90m405| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[95/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update only the event date\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useTimeline.test.ts:\u001b[2m436:26\u001b[22m\u001b[39m\n    \u001b[90m434| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m435| \u001b[39m\n    \u001b[90m436| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museTimeline\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m437| \u001b[39m\n    \u001b[90m438| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[96/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update failure with error message\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useTimeline.test.ts:\u001b[2m467:26\u001b[22m\u001b[39m\n    \u001b[90m465| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m466| \u001b[39m\n    \u001b[90m467| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museTimeline\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m468| \u001b[39m\n    \u001b[90m469| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[97/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update exception\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useTimeline.test.ts:\u001b[2m496:26\u001b[22m\u001b[39m\n    \u001b[90m494| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m495| \u001b[39m\n    \u001b[90m496| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museTimeline\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m497| \u001b[39m\n    \u001b[90m498| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[98/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould delete a timeline event successfully\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useTimeline.test.ts:\u001b[2m523:26\u001b[22m\u001b[39m\n    \u001b[90m521| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m522| \u001b[39m\n    \u001b[90m523| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museTimeline\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m524| \u001b[39m\n    \u001b[90m525| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[99/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete failure with error message\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useTimeline.test.ts:\u001b[2m545:26\u001b[22m\u001b[39m\n    \u001b[90m543| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m544| \u001b[39m\n    \u001b[90m545| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museTimeline\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m546| \u001b[39m\n    \u001b[90m547| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[100/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete exception\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useTimeline.test.ts:\u001b[2m570:26\u001b[22m\u001b[39m\n    \u001b[90m568| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m569| \u001b[39m\n    \u001b[90m570| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museTimeline\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m571| \u001b[39m\n    \u001b[90m572| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[101/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould refresh timeline events list\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useTimeline.test.ts:\u001b[2m591:26\u001b[22m\u001b[39m\n    \u001b[90m589| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m590| \u001b[39m\n    \u001b[90m591| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museTimeline\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m592| \u001b[39m\n    \u001b[90m593| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[102/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould set loading state during refresh\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useTimeline.test.ts:\u001b[2m620:26\u001b[22m\u001b[39m\n    \u001b[90m618| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m619| \u001b[39m\n    \u001b[90m620| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museTimeline\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m621| \u001b[39m\n    \u001b[90m622| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[103/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure with error message\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useTimeline.test.ts:\u001b[2m654:26\u001b[22m\u001b[39m\n    \u001b[90m652| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m653| \u001b[39m\n    \u001b[90m654| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museTimeline\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m655| \u001b[39m\n    \u001b[90m656| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[104/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure without error message\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useTimeline.test.ts:\u001b[2m669:26\u001b[22m\u001b[39m\n    \u001b[90m667| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m668| \u001b[39m\n    \u001b[90m669| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museTimeline\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m670| \u001b[39m\n    \u001b[90m671| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[105/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list exception\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useTimeline.test.ts:\u001b[2m681:26\u001b[22m\u001b[39m\n    \u001b[90m679| \u001b[39m      mockTimelineAPI\u001b[33m.\u001b[39mlist\u001b[33m.\u001b[39m\u001b[34mmockRejectedValue\u001b[39m(\u001b[35mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Connection tim\u001b[39m\u2026\n    \u001b[90m680| \u001b[39m\n    \u001b[90m681| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museTimeline\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m682| \u001b[39m\n    \u001b[90m683| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[106/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle non-Error exception\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useTimeline.test.ts:\u001b[2m694:26\u001b[22m\u001b[39m\n    \u001b[90m692| \u001b[39m      mockTimelineAPI\u001b[33m.\u001b[39mlist\u001b[33m.\u001b[39m\u001b[34mmockRejectedValue\u001b[39m(\u001b[32m'String error'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m693| \u001b[39m\n    \u001b[90m694| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museTimeline\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m695| \u001b[39m\n    \u001b[90m696| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[107/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould clear previous error on successful operation\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useTimeline.test.ts:\u001b[2m709:26\u001b[22m\u001b[39m\n    \u001b[90m707| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m708| \u001b[39m\n    \u001b[90m709| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museTimeline\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m710| \u001b[39m\n    \u001b[90m711| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[108/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould load user facts on mount\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useUserFacts.test.ts:\u001b[2m88:26\u001b[22m\u001b[39m\n    \u001b[90m 86| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m 87| \u001b[39m\n    \u001b[90m 88| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museUserFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m 89| \u001b[39m\n    \u001b[90m 90| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[109/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle empty user facts list\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useUserFacts.test.ts:\u001b[2m109:26\u001b[22m\u001b[39m\n    \u001b[90m107| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m108| \u001b[39m\n    \u001b[90m109| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museUserFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m110| \u001b[39m\n    \u001b[90m111| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[110/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle missing data property in response\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useUserFacts.test.ts:\u001b[2m125:26\u001b[22m\u001b[39m\n    \u001b[90m123| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m124| \u001b[39m\n    \u001b[90m125| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museUserFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m126| \u001b[39m\n    \u001b[90m127| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[111/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mCaseId Changes\u001b[2m > \u001b[22mshould reload user facts when caseId changes\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useUserFacts.test.ts:\u001b[2m143:36\u001b[22m\u001b[39m\n    \u001b[90m141| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m142| \u001b[39m\n    \u001b[90m143| \u001b[39m      \u001b[35mconst\u001b[39m { result\u001b[33m,\u001b[39m rerender } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(({ caseId }) \u001b[33m=>\u001b[39m \u001b[34museUserF\u001b[39m\u2026\n    \u001b[90m   | \u001b[39m                                   \u001b[31m^\u001b[39m\n    \u001b[90m144| \u001b[39m        initialProps\u001b[33m:\u001b[39m { caseId\u001b[33m:\u001b[39m \u001b[34m100\u001b[39m }\u001b[33m,\u001b[39m\n    \u001b[90m145| \u001b[39m      })\u001b[33m;\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[112/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create a personal fact\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useUserFacts.test.ts:\u001b[2m188:26\u001b[22m\u001b[39m\n    \u001b[90m186| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m187| \u001b[39m\n    \u001b[90m188| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museUserFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m189| \u001b[39m\n    \u001b[90m190| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[113/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create facts of all types\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useUserFacts.test.ts:\u001b[2m227:26\u001b[22m\u001b[39m\n    \u001b[90m225| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m226| \u001b[39m\n    \u001b[90m227| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museUserFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m228| \u001b[39m\n    \u001b[90m229| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[114/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create failure with error message\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useUserFacts.test.ts:\u001b[2m275:26\u001b[22m\u001b[39m\n    \u001b[90m273| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m274| \u001b[39m\n    \u001b[90m275| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museUserFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m276| \u001b[39m\n    \u001b[90m277| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[115/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create exception\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useUserFacts.test.ts:\u001b[2m306:26\u001b[22m\u001b[39m\n    \u001b[90m304| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m305| \u001b[39m\n    \u001b[90m306| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museUserFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m307| \u001b[39m\n    \u001b[90m308| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[116/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update fact content\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useUserFacts.test.ts:\u001b[2m333:26\u001b[22m\u001b[39m\n    \u001b[90m331| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m332| \u001b[39m\n    \u001b[90m333| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museUserFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m334| \u001b[39m\n    \u001b[90m335| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[117/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update fact type\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useUserFacts.test.ts:\u001b[2m367:26\u001b[22m\u001b[39m\n    \u001b[90m365| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m366| \u001b[39m\n    \u001b[90m367| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museUserFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m368| \u001b[39m\n    \u001b[90m369| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[118/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update both content and type\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useUserFacts.test.ts:\u001b[2m400:26\u001b[22m\u001b[39m\n    \u001b[90m398| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m399| \u001b[39m\n    \u001b[90m400| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museUserFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m401| \u001b[39m\n    \u001b[90m402| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[119/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update failure with error message\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useUserFacts.test.ts:\u001b[2m435:26\u001b[22m\u001b[39m\n    \u001b[90m433| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m434| \u001b[39m\n    \u001b[90m435| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museUserFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m436| \u001b[39m\n    \u001b[90m437| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[120/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update exception\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useUserFacts.test.ts:\u001b[2m464:26\u001b[22m\u001b[39m\n    \u001b[90m462| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m463| \u001b[39m\n    \u001b[90m464| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museUserFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m465| \u001b[39m\n    \u001b[90m466| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[121/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould delete a user fact successfully\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useUserFacts.test.ts:\u001b[2m491:26\u001b[22m\u001b[39m\n    \u001b[90m489| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m490| \u001b[39m\n    \u001b[90m491| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museUserFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m492| \u001b[39m\n    \u001b[90m493| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[122/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete failure with error message\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useUserFacts.test.ts:\u001b[2m513:26\u001b[22m\u001b[39m\n    \u001b[90m511| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m512| \u001b[39m\n    \u001b[90m513| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museUserFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m514| \u001b[39m\n    \u001b[90m515| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[123/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete exception\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useUserFacts.test.ts:\u001b[2m536:26\u001b[22m\u001b[39m\n    \u001b[90m534| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m535| \u001b[39m\n    \u001b[90m536| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museUserFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m537| \u001b[39m\n    \u001b[90m538| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[124/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mType-Based Filtering (loadFactsByType)\u001b[2m > \u001b[22mshould load facts filtered by type\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useUserFacts.test.ts:\u001b[2m557:26\u001b[22m\u001b[39m\n    \u001b[90m555| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m556| \u001b[39m\n    \u001b[90m557| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museUserFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m558| \u001b[39m\n    \u001b[90m559| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[125/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mType-Based Filtering (loadFactsByType)\u001b[2m > \u001b[22mshould load all fact types individually\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useUserFacts.test.ts:\u001b[2m586:26\u001b[22m\u001b[39m\n    \u001b[90m584| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m585| \u001b[39m\n    \u001b[90m586| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museUserFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m587| \u001b[39m\n    \u001b[90m588| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[126/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mType-Based Filtering (loadFactsByType)\u001b[2m > \u001b[22mshould handle empty filtered results\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useUserFacts.test.ts:\u001b[2m632:26\u001b[22m\u001b[39m\n    \u001b[90m630| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m631| \u001b[39m\n    \u001b[90m632| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museUserFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m633| \u001b[39m\n    \u001b[90m634| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[127/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mType-Based Filtering (loadFactsByType)\u001b[2m > \u001b[22mshould handle filter error\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useUserFacts.test.ts:\u001b[2m656:26\u001b[22m\u001b[39m\n    \u001b[90m654| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m655| \u001b[39m\n    \u001b[90m656| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museUserFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m657| \u001b[39m\n    \u001b[90m658| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[128/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mType-Based Filtering (loadFactsByType)\u001b[2m > \u001b[22mshould set loading state during filter operation\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useUserFacts.test.ts:\u001b[2m680:26\u001b[22m\u001b[39m\n    \u001b[90m678| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m679| \u001b[39m\n    \u001b[90m680| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museUserFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m681| \u001b[39m\n    \u001b[90m682| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[129/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould refresh user facts list\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useUserFacts.test.ts:\u001b[2m714:26\u001b[22m\u001b[39m\n    \u001b[90m712| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m713| \u001b[39m\n    \u001b[90m714| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museUserFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m715| \u001b[39m\n    \u001b[90m716| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[130/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould set loading state during refresh\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useUserFacts.test.ts:\u001b[2m743:26\u001b[22m\u001b[39m\n    \u001b[90m741| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m742| \u001b[39m\n    \u001b[90m743| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museUserFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m744| \u001b[39m\n    \u001b[90m745| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[131/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure with error message\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useUserFacts.test.ts:\u001b[2m777:26\u001b[22m\u001b[39m\n    \u001b[90m775| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m776| \u001b[39m\n    \u001b[90m777| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museUserFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m778| \u001b[39m\n    \u001b[90m779| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[132/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure without error message\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useUserFacts.test.ts:\u001b[2m792:26\u001b[22m\u001b[39m\n    \u001b[90m790| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m791| \u001b[39m\n    \u001b[90m792| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museUserFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m793| \u001b[39m\n    \u001b[90m794| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[133/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list exception\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useUserFacts.test.ts:\u001b[2m804:26\u001b[22m\u001b[39m\n    \u001b[90m802| \u001b[39m      mockUserFactsAPI\u001b[33m.\u001b[39mlist\u001b[33m.\u001b[39m\u001b[34mmockRejectedValue\u001b[39m(\u001b[35mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Connection ti\u001b[39m\u2026\n    \u001b[90m803| \u001b[39m\n    \u001b[90m804| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museUserFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m805| \u001b[39m\n    \u001b[90m806| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[134/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle non-Error exception\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useUserFacts.test.ts:\u001b[2m817:26\u001b[22m\u001b[39m\n    \u001b[90m815| \u001b[39m      mockUserFactsAPI\u001b[33m.\u001b[39mlist\u001b[33m.\u001b[39m\u001b[34mmockRejectedValue\u001b[39m(\u001b[32m'String error'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m816| \u001b[39m\n    \u001b[90m817| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museUserFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m818| \u001b[39m\n    \u001b[90m819| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[135/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould clear previous error on successful operation\n\u001b[31m\u001b[1mError\u001b[22m: Should not already be working.\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:\u001b[2m25742:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m flushActQueue node_modules/react/cjs/react.development.js:\u001b[2m2667:24\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m act node_modules/react/cjs/react.development.js:\u001b[2m2582:11\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m node_modules/@testing-library/react/dist/act-compat.js:\u001b[2m47:25\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m renderRoot node_modules/@testing-library/react/dist/pure.js:\u001b[2m190:26\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m render node_modules/@testing-library/react/dist/pure.js:\u001b[2m292:10\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m Proxy.renderHook node_modules/@testing-library/react/dist/pure.js:\u001b[2m340:7\u001b[22m\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/hooks/useUserFacts.test.ts:\u001b[2m832:26\u001b[22m\u001b[39m\n    \u001b[90m830| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m831| \u001b[39m\n    \u001b[90m832| \u001b[39m      \u001b[35mconst\u001b[39m { result } \u001b[33m=\u001b[39m \u001b[34mrenderHook\u001b[39m(() \u001b[33m=>\u001b[39m \u001b[34museUserFacts\u001b[39m(\u001b[34m100\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m833| \u001b[39m\n    \u001b[90m834| \u001b[39m      \u001b[35mawait\u001b[39m \u001b[34mwaitFor\u001b[39m(() \u001b[33m=>\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[136/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/services/LegalAPIService.test.ts\u001b[2m > \u001b[22mLegalAPIService\u001b[2m > \u001b[22mclassifyQuestion\u001b[2m > \u001b[22mshould default to civil for unknown questions\n\u001b[31m\u001b[1mAssertionError\u001b[22m: expected 'general' to be 'civil' // Object.is equality\u001b[39m\n\nExpected: \u001b[32m\"\u001b[7mcivi\u001b[27ml\"\u001b[39m\nReceived: \u001b[31m\"\u001b[7mgenera\u001b[27ml\"\u001b[39m\n\n\u001b[36m \u001b[2m\u276f\u001b[22m src/services/LegalAPIService.test.ts:\u001b[2m85:24\u001b[22m\u001b[39m\n    \u001b[90m 83| \u001b[39m      \u001b[35mconst\u001b[39m question \u001b[33m=\u001b[39m \u001b[32m'What are my general rights?'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[90m 84| \u001b[39m      \u001b[35mconst\u001b[39m category \u001b[33m=\u001b[39m service\u001b[33m.\u001b[39m\u001b[34mclassifyQuestion\u001b[39m(question)\u001b[33m;\u001b[39m\n    \u001b[90m 85| \u001b[39m      \u001b[34mexpect\u001b[39m(category)\u001b[33m.\u001b[39m\u001b[34mtoBe\u001b[39m(\u001b[32m'civil'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                       \u001b[31m^\u001b[39m\n    \u001b[90m 86| \u001b[39m    })\u001b[33m;\u001b[39m\n    \u001b[90m 87| \u001b[39m  })\u001b[33m;\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[137/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mcreateNote\u001b[2m > \u001b[22mshould create a note with valid input\n\u001b[31m\u001b[1mError\u001b[22m: Note content must be 10000 characters or less\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m NotesService.createNote src/services/NotesService.ts:\u001b[2m18:15\u001b[22m\u001b[39m\n    \u001b[90m 16| \u001b[39m      \u001b[90m// BUG: Intentional error - validation logic is backwards\u001b[39m\n    \u001b[90m 17| \u001b[39m      \u001b[35mif\u001b[39m (content\u001b[33m.\u001b[39mlength \u001b[33m<\u001b[39m \u001b[34m10000\u001b[39m) {\n    \u001b[90m 18| \u001b[39m        \u001b[35mthrow\u001b[39m \u001b[35mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Note content must be 10000 characters or less\u001b[39m\u2026\n    \u001b[90m   | \u001b[39m              \u001b[31m^\u001b[39m\n    \u001b[90m 19| \u001b[39m      }\n    \u001b[90m 20| \u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m src/services/NotesService.test.ts:\u001b[2m43:35\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[138/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mcreateNote\u001b[2m > \u001b[22mshould throw error if content exceeds 10000 characters\n\u001b[31m\u001b[1mAssertionError\u001b[22m: expected [Function] to throw error including 'Note content must be 10000 characters\u2026' but got 'Cannot read properties of undefined (\u2026'\u001b[39m\n\nExpected: \u001b[32m\"Note content must be 10000 characters or less\"\u001b[39m\nReceived: \u001b[31m\"Cannot read properties of undefined (reading 'id')\"\u001b[39m\n\n\u001b[36m \u001b[2m\u276f\u001b[22m src/services/NotesService.test.ts:\u001b[2m69:63\u001b[22m\u001b[39m\n    \u001b[90m 67| \u001b[39m      \u001b[35mconst\u001b[39m longContent \u001b[33m=\u001b[39m \u001b[32m'a'\u001b[39m\u001b[33m.\u001b[39m\u001b[34mrepeat\u001b[39m(\u001b[34m10001\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m 68| \u001b[39m\n    \u001b[90m 69| \u001b[39m      \u001b[34mexpect\u001b[39m(() \u001b[33m=>\u001b[39m notesService\u001b[33m.\u001b[39m\u001b[34mcreateNote\u001b[39m(\u001b[34m100\u001b[39m\u001b[33m,\u001b[39m longContent))\u001b[33m.\u001b[39m\u001b[34mtoThrow\u001b[39m(\n    \u001b[90m   | \u001b[39m                                                              \u001b[31m^\u001b[39m\n    \u001b[90m 70| \u001b[39m        \u001b[32m'Note content must be 10000 characters or less'\u001b[39m\n    \u001b[90m 71| \u001b[39m      )\u001b[33m;\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[139/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mcreateNote\u001b[2m > \u001b[22mshould log and rethrow repository errors\n\u001b[31m\u001b[1mAssertionError\u001b[22m: expected [Function] to throw error including 'Database error' but got 'Note content must be 10000 characters\u2026'\u001b[39m\n\nExpected: \u001b[32m\"Database error\"\u001b[39m\nReceived: \u001b[31m\"Note content must be 10000 characters or less\"\u001b[39m\n\n\u001b[36m \u001b[2m\u276f\u001b[22m src/services/NotesService.test.ts:\u001b[2m99:66\u001b[22m\u001b[39m\n    \u001b[90m 97| \u001b[39m      })\u001b[33m;\u001b[39m\n    \u001b[90m 98| \u001b[39m\n    \u001b[90m 99| \u001b[39m      \u001b[34mexpect\u001b[39m(() \u001b[33m=>\u001b[39m notesService\u001b[33m.\u001b[39m\u001b[34mcreateNote\u001b[39m(\u001b[34m100\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'Test content'\u001b[39m))\u001b[33m.\u001b[39m\u001b[34mtoThr\u001b[39m\u2026\n    \u001b[90m   | \u001b[39m                                                                 \u001b[31m^\u001b[39m\n    \u001b[90m100| \u001b[39m      \u001b[34mexpect\u001b[39m(errorLogger\u001b[33m.\u001b[39mlogError)\u001b[33m.\u001b[39m\u001b[34mtoHaveBeenCalledWith\u001b[39m(\n    \u001b[90m101| \u001b[39m        error\u001b[33m,\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[140/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle special characters in content\n\u001b[31m\u001b[1mError\u001b[22m: Note content must be 10000 characters or less\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m NotesService.createNote src/services/NotesService.ts:\u001b[2m18:15\u001b[22m\u001b[39m\n    \u001b[90m 16| \u001b[39m      \u001b[90m// BUG: Intentional error - validation logic is backwards\u001b[39m\n    \u001b[90m 17| \u001b[39m      \u001b[35mif\u001b[39m (content\u001b[33m.\u001b[39mlength \u001b[33m<\u001b[39m \u001b[34m10000\u001b[39m) {\n    \u001b[90m 18| \u001b[39m        \u001b[35mthrow\u001b[39m \u001b[35mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Note content must be 10000 characters or less\u001b[39m\u2026\n    \u001b[90m   | \u001b[39m              \u001b[31m^\u001b[39m\n    \u001b[90m 19| \u001b[39m      }\n    \u001b[90m 20| \u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m src/services/NotesService.test.ts:\u001b[2m261:35\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[141/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle unicode characters in content\n\u001b[31m\u001b[1mError\u001b[22m: Note content must be 10000 characters or less\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m NotesService.createNote src/services/NotesService.ts:\u001b[2m18:15\u001b[22m\u001b[39m\n    \u001b[90m 16| \u001b[39m      \u001b[90m// BUG: Intentional error - validation logic is backwards\u001b[39m\n    \u001b[90m 17| \u001b[39m      \u001b[35mif\u001b[39m (content\u001b[33m.\u001b[39mlength \u001b[33m<\u001b[39m \u001b[34m10000\u001b[39m) {\n    \u001b[90m 18| \u001b[39m        \u001b[35mthrow\u001b[39m \u001b[35mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Note content must be 10000 characters or less\u001b[39m\u2026\n    \u001b[90m   | \u001b[39m              \u001b[31m^\u001b[39m\n    \u001b[90m 19| \u001b[39m      }\n    \u001b[90m 20| \u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m src/services/NotesService.test.ts:\u001b[2m278:35\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[142/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould audit case fact creation\n\u001b[31m\u001b[1mAssertionError\u001b[22m: expected [] to have a length of 1 but got +0\u001b[39m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n\u001b[32m- 1\u001b[39m\n\u001b[31m+ 0\u001b[39m\n\n\u001b[36m \u001b[2m\u276f\u001b[22m src/repositories/CaseFactsRepository.test.ts:\u001b[2m158:25\u001b[22m\u001b[39m\n    \u001b[90m156| \u001b[39m\n    \u001b[90m157| \u001b[39m      \u001b[35mconst\u001b[39m auditLogs \u001b[33m=\u001b[39m db\u001b[33m.\u001b[39m\u001b[34mprepare\u001b[39m(\u001b[32m'SELECT * FROM audit_logs WHERE eve\u001b[39m\u2026\n    \u001b[90m158| \u001b[39m      \u001b[34mexpect\u001b[39m(auditLogs)\u001b[33m.\u001b[39m\u001b[34mtoHaveLength\u001b[39m(\u001b[34m1\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                        \u001b[31m^\u001b[39m\n    \u001b[90m159| \u001b[39m\n    \u001b[90m160| \u001b[39m      \u001b[35mconst\u001b[39m log \u001b[33m=\u001b[39m auditLogs[\u001b[34m0\u001b[39m] \u001b[35mas\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[143/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould audit failed creation\n\u001b[31m\u001b[1mAssertionError\u001b[22m: expected [] to have a length of 1 but got +0\u001b[39m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n\u001b[32m- 1\u001b[39m\n\u001b[31m+ 0\u001b[39m\n\n\u001b[36m \u001b[2m\u276f\u001b[22m src/repositories/CaseFactsRepository.test.ts:\u001b[2m204:25\u001b[22m\u001b[39m\n    \u001b[90m202| \u001b[39m\n    \u001b[90m203| \u001b[39m      \u001b[35mconst\u001b[39m auditLogs \u001b[33m=\u001b[39m db\u001b[33m.\u001b[39m\u001b[34mprepare\u001b[39m(\u001b[32m'SELECT * FROM audit_logs WHERE eve\u001b[39m\u2026\n    \u001b[90m204| \u001b[39m      \u001b[34mexpect\u001b[39m(auditLogs)\u001b[33m.\u001b[39m\u001b[34mtoHaveLength\u001b[39m(\u001b[34m1\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                        \u001b[31m^\u001b[39m\n    \u001b[90m205| \u001b[39m    })\u001b[33m;\u001b[39m\n    \u001b[90m206| \u001b[39m  })\u001b[33m;\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[144/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mfindById\u001b[2m > \u001b[22mshould return null for non-existent ID\n\u001b[31m\u001b[1mAssertionError\u001b[22m: expected undefined to be null\u001b[39m\n\n\u001b[32m- Expected:\u001b[39m \nnull\n\n\u001b[31m+ Received:\u001b[39m \nundefined\n\n\u001b[36m \u001b[2m\u276f\u001b[22m src/repositories/CaseFactsRepository.test.ts:\u001b[2m228:21\u001b[22m\u001b[39m\n    \u001b[90m226| \u001b[39m    \u001b[34mit\u001b[39m(\u001b[32m'should return null for non-existent ID'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[90m227| \u001b[39m      \u001b[35mconst\u001b[39m found \u001b[33m=\u001b[39m repository\u001b[33m.\u001b[39m\u001b[34mfindById\u001b[39m(\u001b[34m999\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m228| \u001b[39m      \u001b[34mexpect\u001b[39m(found)\u001b[33m.\u001b[39m\u001b[34mtoBeNull\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                    \u001b[31m^\u001b[39m\n    \u001b[90m229| \u001b[39m    })\u001b[33m;\u001b[39m\n    \u001b[90m230| \u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[145/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mfindById\u001b[2m > \u001b[22mshould audit content access when decrypting\n\u001b[31m\u001b[1mAssertionError\u001b[22m: expected [] to have a length of 1 but got +0\u001b[39m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n\u001b[32m- 1\u001b[39m\n\u001b[31m+ 0\u001b[39m\n\n\u001b[36m \u001b[2m\u276f\u001b[22m src/repositories/CaseFactsRepository.test.ts:\u001b[2m244:25\u001b[22m\u001b[39m\n    \u001b[90m242| \u001b[39m\n    \u001b[90m243| \u001b[39m      \u001b[35mconst\u001b[39m auditLogs \u001b[33m=\u001b[39m db\u001b[33m.\u001b[39m\u001b[34mprepare\u001b[39m(\u001b[32m'SELECT * FROM audit_logs WHERE eve\u001b[39m\u2026\n    \u001b[90m244| \u001b[39m      \u001b[34mexpect\u001b[39m(auditLogs)\u001b[33m.\u001b[39m\u001b[34mtoHaveLength\u001b[39m(\u001b[34m1\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                        \u001b[31m^\u001b[39m\n    \u001b[90m245| \u001b[39m\n    \u001b[90m246| \u001b[39m      \u001b[35mconst\u001b[39m log \u001b[33m=\u001b[39m auditLogs[\u001b[34m0\u001b[39m] \u001b[35mas\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[146/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mfindByCaseId\u001b[2m > \u001b[22mshould find all case facts for a case ordered by importance\n\u001b[31m\u001b[1mAssertionError\u001b[22m: expected 'medium' to be 'critical' // Object.is equality\u001b[39m\n\nExpected: \u001b[32m\"critical\"\u001b[39m\nReceived: \u001b[31m\"medium\"\u001b[39m\n\n\u001b[36m \u001b[2m\u276f\u001b[22m src/repositories/CaseFactsRepository.test.ts:\u001b[2m288:35\u001b[22m\u001b[39m\n    \u001b[90m286| \u001b[39m      \u001b[34mexpect\u001b[39m(facts)\u001b[33m.\u001b[39m\u001b[34mtoHaveLength\u001b[39m(\u001b[34m3\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m287| \u001b[39m      \u001b[90m// Should be ordered by importance DESC\u001b[39m\n    \u001b[90m288| \u001b[39m      \u001b[34mexpect\u001b[39m(facts[\u001b[34m0\u001b[39m]\u001b[33m.\u001b[39mimportance)\u001b[33m.\u001b[39m\u001b[34mtoBe\u001b[39m(\u001b[32m'critical'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                                  \u001b[31m^\u001b[39m\n    \u001b[90m289| \u001b[39m      \u001b[34mexpect\u001b[39m(facts[\u001b[34m2\u001b[39m]\u001b[33m.\u001b[39mimportance)\u001b[33m.\u001b[39m\u001b[34mtoBe\u001b[39m(\u001b[32m'low'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m290| \u001b[39m    })\u001b[33m;\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[147/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mfindByCaseId\u001b[2m > \u001b[22mshould audit bulk content access\n\u001b[31m\u001b[1mAssertionError\u001b[22m: expected [] to have a length of 1 but got +0\u001b[39m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n\u001b[32m- 1\u001b[39m\n\u001b[31m+ 0\u001b[39m\n\n\u001b[36m \u001b[2m\u276f\u001b[22m src/repositories/CaseFactsRepository.test.ts:\u001b[2m316:25\u001b[22m\u001b[39m\n    \u001b[90m314| \u001b[39m\n    \u001b[90m315| \u001b[39m      \u001b[35mconst\u001b[39m auditLogs \u001b[33m=\u001b[39m db\u001b[33m.\u001b[39m\u001b[34mprepare\u001b[39m(\u001b[32m'SELECT * FROM audit_logs WHERE eve\u001b[39m\u2026\n    \u001b[90m316| \u001b[39m      \u001b[34mexpect\u001b[39m(auditLogs)\u001b[33m.\u001b[39m\u001b[34mtoHaveLength\u001b[39m(\u001b[34m1\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                        \u001b[31m^\u001b[39m\n    \u001b[90m317| \u001b[39m\n    \u001b[90m318| \u001b[39m      \u001b[35mconst\u001b[39m log \u001b[33m=\u001b[39m auditLogs[\u001b[34m0\u001b[39m] \u001b[35mas\u001b[39m { details\u001b[33m:\u001b[39m string }\u001b[33m;\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[148/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mfindByCategory\u001b[2m > \u001b[22mshould audit filtered content access\n\u001b[31m\u001b[1mAssertionError\u001b[22m: expected [] to have a length of 1 but got +0\u001b[39m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n\u001b[32m- 1\u001b[39m\n\u001b[31m+ 0\u001b[39m\n\n\u001b[36m \u001b[2m\u276f\u001b[22m src/repositories/CaseFactsRepository.test.ts:\u001b[2m371:25\u001b[22m\u001b[39m\n    \u001b[90m369| \u001b[39m\n    \u001b[90m370| \u001b[39m      \u001b[35mconst\u001b[39m auditLogs \u001b[33m=\u001b[39m db\u001b[33m.\u001b[39m\u001b[34mprepare\u001b[39m(\u001b[32m'SELECT * FROM audit_logs WHERE eve\u001b[39m\u2026\n    \u001b[90m371| \u001b[39m      \u001b[34mexpect\u001b[39m(auditLogs)\u001b[33m.\u001b[39m\u001b[34mtoHaveLength\u001b[39m(\u001b[34m1\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                        \u001b[31m^\u001b[39m\n    \u001b[90m372| \u001b[39m\n    \u001b[90m373| \u001b[39m      \u001b[35mconst\u001b[39m log \u001b[33m=\u001b[39m auditLogs[\u001b[34m0\u001b[39m] \u001b[35mas\u001b[39m { details\u001b[33m:\u001b[39m string }\u001b[33m;\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[149/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mfindByImportance\u001b[2m > \u001b[22mshould audit filtered content access by importance\n\u001b[31m\u001b[1mAssertionError\u001b[22m: expected [] to have a length of 1 but got +0\u001b[39m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n\u001b[32m- 1\u001b[39m\n\u001b[31m+ 0\u001b[39m\n\n\u001b[36m \u001b[2m\u276f\u001b[22m src/repositories/CaseFactsRepository.test.ts:\u001b[2m430:25\u001b[22m\u001b[39m\n    \u001b[90m428| \u001b[39m\n    \u001b[90m429| \u001b[39m      \u001b[35mconst\u001b[39m auditLogs \u001b[33m=\u001b[39m db\u001b[33m.\u001b[39m\u001b[34mprepare\u001b[39m(\u001b[32m'SELECT * FROM audit_logs WHERE eve\u001b[39m\u2026\n    \u001b[90m430| \u001b[39m      \u001b[34mexpect\u001b[39m(auditLogs)\u001b[33m.\u001b[39m\u001b[34mtoHaveLength\u001b[39m(\u001b[34m1\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                        \u001b[31m^\u001b[39m\n    \u001b[90m431| \u001b[39m\n    \u001b[90m432| \u001b[39m      \u001b[35mconst\u001b[39m log \u001b[33m=\u001b[39m auditLogs[\u001b[34m0\u001b[39m] \u001b[35mas\u001b[39m { details\u001b[33m:\u001b[39m string }\u001b[33m;\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[150/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mupdate\u001b[2m > \u001b[22mshould audit update operation\n\u001b[31m\u001b[1mAssertionError\u001b[22m: expected 0 to be greater than 0\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/repositories/CaseFactsRepository.test.ts:\u001b[2m526:32\u001b[22m\u001b[39m\n    \u001b[90m524| \u001b[39m\n    \u001b[90m525| \u001b[39m      \u001b[35mconst\u001b[39m auditLogs \u001b[33m=\u001b[39m db\u001b[33m.\u001b[39m\u001b[34mprepare\u001b[39m(\u001b[32m'SELECT * FROM audit_logs WHERE eve\u001b[39m\u2026\n    \u001b[90m526| \u001b[39m      \u001b[34mexpect\u001b[39m(auditLogs\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39m\u001b[34mtoBeGreaterThan\u001b[39m(\u001b[34m0\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                               \u001b[31m^\u001b[39m\n    \u001b[90m527| \u001b[39m\n    \u001b[90m528| \u001b[39m      \u001b[35mconst\u001b[39m log \u001b[33m=\u001b[39m auditLogs[auditLogs\u001b[33m.\u001b[39mlength \u001b[33m-\u001b[39m \u001b[34m1\u001b[39m] \u001b[35mas\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[151/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mdelete\u001b[2m > \u001b[22mshould delete case fact\n\u001b[31m\u001b[1mAssertionError\u001b[22m: expected undefined to be null\u001b[39m\n\n\u001b[32m- Expected:\u001b[39m \nnull\n\n\u001b[31m+ Received:\u001b[39m \nundefined\n\n\u001b[36m \u001b[2m\u276f\u001b[22m src/repositories/CaseFactsRepository.test.ts:\u001b[2m573:21\u001b[22m\u001b[39m\n    \u001b[90m571| \u001b[39m\n    \u001b[90m572| \u001b[39m      \u001b[35mconst\u001b[39m found \u001b[33m=\u001b[39m repository\u001b[33m.\u001b[39m\u001b[34mfindById\u001b[39m(created\u001b[33m.\u001b[39mid)\u001b[33m;\u001b[39m\n    \u001b[90m573| \u001b[39m      \u001b[34mexpect\u001b[39m(found)\u001b[33m.\u001b[39m\u001b[34mtoBeNull\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                    \u001b[31m^\u001b[39m\n    \u001b[90m574| \u001b[39m    })\u001b[33m;\u001b[39m\n    \u001b[90m575| \u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[152/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mdelete\u001b[2m > \u001b[22mshould audit delete operation\n\u001b[31m\u001b[1mAssertionError\u001b[22m: expected 0 to be greater than 0\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/repositories/CaseFactsRepository.test.ts:\u001b[2m591:32\u001b[22m\u001b[39m\n    \u001b[90m589| \u001b[39m\n    \u001b[90m590| \u001b[39m      \u001b[35mconst\u001b[39m auditLogs \u001b[33m=\u001b[39m db\u001b[33m.\u001b[39m\u001b[34mprepare\u001b[39m(\u001b[32m'SELECT * FROM audit_logs WHERE eve\u001b[39m\u2026\n    \u001b[90m591| \u001b[39m      \u001b[34mexpect\u001b[39m(auditLogs\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39m\u001b[34mtoBeGreaterThan\u001b[39m(\u001b[34m0\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                               \u001b[31m^\u001b[39m\n    \u001b[90m592| \u001b[39m\n    \u001b[90m593| \u001b[39m      \u001b[35mconst\u001b[39m log \u001b[33m=\u001b[39m auditLogs[auditLogs\u001b[33m.\u001b[39mlength \u001b[33m-\u001b[39m \u001b[34m1\u001b[39m] \u001b[35mas\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[153/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mdependency injection\u001b[2m > \u001b[22mshould allow setting audit logger\n\u001b[31m\u001b[1mAssertionError\u001b[22m: expected [] to have a length of 1 but got +0\u001b[39m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n\u001b[32m- 1\u001b[39m\n\u001b[31m+ 0\u001b[39m\n\n\u001b[36m \u001b[2m\u276f\u001b[22m src/repositories/CaseFactsRepository.test.ts:\u001b[2m660:25\u001b[22m\u001b[39m\n    \u001b[90m658| \u001b[39m\n    \u001b[90m659| \u001b[39m      \u001b[35mconst\u001b[39m auditLogs \u001b[33m=\u001b[39m db\u001b[33m.\u001b[39m\u001b[34mprepare\u001b[39m(\u001b[32m'SELECT * FROM audit_logs WHERE eve\u001b[39m\u2026\n    \u001b[90m660| \u001b[39m      \u001b[34mexpect\u001b[39m(auditLogs)\u001b[33m.\u001b[39m\u001b[34mtoHaveLength\u001b[39m(\u001b[34m1\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                        \u001b[31m^\u001b[39m\n    \u001b[90m661| \u001b[39m    })\u001b[33m;\u001b[39m\n    \u001b[90m662| \u001b[39m  })\u001b[33m;\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[154/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mEncryption on Write Operations\u001b[2m > \u001b[22mshould store encrypted case description in database\n\u001b[31m\u001b[1mReferenceError\u001b[22m: db is not defined\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m Proxy.getDb src/repositories/CaseRepository.test.ts:\u001b[2m6:20\u001b[22m\u001b[39m\n    \u001b[90m  4| \u001b[39m\u001b[35mimport\u001b[39m { createTestDatabase\u001b[33m,\u001b[39m type \u001b[33mTestDatabaseHelper\u001b[39m } \u001b[35mfrom\u001b[39m \u001b[32m'../test-u\u001b[39m\u2026\n    \u001b[90m  5| \u001b[39m\u001b[35mimport\u001b[39m type { \u001b[33mCreateCaseInput\u001b[39m } \u001b[35mfrom\u001b[39m \u001b[32m'../models/Case'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[90m  6| \u001b[39m\u001b[35mimport\u001b[39m type \u001b[33mDatabase\u001b[39m \u001b[35mfrom\u001b[39m \u001b[32m'better-sqlite3'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                   \u001b[31m^\u001b[39m\n    \u001b[90m  7| \u001b[39m\n    \u001b[90m  8| \u001b[39m\u001b[34mdescribe\u001b[39m(\u001b[32m'CaseRepository with Encryption'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n\u001b[90m \u001b[2m\u276f\u001b[22m CaseRepository.create src/repositories/CaseRepository.ts:\u001b[2m16:18\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m src/repositories/CaseRepository.test.ts:\u001b[2m58:38\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[155/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mEncryption on Write Operations\u001b[2m > \u001b[22mshould store null for empty description without encryption\n\u001b[31m\u001b[1mReferenceError\u001b[22m: db is not defined\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m Proxy.getDb src/repositories/CaseRepository.test.ts:\u001b[2m6:20\u001b[22m\u001b[39m\n    \u001b[90m  4| \u001b[39m\u001b[35mimport\u001b[39m { createTestDatabase\u001b[33m,\u001b[39m type \u001b[33mTestDatabaseHelper\u001b[39m } \u001b[35mfrom\u001b[39m \u001b[32m'../test-u\u001b[39m\u2026\n    \u001b[90m  5| \u001b[39m\u001b[35mimport\u001b[39m type { \u001b[33mCreateCaseInput\u001b[39m } \u001b[35mfrom\u001b[39m \u001b[32m'../models/Case'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[90m  6| \u001b[39m\u001b[35mimport\u001b[39m type \u001b[33mDatabase\u001b[39m \u001b[35mfrom\u001b[39m \u001b[32m'better-sqlite3'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                   \u001b[31m^\u001b[39m\n    \u001b[90m  7| \u001b[39m\n    \u001b[90m  8| \u001b[39m\u001b[34mdescribe\u001b[39m(\u001b[32m'CaseRepository with Encryption'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n\u001b[90m \u001b[2m\u276f\u001b[22m CaseRepository.create src/repositories/CaseRepository.ts:\u001b[2m16:18\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m src/repositories/CaseRepository.test.ts:\u001b[2m86:38\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[156/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mEncryption on Write Operations\u001b[2m > \u001b[22mshould update and encrypt case description\n\u001b[31m\u001b[1mReferenceError\u001b[22m: db is not defined\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m Proxy.getDb src/repositories/CaseRepository.test.ts:\u001b[2m6:20\u001b[22m\u001b[39m\n    \u001b[90m  4| \u001b[39m\u001b[35mimport\u001b[39m { createTestDatabase\u001b[33m,\u001b[39m type \u001b[33mTestDatabaseHelper\u001b[39m } \u001b[35mfrom\u001b[39m \u001b[32m'../test-u\u001b[39m\u2026\n    \u001b[90m  5| \u001b[39m\u001b[35mimport\u001b[39m type { \u001b[33mCreateCaseInput\u001b[39m } \u001b[35mfrom\u001b[39m \u001b[32m'../models/Case'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[90m  6| \u001b[39m\u001b[35mimport\u001b[39m type \u001b[33mDatabase\u001b[39m \u001b[35mfrom\u001b[39m \u001b[32m'better-sqlite3'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                   \u001b[31m^\u001b[39m\n    \u001b[90m  7| \u001b[39m\n    \u001b[90m  8| \u001b[39m\u001b[34mdescribe\u001b[39m(\u001b[32m'CaseRepository with Encryption'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n\u001b[90m \u001b[2m\u276f\u001b[22m CaseRepository.create src/repositories/CaseRepository.ts:\u001b[2m16:18\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m src/repositories/CaseRepository.test.ts:\u001b[2m97:38\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[157/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mDecryption on Read Operations\u001b[2m > \u001b[22mshould decrypt case description on retrieval\n\u001b[31m\u001b[1mReferenceError\u001b[22m: db is not defined\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m Proxy.getDb src/repositories/CaseRepository.test.ts:\u001b[2m6:20\u001b[22m\u001b[39m\n    \u001b[90m  4| \u001b[39m\u001b[35mimport\u001b[39m { createTestDatabase\u001b[33m,\u001b[39m type \u001b[33mTestDatabaseHelper\u001b[39m } \u001b[35mfrom\u001b[39m \u001b[32m'../test-u\u001b[39m\u2026\n    \u001b[90m  5| \u001b[39m\u001b[35mimport\u001b[39m type { \u001b[33mCreateCaseInput\u001b[39m } \u001b[35mfrom\u001b[39m \u001b[32m'../models/Case'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[90m  6| \u001b[39m\u001b[35mimport\u001b[39m type \u001b[33mDatabase\u001b[39m \u001b[35mfrom\u001b[39m \u001b[32m'better-sqlite3'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                   \u001b[31m^\u001b[39m\n    \u001b[90m  7| \u001b[39m\n    \u001b[90m  8| \u001b[39m\u001b[34mdescribe\u001b[39m(\u001b[32m'CaseRepository with Encryption'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n\u001b[90m \u001b[2m\u276f\u001b[22m CaseRepository.create src/repositories/CaseRepository.ts:\u001b[2m16:18\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m src/repositories/CaseRepository.test.ts:\u001b[2m127:38\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[158/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mDecryption on Read Operations\u001b[2m > \u001b[22mshould decrypt all case descriptions in findAll\n\u001b[31m\u001b[1mReferenceError\u001b[22m: db is not defined\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m Proxy.getDb src/repositories/CaseRepository.test.ts:\u001b[2m6:20\u001b[22m\u001b[39m\n    \u001b[90m  4| \u001b[39m\u001b[35mimport\u001b[39m { createTestDatabase\u001b[33m,\u001b[39m type \u001b[33mTestDatabaseHelper\u001b[39m } \u001b[35mfrom\u001b[39m \u001b[32m'../test-u\u001b[39m\u2026\n    \u001b[90m  5| \u001b[39m\u001b[35mimport\u001b[39m type { \u001b[33mCreateCaseInput\u001b[39m } \u001b[35mfrom\u001b[39m \u001b[32m'../models/Case'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[90m  6| \u001b[39m\u001b[35mimport\u001b[39m type \u001b[33mDatabase\u001b[39m \u001b[35mfrom\u001b[39m \u001b[32m'better-sqlite3'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                   \u001b[31m^\u001b[39m\n    \u001b[90m  7| \u001b[39m\n    \u001b[90m  8| \u001b[39m\u001b[34mdescribe\u001b[39m(\u001b[32m'CaseRepository with Encryption'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n\u001b[90m \u001b[2m\u276f\u001b[22m CaseRepository.create src/repositories/CaseRepository.ts:\u001b[2m16:18\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m src/repositories/CaseRepository.test.ts:\u001b[2m146:54\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m src/repositories/CaseRepository.test.ts:\u001b[2m146:32\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[159/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mDecryption on Read Operations\u001b[2m > \u001b[22mshould handle null descriptions correctly\n\u001b[31m\u001b[1mReferenceError\u001b[22m: db is not defined\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m Proxy.getDb src/repositories/CaseRepository.test.ts:\u001b[2m6:20\u001b[22m\u001b[39m\n    \u001b[90m  4| \u001b[39m\u001b[35mimport\u001b[39m { createTestDatabase\u001b[33m,\u001b[39m type \u001b[33mTestDatabaseHelper\u001b[39m } \u001b[35mfrom\u001b[39m \u001b[32m'../test-u\u001b[39m\u2026\n    \u001b[90m  5| \u001b[39m\u001b[35mimport\u001b[39m type { \u001b[33mCreateCaseInput\u001b[39m } \u001b[35mfrom\u001b[39m \u001b[32m'../models/Case'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[90m  6| \u001b[39m\u001b[35mimport\u001b[39m type \u001b[33mDatabase\u001b[39m \u001b[35mfrom\u001b[39m \u001b[32m'better-sqlite3'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                   \u001b[31m^\u001b[39m\n    \u001b[90m  7| \u001b[39m\n    \u001b[90m  8| \u001b[39m\u001b[34mdescribe\u001b[39m(\u001b[32m'CaseRepository with Encryption'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n\u001b[90m \u001b[2m\u276f\u001b[22m CaseRepository.create src/repositories/CaseRepository.ts:\u001b[2m16:18\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m src/repositories/CaseRepository.test.ts:\u001b[2m160:38\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[160/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mBackward Compatibility\u001b[2m > \u001b[22mshould handle legacy plaintext descriptions\n\u001b[31m\u001b[1mReferenceError\u001b[22m: db is not defined\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m Proxy.getDb src/repositories/CaseRepository.test.ts:\u001b[2m6:20\u001b[22m\u001b[39m\n    \u001b[90m  4| \u001b[39m\u001b[35mimport\u001b[39m { createTestDatabase\u001b[33m,\u001b[39m type \u001b[33mTestDatabaseHelper\u001b[39m } \u001b[35mfrom\u001b[39m \u001b[32m'../test-u\u001b[39m\u2026\n    \u001b[90m  5| \u001b[39m\u001b[35mimport\u001b[39m type { \u001b[33mCreateCaseInput\u001b[39m } \u001b[35mfrom\u001b[39m \u001b[32m'../models/Case'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[90m  6| \u001b[39m\u001b[35mimport\u001b[39m type \u001b[33mDatabase\u001b[39m \u001b[35mfrom\u001b[39m \u001b[32m'better-sqlite3'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                   \u001b[31m^\u001b[39m\n    \u001b[90m  7| \u001b[39m\n    \u001b[90m  8| \u001b[39m\u001b[34mdescribe\u001b[39m(\u001b[32m'CaseRepository with Encryption'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n\u001b[90m \u001b[2m\u276f\u001b[22m CaseRepository.findById src/repositories/CaseRepository.ts:\u001b[2m72:16\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m src/repositories/CaseRepository.test.ts:\u001b[2m184:40\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[161/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mBackward Compatibility\u001b[2m > \u001b[22mshould work without encryption service (backward compat mode)\n\u001b[31m\u001b[1mReferenceError\u001b[22m: db is not defined\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m Proxy.getDb src/repositories/CaseRepository.test.ts:\u001b[2m6:20\u001b[22m\u001b[39m\n    \u001b[90m  4| \u001b[39m\u001b[35mimport\u001b[39m { createTestDatabase\u001b[33m,\u001b[39m type \u001b[33mTestDatabaseHelper\u001b[39m } \u001b[35mfrom\u001b[39m \u001b[32m'../test-u\u001b[39m\u2026\n    \u001b[90m  5| \u001b[39m\u001b[35mimport\u001b[39m type { \u001b[33mCreateCaseInput\u001b[39m } \u001b[35mfrom\u001b[39m \u001b[32m'../models/Case'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[90m  6| \u001b[39m\u001b[35mimport\u001b[39m type \u001b[33mDatabase\u001b[39m \u001b[35mfrom\u001b[39m \u001b[32m'better-sqlite3'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                   \u001b[31m^\u001b[39m\n    \u001b[90m  7| \u001b[39m\n    \u001b[90m  8| \u001b[39m\u001b[34mdescribe\u001b[39m(\u001b[32m'CaseRepository with Encryption'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n\u001b[90m \u001b[2m\u276f\u001b[22m CaseRepository.create src/repositories/CaseRepository.ts:\u001b[2m16:18\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m src/repositories/CaseRepository.test.ts:\u001b[2m193:49\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[162/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mEncryption Security Properties\u001b[2m > \u001b[22mshould use unique IVs for same description encrypted multiple times\n\u001b[31m\u001b[1mReferenceError\u001b[22m: db is not defined\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m Proxy.getDb src/repositories/CaseRepository.test.ts:\u001b[2m6:20\u001b[22m\u001b[39m\n    \u001b[90m  4| \u001b[39m\u001b[35mimport\u001b[39m { createTestDatabase\u001b[33m,\u001b[39m type \u001b[33mTestDatabaseHelper\u001b[39m } \u001b[35mfrom\u001b[39m \u001b[32m'../test-u\u001b[39m\u2026\n    \u001b[90m  5| \u001b[39m\u001b[35mimport\u001b[39m type { \u001b[33mCreateCaseInput\u001b[39m } \u001b[35mfrom\u001b[39m \u001b[32m'../models/Case'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[90m  6| \u001b[39m\u001b[35mimport\u001b[39m type \u001b[33mDatabase\u001b[39m \u001b[35mfrom\u001b[39m \u001b[32m'better-sqlite3'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                   \u001b[31m^\u001b[39m\n    \u001b[90m  7| \u001b[39m\n    \u001b[90m  8| \u001b[39m\u001b[34mdescribe\u001b[39m(\u001b[32m'CaseRepository with Encryption'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n\u001b[90m \u001b[2m\u276f\u001b[22m CaseRepository.create src/repositories/CaseRepository.ts:\u001b[2m16:18\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m src/repositories/CaseRepository.test.ts:\u001b[2m212:32\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[163/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mEncryption Security Properties\u001b[2m > \u001b[22mshould fail decryption with wrong key\n\u001b[31m\u001b[1mReferenceError\u001b[22m: db is not defined\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m Proxy.getDb src/repositories/CaseRepository.test.ts:\u001b[2m6:20\u001b[22m\u001b[39m\n    \u001b[90m  4| \u001b[39m\u001b[35mimport\u001b[39m { createTestDatabase\u001b[33m,\u001b[39m type \u001b[33mTestDatabaseHelper\u001b[39m } \u001b[35mfrom\u001b[39m \u001b[32m'../test-u\u001b[39m\u2026\n    \u001b[90m  5| \u001b[39m\u001b[35mimport\u001b[39m type { \u001b[33mCreateCaseInput\u001b[39m } \u001b[35mfrom\u001b[39m \u001b[32m'../models/Case'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[90m  6| \u001b[39m\u001b[35mimport\u001b[39m type \u001b[33mDatabase\u001b[39m \u001b[35mfrom\u001b[39m \u001b[32m'better-sqlite3'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                   \u001b[31m^\u001b[39m\n    \u001b[90m  7| \u001b[39m\n    \u001b[90m  8| \u001b[39m\u001b[34mdescribe\u001b[39m(\u001b[32m'CaseRepository with Encryption'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n\u001b[90m \u001b[2m\u276f\u001b[22m CaseRepository.create src/repositories/CaseRepository.ts:\u001b[2m16:18\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m src/repositories/CaseRepository.test.ts:\u001b[2m243:38\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[164/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mRound-Trip Testing\u001b[2m > \u001b[22mshould successfully encrypt and decrypt unicode characters\n\u001b[31m\u001b[1mReferenceError\u001b[22m: db is not defined\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m Proxy.getDb src/repositories/CaseRepository.test.ts:\u001b[2m6:20\u001b[22m\u001b[39m\n    \u001b[90m  4| \u001b[39m\u001b[35mimport\u001b[39m { createTestDatabase\u001b[33m,\u001b[39m type \u001b[33mTestDatabaseHelper\u001b[39m } \u001b[35mfrom\u001b[39m \u001b[32m'../test-u\u001b[39m\u2026\n    \u001b[90m  5| \u001b[39m\u001b[35mimport\u001b[39m type { \u001b[33mCreateCaseInput\u001b[39m } \u001b[35mfrom\u001b[39m \u001b[32m'../models/Case'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[90m  6| \u001b[39m\u001b[35mimport\u001b[39m type \u001b[33mDatabase\u001b[39m \u001b[35mfrom\u001b[39m \u001b[32m'better-sqlite3'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                   \u001b[31m^\u001b[39m\n    \u001b[90m  7| \u001b[39m\n    \u001b[90m  8| \u001b[39m\u001b[34mdescribe\u001b[39m(\u001b[32m'CaseRepository with Encryption'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n\u001b[90m \u001b[2m\u276f\u001b[22m CaseRepository.create src/repositories/CaseRepository.ts:\u001b[2m16:18\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m src/repositories/CaseRepository.test.ts:\u001b[2m269:38\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[165/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mRound-Trip Testing\u001b[2m > \u001b[22mshould handle large descriptions (10KB+)\n\u001b[31m\u001b[1mReferenceError\u001b[22m: db is not defined\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m Proxy.getDb src/repositories/CaseRepository.test.ts:\u001b[2m6:20\u001b[22m\u001b[39m\n    \u001b[90m  4| \u001b[39m\u001b[35mimport\u001b[39m { createTestDatabase\u001b[33m,\u001b[39m type \u001b[33mTestDatabaseHelper\u001b[39m } \u001b[35mfrom\u001b[39m \u001b[32m'../test-u\u001b[39m\u2026\n    \u001b[90m  5| \u001b[39m\u001b[35mimport\u001b[39m type { \u001b[33mCreateCaseInput\u001b[39m } \u001b[35mfrom\u001b[39m \u001b[32m'../models/Case'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[90m  6| \u001b[39m\u001b[35mimport\u001b[39m type \u001b[33mDatabase\u001b[39m \u001b[35mfrom\u001b[39m \u001b[32m'better-sqlite3'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                   \u001b[31m^\u001b[39m\n    \u001b[90m  7| \u001b[39m\n    \u001b[90m  8| \u001b[39m\u001b[34mdescribe\u001b[39m(\u001b[32m'CaseRepository with Encryption'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n\u001b[90m \u001b[2m\u276f\u001b[22m CaseRepository.create src/repositories/CaseRepository.ts:\u001b[2m16:18\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m src/repositories/CaseRepository.test.ts:\u001b[2m283:38\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[166/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mRound-Trip Testing\u001b[2m > \u001b[22mshould handle special legal characters\n\u001b[31m\u001b[1mReferenceError\u001b[22m: db is not defined\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m Proxy.getDb src/repositories/CaseRepository.test.ts:\u001b[2m6:20\u001b[22m\u001b[39m\n    \u001b[90m  4| \u001b[39m\u001b[35mimport\u001b[39m { createTestDatabase\u001b[33m,\u001b[39m type \u001b[33mTestDatabaseHelper\u001b[39m } \u001b[35mfrom\u001b[39m \u001b[32m'../test-u\u001b[39m\u2026\n    \u001b[90m  5| \u001b[39m\u001b[35mimport\u001b[39m type { \u001b[33mCreateCaseInput\u001b[39m } \u001b[35mfrom\u001b[39m \u001b[32m'../models/Case'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[90m  6| \u001b[39m\u001b[35mimport\u001b[39m type \u001b[33mDatabase\u001b[39m \u001b[35mfrom\u001b[39m \u001b[32m'better-sqlite3'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                   \u001b[31m^\u001b[39m\n    \u001b[90m  7| \u001b[39m\n    \u001b[90m  8| \u001b[39m\u001b[34mdescribe\u001b[39m(\u001b[32m'CaseRepository with Encryption'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n\u001b[90m \u001b[2m\u276f\u001b[22m CaseRepository.create src/repositories/CaseRepository.ts:\u001b[2m16:18\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m src/repositories/CaseRepository.test.ts:\u001b[2m296:38\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[167/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mEncryption on Write Operations\u001b[2m > \u001b[22mshould store encrypted evidence content in database\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mEncryption on Write Operations\u001b[2m > \u001b[22mshould store file path without encryption\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mEncryption on Write Operations\u001b[2m > \u001b[22mshould update and encrypt evidence content\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mEncryption on Write Operations\u001b[2m > \u001b[22mshould handle null content without encryption\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mDecryption on Read Operations\u001b[2m > \u001b[22mshould decrypt evidence content on retrieval\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mDecryption on Read Operations\u001b[2m > \u001b[22mshould decrypt all evidence content in findByCaseId\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mDecryption on Read Operations\u001b[2m > \u001b[22mshould decrypt all evidence content in findAll\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mDecryption on Read Operations\u001b[2m > \u001b[22mshould filter by evidence type and decrypt\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mBackward Compatibility\u001b[2m > \u001b[22mshould handle legacy plaintext content\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mBackward Compatibility\u001b[2m > \u001b[22mshould work without encryption service\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mEncryption Security Properties\u001b[2m > \u001b[22mshould use unique IVs for same content encrypted multiple times\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mEncryption Security Properties\u001b[2m > \u001b[22mshould fail decryption with wrong key\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mRound-Trip Testing\u001b[2m > \u001b[22mshould successfully encrypt and decrypt unicode characters\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mRound-Trip Testing\u001b[2m > \u001b[22mshould handle large evidence content (100KB+)\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mRound-Trip Testing\u001b[2m > \u001b[22mshould handle special characters in evidence\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mStatistics and Counting\u001b[2m > \u001b[22mshould count evidence by case correctly\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mStatistics and Counting\u001b[2m > \u001b[22mshould count evidence by type correctly\n\u001b[31m\u001b[1mReferenceError\u001b[22m: db is not defined\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m Proxy.getDb src/repositories/EvidenceRepository.test.ts:\u001b[2m6:20\u001b[22m\u001b[39m\n    \u001b[90m  4| \u001b[39m\u001b[35mimport\u001b[39m { \u001b[33mEncryptionService\u001b[39m } \u001b[35mfrom\u001b[39m \u001b[32m'../services/EncryptionService'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[90m  5| \u001b[39m\u001b[35mimport\u001b[39m { createTestDatabase\u001b[33m,\u001b[39m type \u001b[33mTestDatabaseHelper\u001b[39m } \u001b[35mfrom\u001b[39m \u001b[32m'../test-u\u001b[39m\u2026\n    \u001b[90m  6| \u001b[39m\u001b[35mimport\u001b[39m type { \u001b[33mCreateEvidenceInput\u001b[39m } \u001b[35mfrom\u001b[39m \u001b[32m'../models/Evidence'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                   \u001b[31m^\u001b[39m\n    \u001b[90m  7| \u001b[39m\u001b[35mimport\u001b[39m type \u001b[33mDatabase\u001b[39m \u001b[35mfrom\u001b[39m \u001b[32m'better-sqlite3'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[90m  8| \u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m CaseRepository.create src/repositories/CaseRepository.ts:\u001b[2m16:18\u001b[22m\u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m src/repositories/EvidenceRepository.test.ts:\u001b[2m50:31\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[168/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22mFacts Repositories Integration Tests\u001b[2m > \u001b[22mAudit trail verification\u001b[2m > \u001b[22mshould create separate audit logs for user facts and case facts\n\u001b[31m\u001b[1mAssertionError\u001b[22m: expected [] to have a length of 1 but got +0\u001b[39m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n\u001b[32m- 1\u001b[39m\n\u001b[31m+ 0\u001b[39m\n\n\u001b[36m \u001b[2m\u276f\u001b[22m src/repositories/FactsRepositories.test.ts:\u001b[2m313:30\u001b[22m\u001b[39m\n    \u001b[90m311| \u001b[39m      \u001b[35mconst\u001b[39m caseFactAudits \u001b[33m=\u001b[39m db\u001b[33m.\u001b[39m\u001b[34mprepare\u001b[39m(\u001b[32m'SELECT * FROM audit_logs WHER\u001b[39m\u2026\n    \u001b[90m312| \u001b[39m\n    \u001b[90m313| \u001b[39m      \u001b[34mexpect\u001b[39m(userFactAudits)\u001b[33m.\u001b[39m\u001b[34mtoHaveLength\u001b[39m(\u001b[34m1\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                             \u001b[31m^\u001b[39m\n    \u001b[90m314| \u001b[39m      \u001b[34mexpect\u001b[39m(caseFactAudits)\u001b[33m.\u001b[39m\u001b[34mtoHaveLength\u001b[39m(\u001b[34m1\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m315| \u001b[39m    })\u001b[33m;\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[169/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22mFacts Repositories Integration Tests\u001b[2m > \u001b[22mAudit trail verification\u001b[2m > \u001b[22mshould audit content access for both fact types\n\u001b[31m\u001b[1mAssertionError\u001b[22m: expected [] to have a length of 1 but got +0\u001b[39m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n\u001b[32m- 1\u001b[39m\n\u001b[31m+ 0\u001b[39m\n\n\u001b[36m \u001b[2m\u276f\u001b[22m src/repositories/FactsRepositories.test.ts:\u001b[2m339:36\u001b[22m\u001b[39m\n    \u001b[90m337| \u001b[39m      \u001b[35mconst\u001b[39m caseFactAccessAudits \u001b[33m=\u001b[39m db\u001b[33m.\u001b[39m\u001b[34mprepare\u001b[39m(\u001b[32m'SELECT * FROM audit_log\u001b[39m\u2026\n    \u001b[90m338| \u001b[39m\n    \u001b[90m339| \u001b[39m      \u001b[34mexpect\u001b[39m(userFactAccessAudits)\u001b[33m.\u001b[39m\u001b[34mtoHaveLength\u001b[39m(\u001b[34m1\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                                   \u001b[31m^\u001b[39m\n    \u001b[90m340| \u001b[39m      \u001b[34mexpect\u001b[39m(caseFactAccessAudits)\u001b[33m.\u001b[39m\u001b[34mtoHaveLength\u001b[39m(\u001b[34m1\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m341| \u001b[39m    })\u001b[33m;\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[170/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22mFacts Repositories Integration Tests\u001b[2m > \u001b[22mAudit trail verification\u001b[2m > \u001b[22mshould audit updates and deletes for both fact types\n\u001b[31m\u001b[1mAssertionError\u001b[22m: expected 0 to be greater than 0\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/repositories/FactsRepositories.test.ts:\u001b[2m367:43\u001b[22m\u001b[39m\n    \u001b[90m365| \u001b[39m      \u001b[35mconst\u001b[39m caseFactDeleteAudits \u001b[33m=\u001b[39m db\u001b[33m.\u001b[39m\u001b[34mprepare\u001b[39m(\u001b[32m'SELECT * FROM audit_log\u001b[39m\u2026\n    \u001b[90m366| \u001b[39m\n    \u001b[90m367| \u001b[39m      \u001b[34mexpect\u001b[39m(userFactUpdateAudits\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39m\u001b[34mtoBeGreaterThan\u001b[39m(\u001b[34m0\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                                          \u001b[31m^\u001b[39m\n    \u001b[90m368| \u001b[39m      \u001b[34mexpect\u001b[39m(caseFactUpdateAudits\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39m\u001b[34mtoBeGreaterThan\u001b[39m(\u001b[34m0\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m369| \u001b[39m      \u001b[34mexpect\u001b[39m(userFactDeleteAudits\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39m\u001b[34mtoBeGreaterThan\u001b[39m(\u001b[34m0\u001b[39m)\u001b[33m;\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[171/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22mFacts Repositories Integration Tests\u001b[2m > \u001b[22mReal-world case scenario\u001b[2m > \u001b[22mshould handle a complete employment discrimination case with mixed facts\n\u001b[31m\u001b[1mAssertionError\u001b[22m: expected 0 to be greater than 15\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/repositories/FactsRepositories.test.ts:\u001b[2m509:32\u001b[22m\u001b[39m\n    \u001b[90m507| \u001b[39m      \u001b[90m// Verify audit trail exists for all operations\u001b[39m\n    \u001b[90m508| \u001b[39m      \u001b[35mconst\u001b[39m allAudits \u001b[33m=\u001b[39m db\u001b[33m.\u001b[39m\u001b[34mprepare\u001b[39m(\u001b[32m'SELECT * FROM audit_logs WHERE res\u001b[39m\u2026\n    \u001b[90m509| \u001b[39m      \u001b[34mexpect\u001b[39m(allAudits\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39m\u001b[34mtoBeGreaterThan\u001b[39m(\u001b[34m15\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// At least create\u001b[39m\u2026\n    \u001b[90m   | \u001b[39m                               \u001b[31m^\u001b[39m\n    \u001b[90m510| \u001b[39m    })\u001b[33m;\u001b[39m\n    \u001b[90m511| \u001b[39m  })\u001b[33m;\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[172/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould create a note with encrypted content\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould audit note creation\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould not log plaintext content in audit logs\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mfindById\u001b[2m > \u001b[22mshould decrypt content when retrieving note\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mfindById\u001b[2m > \u001b[22mshould audit PII access when decrypting content\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mfindById\u001b[2m > \u001b[22mshould return null for non-existent note\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mfindByCaseId\u001b[2m > \u001b[22mshould decrypt all notes for a case\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mfindByCaseId\u001b[2m > \u001b[22mshould return empty array for case with no notes\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mupdate\u001b[2m > \u001b[22mshould update note content with new encryption\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mupdate\u001b[2m > \u001b[22mshould audit note update\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mdelete\u001b[2m > \u001b[22mshould delete note and return true\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mdelete\u001b[2m > \u001b[22mshould return false when deleting non-existent note\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mdelete\u001b[2m > \u001b[22mshould audit note deletion\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mbackward compatibility\u001b[2m > \u001b[22mshould handle legacy plaintext notes\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mbackward compatibility\u001b[2m > \u001b[22mshould handle empty content\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mwithout encryption service\u001b[2m > \u001b[22mshould handle notes without encryption\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mGDPR compliance\u001b[2m > \u001b[22mshould never log decrypted content in audit logs\n\u001b[31m\u001b[1mError\u001b[22m: Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/repositories/NotesRepository.test.ts:\u001b[2m68:5\u001b[22m\u001b[39m\n    \u001b[90m 66| \u001b[39m\n    \u001b[90m 67| \u001b[39m    \u001b[90m// Override getDb to use test database\u001b[39m\n    \u001b[90m 68| \u001b[39m    \u001b[34mrequire\u001b[39m(\u001b[32m'../db/database'\u001b[39m)\u001b[33m.\u001b[39mgetDb \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m db\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m    \u001b[31m^\u001b[39m\n    \u001b[90m 69| \u001b[39m  })\u001b[33m;\u001b[39m\n    \u001b[90m 70| \u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u001b[22m\u001b[39m\n\u001b[31m\u001b[1mSerialized Error:\u001b[22m\u001b[39m \u001b[90m{ code: 'MODULE_NOT_FOUND', requireStack: [ 'C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts' ] }\u001b[39m\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[173/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mUserProfileRepository\u001b[2m > \u001b[22mshould encrypt name and email when updating profile\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mUserProfileRepository\u001b[2m > \u001b[22mshould decrypt name and email when retrieving profile\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mUserProfileRepository\u001b[2m > \u001b[22mshould audit PII access\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mUserProfileRepository\u001b[2m > \u001b[22mshould not log PII in audit details\n\u001b[31m\u001b[1mError\u001b[22m: Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m setupDatabase src/repositories/Phase3Repositories.test.ts:\u001b[2m87:3\u001b[22m\u001b[39m\n    \u001b[90m 85| \u001b[39m\n    \u001b[90m 86| \u001b[39m  \u001b[90m// Override getDb\u001b[39m\n    \u001b[90m 87| \u001b[39m  \u001b[34mrequire\u001b[39m(\u001b[32m'../db/database'\u001b[39m)\u001b[33m.\u001b[39mgetDb \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m db\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m  \u001b[31m^\u001b[39m\n    \u001b[90m 88| \u001b[39m}\n    \u001b[90m 89| \u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m src/repositories/Phase3Repositories.test.ts:\u001b[2m94:5\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u001b[22m\u001b[39m\n\u001b[31m\u001b[1mSerialized Error:\u001b[22m\u001b[39m \u001b[90m{ code: 'MODULE_NOT_FOUND', requireStack: [ 'C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts' ] }\u001b[39m\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[174/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mLegalIssuesRepository\u001b[2m > \u001b[22mshould encrypt description field\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mLegalIssuesRepository\u001b[2m > \u001b[22mshould decrypt description when retrieving\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mLegalIssuesRepository\u001b[2m > \u001b[22mshould find all issues for a case with decryption\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mLegalIssuesRepository\u001b[2m > \u001b[22mshould update encrypted description\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mLegalIssuesRepository\u001b[2m > \u001b[22mshould audit legal issue operations\n\u001b[31m\u001b[1mError\u001b[22m: Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m setupDatabase src/repositories/Phase3Repositories.test.ts:\u001b[2m87:3\u001b[22m\u001b[39m\n    \u001b[90m 85| \u001b[39m\n    \u001b[90m 86| \u001b[39m  \u001b[90m// Override getDb\u001b[39m\n    \u001b[90m 87| \u001b[39m  \u001b[34mrequire\u001b[39m(\u001b[32m'../db/database'\u001b[39m)\u001b[33m.\u001b[39mgetDb \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m db\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m  \u001b[31m^\u001b[39m\n    \u001b[90m 88| \u001b[39m}\n    \u001b[90m 89| \u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m src/repositories/Phase3Repositories.test.ts:\u001b[2m165:5\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u001b[22m\u001b[39m\n\u001b[31m\u001b[1mSerialized Error:\u001b[22m\u001b[39m \u001b[90m{ code: 'MODULE_NOT_FOUND', requireStack: [ 'C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts' ] }\u001b[39m\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[175/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mTimelineRepository\u001b[2m > \u001b[22mshould encrypt description field\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mTimelineRepository\u001b[2m > \u001b[22mshould decrypt description when retrieving\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mTimelineRepository\u001b[2m > \u001b[22mshould find all events for a case sorted by date\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mTimelineRepository\u001b[2m > \u001b[22mshould update encrypted description\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mTimelineRepository\u001b[2m > \u001b[22mshould audit timeline event operations\n\u001b[31m\u001b[1mError\u001b[22m: Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m setupDatabase src/repositories/Phase3Repositories.test.ts:\u001b[2m87:3\u001b[22m\u001b[39m\n    \u001b[90m 85| \u001b[39m\n    \u001b[90m 86| \u001b[39m  \u001b[90m// Override getDb\u001b[39m\n    \u001b[90m 87| \u001b[39m  \u001b[34mrequire\u001b[39m(\u001b[32m'../db/database'\u001b[39m)\u001b[33m.\u001b[39mgetDb \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m db\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m  \u001b[31m^\u001b[39m\n    \u001b[90m 88| \u001b[39m}\n    \u001b[90m 89| \u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m src/repositories/Phase3Repositories.test.ts:\u001b[2m257:5\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u001b[22m\u001b[39m\n\u001b[31m\u001b[1mSerialized Error:\u001b[22m\u001b[39m \u001b[90m{ code: 'MODULE_NOT_FOUND', requireStack: [ 'C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts' ] }\u001b[39m\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[176/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mPhase 3 GDPR Compliance\u001b[2m > \u001b[22mshould never log plaintext PII across all repositories\n\u001b[31m\u001b[1mError\u001b[22m: Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m setupDatabase src/repositories/Phase3Repositories.test.ts:\u001b[2m87:3\u001b[22m\u001b[39m\n    \u001b[90m 85| \u001b[39m\n    \u001b[90m 86| \u001b[39m  \u001b[90m// Override getDb\u001b[39m\n    \u001b[90m 87| \u001b[39m  \u001b[34mrequire\u001b[39m(\u001b[32m'../db/database'\u001b[39m)\u001b[33m.\u001b[39mgetDb \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m db\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m  \u001b[31m^\u001b[39m\n    \u001b[90m 88| \u001b[39m}\n    \u001b[90m 89| \u001b[39m\n\u001b[90m \u001b[2m\u276f\u001b[22m src/repositories/Phase3Repositories.test.ts:\u001b[2m352:5\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u001b[22m\u001b[39m\n\u001b[31m\u001b[1mSerialized Error:\u001b[22m\u001b[39m \u001b[90m{ code: 'MODULE_NOT_FOUND', requireStack: [ 'C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts' ] }\u001b[39m\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[177/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould audit user fact creation\n\u001b[31m\u001b[1mAssertionError\u001b[22m: expected [] to have a length of 1 but got +0\u001b[39m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n\u001b[32m- 1\u001b[39m\n\u001b[31m+ 0\u001b[39m\n\n\u001b[36m \u001b[2m\u276f\u001b[22m src/repositories/UserFactsRepository.test.ts:\u001b[2m132:25\u001b[22m\u001b[39m\n    \u001b[90m130| \u001b[39m\n    \u001b[90m131| \u001b[39m      \u001b[35mconst\u001b[39m auditLogs \u001b[33m=\u001b[39m db\u001b[33m.\u001b[39m\u001b[34mprepare\u001b[39m(\u001b[32m'SELECT * FROM audit_logs WHERE eve\u001b[39m\u2026\n    \u001b[90m132| \u001b[39m      \u001b[34mexpect\u001b[39m(auditLogs)\u001b[33m.\u001b[39m\u001b[34mtoHaveLength\u001b[39m(\u001b[34m1\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                        \u001b[31m^\u001b[39m\n    \u001b[90m133| \u001b[39m\n    \u001b[90m134| \u001b[39m      \u001b[35mconst\u001b[39m log \u001b[33m=\u001b[39m auditLogs[\u001b[34m0\u001b[39m] \u001b[35mas\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[178/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould audit failed creation\n\u001b[31m\u001b[1mAssertionError\u001b[22m: expected [] to have a length of 1 but got +0\u001b[39m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n\u001b[32m- 1\u001b[39m\n\u001b[31m+ 0\u001b[39m\n\n\u001b[36m \u001b[2m\u276f\u001b[22m src/repositories/UserFactsRepository.test.ts:\u001b[2m177:25\u001b[22m\u001b[39m\n    \u001b[90m175| \u001b[39m\n    \u001b[90m176| \u001b[39m      \u001b[35mconst\u001b[39m auditLogs \u001b[33m=\u001b[39m db\u001b[33m.\u001b[39m\u001b[34mprepare\u001b[39m(\u001b[32m'SELECT * FROM audit_logs WHERE eve\u001b[39m\u2026\n    \u001b[90m177| \u001b[39m      \u001b[34mexpect\u001b[39m(auditLogs)\u001b[33m.\u001b[39m\u001b[34mtoHaveLength\u001b[39m(\u001b[34m1\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                        \u001b[31m^\u001b[39m\n    \u001b[90m178| \u001b[39m    })\u001b[33m;\u001b[39m\n    \u001b[90m179| \u001b[39m  })\u001b[33m;\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[179/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mfindById\u001b[2m > \u001b[22mshould return null for non-existent ID\n\u001b[31m\u001b[1mAssertionError\u001b[22m: expected undefined to be null\u001b[39m\n\n\u001b[32m- Expected:\u001b[39m \nnull\n\n\u001b[31m+ Received:\u001b[39m \nundefined\n\n\u001b[36m \u001b[2m\u276f\u001b[22m src/repositories/UserFactsRepository.test.ts:\u001b[2m199:21\u001b[22m\u001b[39m\n    \u001b[90m197| \u001b[39m    \u001b[34mit\u001b[39m(\u001b[32m'should return null for non-existent ID'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[90m198| \u001b[39m      \u001b[35mconst\u001b[39m found \u001b[33m=\u001b[39m repository\u001b[33m.\u001b[39m\u001b[34mfindById\u001b[39m(\u001b[34m999\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m199| \u001b[39m      \u001b[34mexpect\u001b[39m(found)\u001b[33m.\u001b[39m\u001b[34mtoBeNull\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                    \u001b[31m^\u001b[39m\n    \u001b[90m200| \u001b[39m    })\u001b[33m;\u001b[39m\n    \u001b[90m201| \u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[180/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mfindById\u001b[2m > \u001b[22mshould audit content access when decrypting\n\u001b[31m\u001b[1mAssertionError\u001b[22m: expected [] to have a length of 1 but got +0\u001b[39m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n\u001b[32m- 1\u001b[39m\n\u001b[31m+ 0\u001b[39m\n\n\u001b[36m \u001b[2m\u276f\u001b[22m src/repositories/UserFactsRepository.test.ts:\u001b[2m215:25\u001b[22m\u001b[39m\n    \u001b[90m213| \u001b[39m\n    \u001b[90m214| \u001b[39m      \u001b[35mconst\u001b[39m auditLogs \u001b[33m=\u001b[39m db\u001b[33m.\u001b[39m\u001b[34mprepare\u001b[39m(\u001b[32m'SELECT * FROM audit_logs WHERE eve\u001b[39m\u2026\n    \u001b[90m215| \u001b[39m      \u001b[34mexpect\u001b[39m(auditLogs)\u001b[33m.\u001b[39m\u001b[34mtoHaveLength\u001b[39m(\u001b[34m1\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                        \u001b[31m^\u001b[39m\n    \u001b[90m216| \u001b[39m\n    \u001b[90m217| \u001b[39m      \u001b[35mconst\u001b[39m log \u001b[33m=\u001b[39m auditLogs[\u001b[34m0\u001b[39m] \u001b[35mas\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[181/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mfindByCaseId\u001b[2m > \u001b[22mshould audit bulk content access\n\u001b[31m\u001b[1mAssertionError\u001b[22m: expected [] to have a length of 1 but got +0\u001b[39m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n\u001b[32m- 1\u001b[39m\n\u001b[31m+ 0\u001b[39m\n\n\u001b[36m \u001b[2m\u276f\u001b[22m src/repositories/UserFactsRepository.test.ts:\u001b[2m284:25\u001b[22m\u001b[39m\n    \u001b[90m282| \u001b[39m\n    \u001b[90m283| \u001b[39m      \u001b[35mconst\u001b[39m auditLogs \u001b[33m=\u001b[39m db\u001b[33m.\u001b[39m\u001b[34mprepare\u001b[39m(\u001b[32m'SELECT * FROM audit_logs WHERE eve\u001b[39m\u2026\n    \u001b[90m284| \u001b[39m      \u001b[34mexpect\u001b[39m(auditLogs)\u001b[33m.\u001b[39m\u001b[34mtoHaveLength\u001b[39m(\u001b[34m1\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                        \u001b[31m^\u001b[39m\n    \u001b[90m285| \u001b[39m\n    \u001b[90m286| \u001b[39m      \u001b[35mconst\u001b[39m log \u001b[33m=\u001b[39m auditLogs[\u001b[34m0\u001b[39m] \u001b[35mas\u001b[39m { details\u001b[33m:\u001b[39m string }\u001b[33m;\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[182/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mfindByType\u001b[2m > \u001b[22mshould audit filtered content access\n\u001b[31m\u001b[1mAssertionError\u001b[22m: expected [] to have a length of 1 but got +0\u001b[39m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n\u001b[32m- 1\u001b[39m\n\u001b[31m+ 0\u001b[39m\n\n\u001b[36m \u001b[2m\u276f\u001b[22m src/repositories/UserFactsRepository.test.ts:\u001b[2m339:25\u001b[22m\u001b[39m\n    \u001b[90m337| \u001b[39m\n    \u001b[90m338| \u001b[39m      \u001b[35mconst\u001b[39m auditLogs \u001b[33m=\u001b[39m db\u001b[33m.\u001b[39m\u001b[34mprepare\u001b[39m(\u001b[32m'SELECT * FROM audit_logs WHERE eve\u001b[39m\u2026\n    \u001b[90m339| \u001b[39m      \u001b[34mexpect\u001b[39m(auditLogs)\u001b[33m.\u001b[39m\u001b[34mtoHaveLength\u001b[39m(\u001b[34m1\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                        \u001b[31m^\u001b[39m\n    \u001b[90m340| \u001b[39m\n    \u001b[90m341| \u001b[39m      \u001b[35mconst\u001b[39m log \u001b[33m=\u001b[39m auditLogs[\u001b[34m0\u001b[39m] \u001b[35mas\u001b[39m { details\u001b[33m:\u001b[39m string }\u001b[33m;\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[183/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mupdate\u001b[2m > \u001b[22mshould audit update operation\n\u001b[31m\u001b[1mAssertionError\u001b[22m: expected 0 to be greater than 0\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/repositories/UserFactsRepository.test.ts:\u001b[2m415:32\u001b[22m\u001b[39m\n    \u001b[90m413| \u001b[39m\n    \u001b[90m414| \u001b[39m      \u001b[35mconst\u001b[39m auditLogs \u001b[33m=\u001b[39m db\u001b[33m.\u001b[39m\u001b[34mprepare\u001b[39m(\u001b[32m'SELECT * FROM audit_logs WHERE eve\u001b[39m\u2026\n    \u001b[90m415| \u001b[39m      \u001b[34mexpect\u001b[39m(auditLogs\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39m\u001b[34mtoBeGreaterThan\u001b[39m(\u001b[34m0\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                               \u001b[31m^\u001b[39m\n    \u001b[90m416| \u001b[39m\n    \u001b[90m417| \u001b[39m      \u001b[35mconst\u001b[39m log \u001b[33m=\u001b[39m auditLogs[auditLogs\u001b[33m.\u001b[39mlength \u001b[33m-\u001b[39m \u001b[34m1\u001b[39m] \u001b[35mas\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[184/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mdelete\u001b[2m > \u001b[22mshould delete user fact\n\u001b[31m\u001b[1mAssertionError\u001b[22m: expected undefined to be null\u001b[39m\n\n\u001b[32m- Expected:\u001b[39m \nnull\n\n\u001b[31m+ Received:\u001b[39m \nundefined\n\n\u001b[36m \u001b[2m\u276f\u001b[22m src/repositories/UserFactsRepository.test.ts:\u001b[2m461:21\u001b[22m\u001b[39m\n    \u001b[90m459| \u001b[39m\n    \u001b[90m460| \u001b[39m      \u001b[35mconst\u001b[39m found \u001b[33m=\u001b[39m repository\u001b[33m.\u001b[39m\u001b[34mfindById\u001b[39m(created\u001b[33m.\u001b[39mid)\u001b[33m;\u001b[39m\n    \u001b[90m461| \u001b[39m      \u001b[34mexpect\u001b[39m(found)\u001b[33m.\u001b[39m\u001b[34mtoBeNull\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                    \u001b[31m^\u001b[39m\n    \u001b[90m462| \u001b[39m    })\u001b[33m;\u001b[39m\n    \u001b[90m463| \u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[185/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mdelete\u001b[2m > \u001b[22mshould audit delete operation\n\u001b[31m\u001b[1mAssertionError\u001b[22m: expected 0 to be greater than 0\u001b[39m\n\u001b[36m \u001b[2m\u276f\u001b[22m src/repositories/UserFactsRepository.test.ts:\u001b[2m479:32\u001b[22m\u001b[39m\n    \u001b[90m477| \u001b[39m\n    \u001b[90m478| \u001b[39m      \u001b[35mconst\u001b[39m auditLogs \u001b[33m=\u001b[39m db\u001b[33m.\u001b[39m\u001b[34mprepare\u001b[39m(\u001b[32m'SELECT * FROM audit_logs WHERE eve\u001b[39m\u2026\n    \u001b[90m479| \u001b[39m      \u001b[34mexpect\u001b[39m(auditLogs\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39m\u001b[34mtoBeGreaterThan\u001b[39m(\u001b[34m0\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                               \u001b[31m^\u001b[39m\n    \u001b[90m480| \u001b[39m\n    \u001b[90m481| \u001b[39m      \u001b[35mconst\u001b[39m log \u001b[33m=\u001b[39m auditLogs[auditLogs\u001b[33m.\u001b[39mlength \u001b[33m-\u001b[39m \u001b[34m1\u001b[39m] \u001b[35mas\u001b[39m {\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[186/372]\u23af\u001b[22m\u001b[39m\n\n\u001b[31m\u001b[1m\u001b[7m FAIL \u001b[27m\u001b[22m\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mdependency injection\u001b[2m > \u001b[22mshould allow setting audit logger\n\u001b[31m\u001b[1mAssertionError\u001b[22m: expected [] to have a length of 1 but got +0\u001b[39m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n\u001b[32m- 1\u001b[39m\n\u001b[31m+ 0\u001b[39m\n\n\u001b[36m \u001b[2m\u276f\u001b[22m src/repositories/UserFactsRepository.test.ts:\u001b[2m548:25\u001b[22m\u001b[39m\n    \u001b[90m546| \u001b[39m\n    \u001b[90m547| \u001b[39m      \u001b[35mconst\u001b[39m auditLogs \u001b[33m=\u001b[39m db\u001b[33m.\u001b[39m\u001b[34mprepare\u001b[39m(\u001b[32m'SELECT * FROM audit_logs WHERE eve\u001b[39m\u2026\n    \u001b[90m548| \u001b[39m      \u001b[34mexpect\u001b[39m(auditLogs)\u001b[33m.\u001b[39m\u001b[34mtoHaveLength\u001b[39m(\u001b[34m1\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                        \u001b[31m^\u001b[39m\n    \u001b[90m549| \u001b[39m    })\u001b[33m;\u001b[39m\n    \u001b[90m550| \u001b[39m  })\u001b[33m;\u001b[39m\n\n\u001b[31m\u001b[2m\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af\u23af[187/372]\u23af\u001b[22m\u001b[39m\n\n",
    "timestamp": "2025-10-06T23:18:42.674359Z",
    "duration": 23.912221,
    "test_path": null
  },
  "description": "Fix test failures in C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\services\\AuditLogger.ts"
}