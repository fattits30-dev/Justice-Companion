{
  "suggestion_id": "d6197ba4-a63c-46ff-8cc0-bc43c061b1ce",
  "task_id": "d6197ba4-a63c-46ff-8cc0-bc43c061b1ce",
  "created_at": "2025-10-07T00:57:31.378071+00:00",
  "files": [
    "C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\services\\AuditLogger.ts"
  ],
  "error": "\n> justice-companion@1.0.0 test\n> vitest --run\n\n\n\u001b[1m\u001b[7m\u001b[36m RUN \u001b[39m\u001b[27m\u001b[22m \u001b[36mv2.1.9 \u001b[39m\u001b[90mC:/Users/sava6/Desktop/Justice Companion\u001b[39m\n\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mcreateTimelineEvent\u001b[2m > \u001b[22mshould create a timeline event with valid input\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mcreateTimelineEvent\u001b[2m > \u001b[22mshould create a timeline event without description\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mcreateTimelineEvent\u001b[2m > \u001b[22mshould throw error if title is empty\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mcreateTimelineEvent\u001b[2m > \u001b[22mshould throw error if title exceeds 200 characters\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mcreateTimelineEvent\u001b[2m > \u001b[22mshould accept title exactly 200 characters\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mcreateTimelineEvent\u001b[2m > \u001b[22mshould throw error if eventDate is missing\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mcreateTimelineEvent\u001b[2m > \u001b[22mshould throw error if description exceeds 10000 characters\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mcreateTimelineEvent\u001b[2m > \u001b[22mshould accept description exactly 10000 characters\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mcreateTimelineEvent\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mgetTimelineEventById\u001b[2m > \u001b[22mshould return a timeline event by id\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mgetTimelineEventById\u001b[2m > \u001b[22mshould return null if timeline event not found\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mgetTimelineEventById\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mgetTimelineEventsByCaseId\u001b[2m > \u001b[22mshould return all timeline events for a case\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mgetTimelineEventsByCaseId\u001b[2m > \u001b[22mshould return empty array if no timeline events exist\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mgetTimelineEventsByCaseId\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mupdateTimelineEvent\u001b[2m > \u001b[22mshould update a timeline event with valid input\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mupdateTimelineEvent\u001b[2m > \u001b[22mshould update only title\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mupdateTimelineEvent\u001b[2m > \u001b[22mshould throw error if title is empty string\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mupdateTimelineEvent\u001b[2m > \u001b[22mshould throw error if title exceeds 200 characters\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mupdateTimelineEvent\u001b[2m > \u001b[22mshould throw error if description exceeds 10000 characters\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mupdateTimelineEvent\u001b[2m > \u001b[22mshould throw error if timeline event not found\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mupdateTimelineEvent\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mdeleteTimelineEvent\u001b[2m > \u001b[22mshould delete a timeline event successfully\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mdeleteTimelineEvent\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle special characters in title\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle unicode characters in title and description\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle various date formats\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle newlines in description\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mcreateUserFact\u001b[2m > \u001b[22mshould create a user fact with valid input\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mcreateUserFact\u001b[2m > \u001b[22mshould create a user fact with different fact types\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mcreateUserFact\u001b[2m > \u001b[22mshould throw error if factContent is empty\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mcreateUserFact\u001b[2m > \u001b[22mshould throw error if factContent exceeds 5000 characters\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mcreateUserFact\u001b[2m > \u001b[22mshould accept factContent exactly 5000 characters\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mcreateUserFact\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mgetUserFactById\u001b[2m > \u001b[22mshould return a user fact by id\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mgetUserFactById\u001b[2m > \u001b[22mshould return null if user fact not found\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mgetUserFactById\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mgetUserFactsByCaseId\u001b[2m > \u001b[22mshould return all user facts for a case\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mgetUserFactsByCaseId\u001b[2m > \u001b[22mshould return empty array if no user facts exist\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mgetUserFactsByCaseId\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mgetUserFactsByType\u001b[2m > \u001b[22mshould return user facts filtered by type\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mgetUserFactsByType\u001b[2m > \u001b[22mshould return empty array if no facts match type\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mgetUserFactsByType\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mupdateUserFact\u001b[2m > \u001b[22mshould update a user fact with valid input\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mupdateUserFact\u001b[2m > \u001b[22mshould update only factContent\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mupdateUserFact\u001b[2m > \u001b[22mshould throw error if factContent is empty string\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mupdateUserFact\u001b[2m > \u001b[22mshould throw error if factContent exceeds 5000 characters\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mupdateUserFact\u001b[2m > \u001b[22mshould throw error if user fact not found\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mupdateUserFact\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mdeleteUserFact\u001b[2m > \u001b[22mshould delete a user fact successfully\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mdeleteUserFact\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle special characters in factContent\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle unicode characters in factContent\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle newlines and formatting in factContent\n \u001b[32m\u2713\u001b[39m src/services/UserFactsService.test.ts\u001b[2m > \u001b[22mUserFactsService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle PII data in factContent\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mcreateCaseFact\u001b[2m > \u001b[22mshould create a case fact with valid input\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mcreateCaseFact\u001b[2m > \u001b[22mshould create case facts with different categories\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mcreateCaseFact\u001b[2m > \u001b[22mshould create case facts with different importance levels\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mcreateCaseFact\u001b[2m > \u001b[22mshould throw error if factContent is empty\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mcreateCaseFact\u001b[2m > \u001b[22mshould throw error if factContent exceeds 5000 characters\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mcreateCaseFact\u001b[2m > \u001b[22mshould accept factContent exactly 5000 characters\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mcreateCaseFact\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mgetCaseFactById\u001b[2m > \u001b[22mshould return a case fact by id\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mgetCaseFactById\u001b[2m > \u001b[22mshould return null if case fact not found\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mgetCaseFactById\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mgetCaseFactsByCaseId\u001b[2m > \u001b[22mshould return all case facts for a case\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mgetCaseFactsByCaseId\u001b[2m > \u001b[22mshould return empty array if no case facts exist\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mgetCaseFactsByCaseId\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mgetCaseFactsByCategory\u001b[2m > \u001b[22mshould return case facts filtered by category\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mgetCaseFactsByCategory\u001b[2m > \u001b[22mshould return empty array if no facts match category\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mgetCaseFactsByCategory\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mgetCaseFactsByImportance\u001b[2m > \u001b[22mshould return case facts filtered by importance\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mgetCaseFactsByImportance\u001b[2m > \u001b[22mshould return empty array if no facts match importance\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mgetCaseFactsByImportance\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mupdateCaseFact\u001b[2m > \u001b[22mshould update a case fact with valid input\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mupdateCaseFact\u001b[2m > \u001b[22mshould update only factContent\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mupdateCaseFact\u001b[2m > \u001b[22mshould update only importance\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mupdateCaseFact\u001b[2m > \u001b[22mshould throw error if factContent is empty string\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mupdateCaseFact\u001b[2m > \u001b[22mshould throw error if factContent exceeds 5000 characters\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mupdateCaseFact\u001b[2m > \u001b[22mshould throw error if case fact not found\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mupdateCaseFact\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mdeleteCaseFact\u001b[2m > \u001b[22mshould delete a case fact successfully\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mdeleteCaseFact\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle special characters in factContent\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle unicode characters in factContent\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle formatted content with newlines\n \u001b[32m\u2713\u001b[39m src/services/CaseFactsService.test.ts\u001b[2m > \u001b[22mCaseFactsService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle dates and timestamps in factContent\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mCore Functionality\u001b[2m > \u001b[22mshould encrypt and decrypt data correctly\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mCore Functionality\u001b[2m > \u001b[22mshould produce EncryptedData with all required fields\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mCore Functionality\u001b[2m > \u001b[22mshould decrypt valid encrypted data successfully\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mCore Functionality\u001b[2m > \u001b[22mshould generate 32-byte encryption key\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mCore Functionality\u001b[2m > \u001b[22mshould correctly identify encrypted data with isEncrypted()\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mCore Functionality\u001b[2m > \u001b[22mshould return false for non-encrypted data with isEncrypted()\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mSecurity Properties\u001b[2m > \u001b[22mshould generate unique IVs for same plaintext encrypted twice\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mSecurity Properties\u001b[2m > \u001b[22mshould include non-empty authentication tag\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mSecurity Properties\u001b[2m > \u001b[22mshould detect tampered ciphertext via authentication tag\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mSecurity Properties\u001b[2m > \u001b[22mshould detect tampered authentication tag\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mSecurity Properties\u001b[2m > \u001b[22mshould reject 31-byte key (too short)\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mSecurity Properties\u001b[2m > \u001b[22mshould reject 33-byte key (too long)\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould return null for empty string\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould return null for null input to encrypt()\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould return null for undefined input to encrypt()\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould return null for whitespace-only string\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould return null when decrypting null\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould return null when decrypting undefined\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould throw error for corrupted ciphertext\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould throw error for invalid base64 in IV\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould throw error for invalid base64 in ciphertext\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould throw error for missing algorithm field\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould fail gracefully when decrypting with wrong key\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould throw error for malformed EncryptedData object\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mKey Rotation\u001b[2m > \u001b[22mshould successfully re-encrypt data with new key using rotateKey()\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mKey Rotation\u001b[2m > \u001b[22mshould prevent old service from decrypting data encrypted with new key\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mData Format Validation\u001b[2m > \u001b[22mshould have correct algorithm value in EncryptedData\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mData Format Validation\u001b[2m > \u001b[22mshould have correct version number in EncryptedData\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mData Format Validation\u001b[2m > \u001b[22mshould produce base64 encoded ciphertext\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mData Format Validation\u001b[2m > \u001b[22mshould produce base64 encoded IV\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mData Format Validation\u001b[2m > \u001b[22mshould produce base64 encoded auth tag\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mLarge Data Handling\u001b[2m > \u001b[22mshould encrypt and decrypt 1KB of text successfully\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mLarge Data Handling\u001b[2m > \u001b[22mshould encrypt and decrypt 100KB of text successfully\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mLarge Data Handling\u001b[2m > \u001b[22mshould encrypt and decrypt 1MB of text successfully (large legal documents)\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mConstructor Key Handling\u001b[2m > \u001b[22mshould accept Buffer key in constructor\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mConstructor Key Handling\u001b[2m > \u001b[22mshould accept base64 string key in constructor\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mConstructor Key Handling\u001b[2m > \u001b[22mshould create equivalent services from Buffer and base64 string\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mSpecial Characters and Unicode\u001b[2m > \u001b[22mshould handle special characters correctly\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mSpecial Characters and Unicode\u001b[2m > \u001b[22mshould handle unicode characters correctly\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mSpecial Characters and Unicode\u001b[2m > \u001b[22mshould handle emojis correctly\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22mSpecial Characters and Unicode\u001b[2m > \u001b[22mshould handle newlines and tabs\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22misEncrypted() Type Guard\u001b[2m > \u001b[22mshould return false for null\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22misEncrypted() Type Guard\u001b[2m > \u001b[22mshould return false for undefined\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22misEncrypted() Type Guard\u001b[2m > \u001b[22mshould return false for string\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22misEncrypted() Type Guard\u001b[2m > \u001b[22mshould return false for number\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22misEncrypted() Type Guard\u001b[2m > \u001b[22mshould return false for array\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22misEncrypted() Type Guard\u001b[2m > \u001b[22mshould return false for object missing required fields\n \u001b[32m\u2713\u001b[39m src/services/EncryptionService.test.ts\u001b[2m > \u001b[22mEncryptionService\u001b[2m > \u001b[22misEncrypted() Type Guard\u001b[2m > \u001b[22mshould return false for object with wrong field types\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould initialize with empty array and loading state\n\u001b[31m   \u2192 Right-hand side of 'instanceof' is not an object\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould load legal issues on mount\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle empty legal issues list\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle missing data property in response\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle legal issues with null optional fields\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mCaseId Changes\u001b[2m > \u001b[22mshould reload legal issues when caseId changes\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create a new legal issue with all fields\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create a new legal issue with only required fields\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update an existing legal issue with all fields\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update with partial fields\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould delete a legal issue successfully\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould refresh legal issues list\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould set loading state during refresh\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure without error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle non-Error exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useLegalIssues.test.ts\u001b[2m > \u001b[22museLegalIssues\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould clear previous error on successful operation\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould initialize with empty array and loading state\n\u001b[31m   \u2192 Right-hand side of 'instanceof' is not an object\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould load user facts on mount\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle empty user facts list\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle missing data property in response\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mCaseId Changes\u001b[2m > \u001b[22mshould reload user facts when caseId changes\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create a personal fact\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create facts of all types\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update fact content\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update fact type\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update both content and type\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould delete a user fact successfully\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mType-Based Filtering (loadFactsByType)\u001b[2m > \u001b[22mshould load facts filtered by type\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mType-Based Filtering (loadFactsByType)\u001b[2m > \u001b[22mshould load all fact types individually\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mType-Based Filtering (loadFactsByType)\u001b[2m > \u001b[22mshould handle empty filtered results\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mType-Based Filtering (loadFactsByType)\u001b[2m > \u001b[22mshould handle filter error\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mType-Based Filtering (loadFactsByType)\u001b[2m > \u001b[22mshould set loading state during filter operation\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould refresh user facts list\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould set loading state during refresh\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure without error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle non-Error exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useUserFacts.test.ts\u001b[2m > \u001b[22museUserFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould clear previous error on successful operation\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould initialize with empty array and loading state\n\u001b[31m   \u2192 Right-hand side of 'instanceof' is not an object\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould load timeline events on mount\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle empty timeline events list\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle missing data property in response\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle timeline events with null description\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mCaseId Changes\u001b[2m > \u001b[22mshould reload timeline events when caseId changes\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create a new timeline event with all fields\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create a new timeline event without description\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle various date formats\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update an existing timeline event with all fields\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update with partial fields\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update only the event date\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould delete a timeline event successfully\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould refresh timeline events list\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould set loading state during refresh\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure without error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle non-Error exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useTimeline.test.ts\u001b[2m > \u001b[22museTimeline\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould clear previous error on successful operation\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould create a user fact with encrypted content\n \u001b[32m\u2713\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould create user facts with different types\n \u001b[31m\u00d7\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould audit user fact creation\n\u001b[31m   \u2192 expected [] to have a length of 1 but got +0\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould throw error if encryption service is missing\n \u001b[31m\u00d7\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould audit failed creation\n\u001b[31m   \u2192 expected [] to have a length of 1 but got +0\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mfindById\u001b[2m > \u001b[22mshould find user fact by ID and decrypt content\n \u001b[31m\u00d7\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mfindById\u001b[2m > \u001b[22mshould return null for non-existent ID\n\u001b[31m   \u2192 expected undefined to be null\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mfindById\u001b[2m > \u001b[22mshould audit content access when decrypting\n\u001b[31m   \u2192 expected [] to have a length of 1 but got +0\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mfindByCaseId\u001b[2m > \u001b[22mshould find all user facts for a case\n \u001b[32m\u2713\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mfindByCaseId\u001b[2m > \u001b[22mshould return empty array for case with no facts\n \u001b[31m\u00d7\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mfindByCaseId\u001b[2m > \u001b[22mshould audit bulk content access\n\u001b[31m   \u2192 expected [] to have a length of 1 but got +0\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mfindByType\u001b[2m > \u001b[22mshould find user facts by type\n \u001b[32m\u2713\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mfindByType\u001b[2m > \u001b[22mshould return empty array for type with no facts\n \u001b[31m\u00d7\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mfindByType\u001b[2m > \u001b[22mshould audit filtered content access\n\u001b[31m   \u2192 expected [] to have a length of 1 but got +0\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mupdate\u001b[2m > \u001b[22mshould update fact content with re-encryption\n \u001b[32m\u2713\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mupdate\u001b[2m > \u001b[22mshould update fact type\n \u001b[32m\u2713\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mupdate\u001b[2m > \u001b[22mshould update both content and type\n \u001b[31m\u00d7\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mupdate\u001b[2m > \u001b[22mshould audit update operation\n\u001b[31m   \u2192 expected 0 to be greater than 0\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mupdate\u001b[2m > \u001b[22mshould throw error if encryption service is missing\n \u001b[31m\u00d7\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mdelete\u001b[2m > \u001b[22mshould delete user fact\n\u001b[31m   \u2192 expected undefined to be null\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mdelete\u001b[2m > \u001b[22mshould return false for non-existent fact\n \u001b[31m\u00d7\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mdelete\u001b[2m > \u001b[22mshould audit delete operation\n\u001b[31m   \u2192 expected 0 to be greater than 0\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mbackward compatibility\u001b[2m > \u001b[22mshould handle legacy plaintext data\n \u001b[32m\u2713\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mbackward compatibility\u001b[2m > \u001b[22mshould handle repository without encryption service\n \u001b[32m\u2713\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mdependency injection\u001b[2m > \u001b[22mshould allow setting encryption service\n \u001b[31m\u00d7\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mdependency injection\u001b[2m > \u001b[22mshould allow setting audit logger\n\u001b[31m   \u2192 expected [] to have a length of 1 but got +0\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/UserFactsRepository.test.ts\u001b[2m > \u001b[22mUserFactsRepository\u001b[2m > \u001b[22mCASCADE DELETE\u001b[2m > \u001b[22mshould delete user facts when case is deleted\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould initialize with empty array and loading state\n\u001b[31m   \u2192 Right-hand side of 'instanceof' is not an object\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould load case facts on mount\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle empty case facts list\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle missing data property in response\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould load facts with all importance levels\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCaseId Changes\u001b[2m > \u001b[22mshould reload case facts when caseId changes\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create a case fact with all fields\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create a case fact without importance (defaults to medium)\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create facts of all categories\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create facts with all importance levels\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update fact content only\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update fact category only\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update fact importance only\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update all fields together\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould delete a case fact successfully\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCategory-Based Filtering (loadFactsByCategory)\u001b[2m > \u001b[22mshould load facts filtered by category\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCategory-Based Filtering (loadFactsByCategory)\u001b[2m > \u001b[22mshould load all fact categories individually\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCategory-Based Filtering (loadFactsByCategory)\u001b[2m > \u001b[22mshould handle empty filtered results\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCategory-Based Filtering (loadFactsByCategory)\u001b[2m > \u001b[22mshould handle category filter error\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mCategory-Based Filtering (loadFactsByCategory)\u001b[2m > \u001b[22mshould set loading state during category filter operation\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mImportance-Based Filtering (loadFactsByImportance)\u001b[2m > \u001b[22mshould load facts filtered by importance\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mImportance-Based Filtering (loadFactsByImportance)\u001b[2m > \u001b[22mshould load all importance levels individually\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mImportance-Based Filtering (loadFactsByImportance)\u001b[2m > \u001b[22mshould handle empty filtered results\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mImportance-Based Filtering (loadFactsByImportance)\u001b[2m > \u001b[22mshould handle importance filter error\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mImportance-Based Filtering (loadFactsByImportance)\u001b[2m > \u001b[22mshould set loading state during importance filter operation\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould refresh case facts list\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould set loading state during refresh\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure without error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle non-Error exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useCaseFacts.test.ts\u001b[2m > \u001b[22museCaseFacts\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould clear previous error on successful operation\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mCore Functionality\u001b[2m > \u001b[22mlogs an audit event successfully\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mCore Functionality\u001b[2m > \u001b[22mgenerates unique IDs for each log entry\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mCore Functionality\u001b[2m > \u001b[22mgenerates ISO 8601 timestamps with milliseconds\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mCore Functionality\u001b[2m > \u001b[22mstores all provided fields correctly\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mCore Functionality\u001b[2m > \u001b[22mdefaults success to true when not provided\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mHash Calculation\u001b[2m > \u001b[22mcalculates integrity hash for each entry\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mHash Calculation\u001b[2m > \u001b[22mproduces different hashes for different events\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mHash Calculation\u001b[2m > \u001b[22mproduces same hash for identical data (deterministic)\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mChain Integrity\u001b[2m > \u001b[22mfirst log has null previous hash\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mChain Integrity\u001b[2m > \u001b[22msecond log references first log hash\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mChain Integrity\u001b[2m > \u001b[22mverifies intact chain successfully\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mChain Integrity\u001b[2m > \u001b[22mdetects tampered integrity hash\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mChain Integrity\u001b[2m > \u001b[22mdetects broken chain link\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mChain Integrity\u001b[2m > \u001b[22mdetects tampered event data\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mChain Integrity\u001b[2m > \u001b[22mreturns valid:true for empty audit log\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mQuery Functionality\u001b[2m > \u001b[22mfilters by resource type\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mQuery Functionality\u001b[2m > \u001b[22mfilters by event type\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mQuery Functionality\u001b[2m > \u001b[22mfilters by success status\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mQuery Functionality\u001b[2m > \u001b[22mfilters by resource ID\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mQuery Functionality\u001b[2m > \u001b[22mfilters by user ID\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mQuery Functionality\u001b[2m > \u001b[22mlimits results\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mQuery Functionality\u001b[2m > \u001b[22msupports offset pagination\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mQuery Functionality\u001b[2m > \u001b[22mcombines multiple filters\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mQuery Functionality\u001b[2m > \u001b[22mreturns empty array when no matches found\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mQuery Functionality\u001b[2m > \u001b[22mreturns logs in descending chronological order\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mExport Functionality\u001b[2m > \u001b[22mexports to JSON format\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mExport Functionality\u001b[2m > \u001b[22mexports to CSV format\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mExport Functionality\u001b[2m > \u001b[22mexports with filters applied\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mExport Functionality\u001b[2m > \u001b[22mhandles CSV escaping for commas in fields\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mExport Functionality\u001b[2m > \u001b[22mreturns empty string for CSV with no results\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mExport Functionality\u001b[2m > \u001b[22mJSON export preserves all fields\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mdoes not throw on logging failure\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mhandles null/undefined optional fields\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mserializes complex details objects\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mhandles details with null value\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mhandles empty details object\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mhandles very long detail strings\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mhandles special characters in fields\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mhandles Unicode characters in details\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mAction Types\u001b[2m > \u001b[22msupports create action\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mAction Types\u001b[2m > \u001b[22msupports read action\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mAction Types\u001b[2m > \u001b[22msupports update action\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mAction Types\u001b[2m > \u001b[22msupports delete action\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mAction Types\u001b[2m > \u001b[22msupports export action\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mAction Types\u001b[2m > \u001b[22msupports decrypt action\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mSuccess and Error Tracking\u001b[2m > \u001b[22mlogs successful operations with success=true\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mSuccess and Error Tracking\u001b[2m > \u001b[22mlogs failed operations with success=false and error message\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mSuccess and Error Tracking\u001b[2m > \u001b[22mfilters successful operations only\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mSuccess and Error Tracking\u001b[2m > \u001b[22mfilters failed operations only\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mImmutability\u001b[2m > \u001b[22mcreates new log entries without modifying existing ones\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mLarge Chain Verification\u001b[2m > \u001b[22mverifies chain with 100 entries\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.test.ts\u001b[2m > \u001b[22mAuditLogger\u001b[2m > \u001b[22mLarge Chain Verification\u001b[2m > \u001b[22mdetects tampering in middle of large chain\n \u001b[32m\u2713\u001b[39m src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22mFacts Repositories Integration Tests\u001b[2m > \u001b[22mCreating both fact types for a case\u001b[2m > \u001b[22mshould create user facts and case facts for the same case\n \u001b[32m\u2713\u001b[39m src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22mFacts Repositories Integration Tests\u001b[2m > \u001b[22mEncryption verification across both repositories\u001b[2m > \u001b[22mshould encrypt both user facts and case facts independently\n \u001b[32m\u2713\u001b[39m src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22mFacts Repositories Integration Tests\u001b[2m > \u001b[22mFiltering and categorization\u001b[2m > \u001b[22mshould filter user facts by type\n \u001b[32m\u2713\u001b[39m src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22mFacts Repositories Integration Tests\u001b[2m > \u001b[22mFiltering and categorization\u001b[2m > \u001b[22mshould filter case facts by category\n \u001b[32m\u2713\u001b[39m src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22mFacts Repositories Integration Tests\u001b[2m > \u001b[22mFiltering and categorization\u001b[2m > \u001b[22mshould filter case facts by importance\n \u001b[32m\u2713\u001b[39m src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22mFacts Repositories Integration Tests\u001b[2m > \u001b[22mCascade delete behavior\u001b[2m > \u001b[22mshould delete both user facts and case facts when case is deleted\n \u001b[31m\u00d7\u001b[39m src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22mFacts Repositories Integration Tests\u001b[2m > \u001b[22mAudit trail verification\u001b[2m > \u001b[22mshould create separate audit logs for user facts and case facts\n\u001b[31m   \u2192 expected [] to have a length of 1 but got +0\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22mFacts Repositories Integration Tests\u001b[2m > \u001b[22mAudit trail verification\u001b[2m > \u001b[22mshould audit content access for both fact types\n\u001b[31m   \u2192 expected [] to have a length of 1 but got +0\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22mFacts Repositories Integration Tests\u001b[2m > \u001b[22mAudit trail verification\u001b[2m > \u001b[22mshould audit updates and deletes for both fact types\n\u001b[31m   \u2192 expected 0 to be greater than 0\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22mFacts Repositories Integration Tests\u001b[2m > \u001b[22mReal-world case scenario\u001b[2m > \u001b[22mshould handle a complete employment discrimination case with mixed facts\n\u001b[31m   \u2192 expected 0 to be greater than 15\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22mFacts Repositories Integration Tests\u001b[2m > \u001b[22mError handling\u001b[2m > \u001b[22mshould handle invalid case IDs gracefully\n \u001b[32m\u2713\u001b[39m src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22mFacts Repositories Integration Tests\u001b[2m > \u001b[22mError handling\u001b[2m > \u001b[22mshould handle invalid fact types\n \u001b[32m\u2713\u001b[39m src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22mFacts Repositories Integration Tests\u001b[2m > \u001b[22mError handling\u001b[2m > \u001b[22mshould handle invalid fact categories\n \u001b[32m\u2713\u001b[39m src/repositories/FactsRepositories.test.ts\u001b[2m > \u001b[22mFacts Repositories Integration Tests\u001b[2m > \u001b[22mError handling\u001b[2m > \u001b[22mshould handle invalid importance levels\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould create a case fact with encrypted content\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould create case facts with different categories\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould create case facts with different importance levels\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould audit case fact creation\n\u001b[31m   \u2192 expected [] to have a length of 1 but got +0\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould throw error if encryption service is missing\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould audit failed creation\n\u001b[31m   \u2192 expected [] to have a length of 1 but got +0\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mfindById\u001b[2m > \u001b[22mshould find case fact by ID and decrypt content\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mfindById\u001b[2m > \u001b[22mshould return null for non-existent ID\n\u001b[31m   \u2192 expected undefined to be null\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mfindById\u001b[2m > \u001b[22mshould audit content access when decrypting\n\u001b[31m   \u2192 expected [] to have a length of 1 but got +0\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mfindByCaseId\u001b[2m > \u001b[22mshould find all case facts for a case ordered by importance\n\u001b[31m   \u2192 expected 'medium' to be 'critical' // Object.is equality\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mfindByCaseId\u001b[2m > \u001b[22mshould return empty array for case with no facts\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mfindByCaseId\u001b[2m > \u001b[22mshould audit bulk content access\n\u001b[31m   \u2192 expected [] to have a length of 1 but got +0\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mfindByCategory\u001b[2m > \u001b[22mshould find case facts by category\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mfindByCategory\u001b[2m > \u001b[22mshould return empty array for category with no facts\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mfindByCategory\u001b[2m > \u001b[22mshould audit filtered content access\n\u001b[31m   \u2192 expected [] to have a length of 1 but got +0\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mfindByImportance\u001b[2m > \u001b[22mshould find case facts by importance level\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mfindByImportance\u001b[2m > \u001b[22mshould return empty array for importance level with no facts\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mfindByImportance\u001b[2m > \u001b[22mshould audit filtered content access by importance\n\u001b[31m   \u2192 expected [] to have a length of 1 but got +0\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mupdate\u001b[2m > \u001b[22mshould update fact content with re-encryption\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mupdate\u001b[2m > \u001b[22mshould update fact category\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mupdate\u001b[2m > \u001b[22mshould update importance level\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mupdate\u001b[2m > \u001b[22mshould update multiple fields at once\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mupdate\u001b[2m > \u001b[22mshould audit update operation\n\u001b[31m   \u2192 expected 0 to be greater than 0\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mupdate\u001b[2m > \u001b[22mshould throw error if encryption service is missing\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mdelete\u001b[2m > \u001b[22mshould delete case fact\n\u001b[31m   \u2192 expected undefined to be null\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mdelete\u001b[2m > \u001b[22mshould return false for non-existent fact\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mdelete\u001b[2m > \u001b[22mshould audit delete operation\n\u001b[31m   \u2192 expected 0 to be greater than 0\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mbackward compatibility\u001b[2m > \u001b[22mshould handle legacy plaintext data\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mbackward compatibility\u001b[2m > \u001b[22mshould handle repository without encryption service\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mdependency injection\u001b[2m > \u001b[22mshould allow setting encryption service\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mdependency injection\u001b[2m > \u001b[22mshould allow setting audit logger\n\u001b[31m   \u2192 expected [] to have a length of 1 but got +0\u001b[39m\n \u001b[32m\u2713\u001b[39m src/repositories/CaseFactsRepository.test.ts\u001b[2m > \u001b[22mCaseFactsRepository\u001b[2m > \u001b[22mCASCADE DELETE\u001b[2m > \u001b[22mshould delete case facts when case is deleted\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mEvent Type Coverage (18 Event Types)\u001b[2m > \u001b[22mCase Operations (5 event types)\u001b[2m > \u001b[22mlogs case.create event\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mEvent Type Coverage (18 Event Types)\u001b[2m > \u001b[22mCase Operations (5 event types)\u001b[2m > \u001b[22mlogs case.read event via findById\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mEvent Type Coverage (18 Event Types)\u001b[2m > \u001b[22mCase Operations (5 event types)\u001b[2m > \u001b[22mlogs case.update event\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mEvent Type Coverage (18 Event Types)\u001b[2m > \u001b[22mCase Operations (5 event types)\u001b[2m > \u001b[22mlogs case.delete event\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mEvent Type Coverage (18 Event Types)\u001b[2m > \u001b[22mCase Operations (5 event types)\u001b[2m > \u001b[22mlogs case.pii_access event when accessing encrypted description\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mEvent Type Coverage (18 Event Types)\u001b[2m > \u001b[22mEvidence Operations (6 event types)\u001b[2m > \u001b[22mlogs evidence.create event\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mEvent Type Coverage (18 Event Types)\u001b[2m > \u001b[22mEvidence Operations (6 event types)\u001b[2m > \u001b[22mlogs evidence.update event\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mEvent Type Coverage (18 Event Types)\u001b[2m > \u001b[22mEvidence Operations (6 event types)\u001b[2m > \u001b[22mlogs evidence.delete event\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mEvent Type Coverage (18 Event Types)\u001b[2m > \u001b[22mEvidence Operations (6 event types)\u001b[2m > \u001b[22mlogs evidence.content_access when accessing encrypted content\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mEvent Type Coverage (18 Event Types)\u001b[2m > \u001b[22mEvidence Operations (6 event types)\u001b[2m > \u001b[22mlogs evidence.export event (manual)\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mEvent Type Coverage (18 Event Types)\u001b[2m > \u001b[22mEvidence Operations (6 event types)\u001b[2m > \u001b[22mlogs evidence.read event (manual)\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mEvent Type Coverage (18 Event Types)\u001b[2m > \u001b[22mEncryption Operations (2 event types)\u001b[2m > \u001b[22mlogs encryption.key_loaded event\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mEvent Type Coverage (18 Event Types)\u001b[2m > \u001b[22mEncryption Operations (2 event types)\u001b[2m > \u001b[22mlogs encryption.decrypt event\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mEvent Type Coverage (18 Event Types)\u001b[2m > \u001b[22mDatabase Operations (3 event types)\u001b[2m > \u001b[22mlogs database.backup event\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mEvent Type Coverage (18 Event Types)\u001b[2m > \u001b[22mDatabase Operations (3 event types)\u001b[2m > \u001b[22mlogs database.restore event\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mEvent Type Coverage (18 Event Types)\u001b[2m > \u001b[22mDatabase Operations (3 event types)\u001b[2m > \u001b[22mlogs database.migrate event\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mEvent Type Coverage (18 Event Types)\u001b[2m > \u001b[22mConfig Operations (1 event type)\u001b[2m > \u001b[22mlogs config.change event\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mFull Workflow Integration Tests\u001b[2m > \u001b[22mmaintains hash chain integrity across complete case lifecycle\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mFull Workflow Integration Tests\u001b[2m > \u001b[22mmaintains hash chain integrity across case + evidence workflow\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mFull Workflow Integration Tests\u001b[2m > \u001b[22mmaintains integrity when operations fail\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mGDPR Compliance\u001b[2m > \u001b[22mdoes not log PII in case.create details\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mGDPR Compliance\u001b[2m > \u001b[22mdoes not log sensitive content in evidence.create details\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mGDPR Compliance\u001b[2m > \u001b[22mlogs only metadata for PII access events\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mPerformance Tests\u001b[2m > \u001b[22mhandles 1000+ audit log entries efficiently\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mPerformance Tests\u001b[2m > \u001b[22mverifies integrity of 1000+ log chain in reasonable time\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mPerformance Tests\u001b[2m > \u001b[22mqueries large audit log efficiently\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mPerformance Tests\u001b[2m > \u001b[22mexports large audit log efficiently\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mConcurrent Logging\u001b[2m > \u001b[22mmaintains hash chain integrity with concurrent operations\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mConcurrent Logging\u001b[2m > \u001b[22mhandles rapid sequential logging correctly\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mError Recovery\u001b[2m > \u001b[22mcontinues logging after failed operation\n \u001b[32m\u2713\u001b[39m src/services/AuditLogger.e2e.test.ts\u001b[2m > \u001b[22mAuditLogger E2E\u001b[2m > \u001b[22mTamper Detection in Real Scenarios\u001b[2m > \u001b[22mdetects tampering attempt in multi-step workflow\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mcreateLegalIssue\u001b[2m > \u001b[22mshould create a legal issue with valid input\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mcreateLegalIssue\u001b[2m > \u001b[22mshould create a legal issue without description\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mcreateLegalIssue\u001b[2m > \u001b[22mshould throw error if title is empty\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mcreateLegalIssue\u001b[2m > \u001b[22mshould throw error if title exceeds 200 characters\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mcreateLegalIssue\u001b[2m > \u001b[22mshould accept title exactly 200 characters\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mcreateLegalIssue\u001b[2m > \u001b[22mshould throw error if description exceeds 10000 characters\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mcreateLegalIssue\u001b[2m > \u001b[22mshould accept description exactly 10000 characters\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mcreateLegalIssue\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mgetLegalIssueById\u001b[2m > \u001b[22mshould return a legal issue by id\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mgetLegalIssueById\u001b[2m > \u001b[22mshould return null if legal issue not found\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mgetLegalIssueById\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mgetLegalIssuesByCaseId\u001b[2m > \u001b[22mshould return all legal issues for a case\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mgetLegalIssuesByCaseId\u001b[2m > \u001b[22mshould return empty array if no legal issues exist\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mgetLegalIssuesByCaseId\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mupdateLegalIssue\u001b[2m > \u001b[22mshould update a legal issue with valid input\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mupdateLegalIssue\u001b[2m > \u001b[22mshould update only title\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mupdateLegalIssue\u001b[2m > \u001b[22mshould throw error if title is empty string\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mupdateLegalIssue\u001b[2m > \u001b[22mshould throw error if title exceeds 200 characters\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mupdateLegalIssue\u001b[2m > \u001b[22mshould throw error if description exceeds 10000 characters\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mupdateLegalIssue\u001b[2m > \u001b[22mshould throw error if legal issue not found\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mupdateLegalIssue\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mdeleteLegalIssue\u001b[2m > \u001b[22mshould delete a legal issue successfully\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mdeleteLegalIssue\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle special characters in title\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle unicode characters in title and description\n \u001b[32m\u2713\u001b[39m src/services/LegalIssuesService.test.ts\u001b[2m > \u001b[22mLegalIssuesService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle newlines in description\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould initialize with empty notes array and loading state\n\u001b[31m   \u2192 Right-hand side of 'instanceof' is not an object\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould load notes on mount\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle empty notes list\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mInitial State and Data Loading\u001b[2m > \u001b[22mshould handle missing data property in response\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mCaseId Changes\u001b[2m > \u001b[22mshould reload notes when caseId changes\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould create a new note successfully\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create failure without error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mCreate Operation\u001b[2m > \u001b[22mshould handle create exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould update an existing note successfully\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mUpdate Operation\u001b[2m > \u001b[22mshould handle update exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould delete a note successfully\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mDelete Operation\u001b[2m > \u001b[22mshould handle delete exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould refresh notes list\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mRefresh Functionality\u001b[2m > \u001b[22mshould set loading state during refresh\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure with error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list failure without error message\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle list exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould handle non-Error exception\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/hooks/useNotes.test.ts\u001b[2m > \u001b[22museNotes\u001b[2m > \u001b[22mError Handling\u001b[2m > \u001b[22mshould clear previous error on successful operation\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n\u001b[31m   \u2192 Should not already be working.\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould render loading state\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould render error state\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould render empty state when no notes exist\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould render notes list when data is loaded\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould display correct count in header\u001b[33m 480\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould render Add Note button\u001b[33m 991\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould display timestamps for notes\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mEncryption on Write Operations\u001b[2m > \u001b[22mshould store encrypted case description in database\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mEncryption on Write Operations\u001b[2m > \u001b[22mshould store null for empty description without encryption\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mEncryption on Write Operations\u001b[2m > \u001b[22mshould update and encrypt case description\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mDecryption on Read Operations\u001b[2m > \u001b[22mshould decrypt case description on retrieval\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mDecryption on Read Operations\u001b[2m > \u001b[22mshould decrypt all case descriptions in findAll\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mDecryption on Read Operations\u001b[2m > \u001b[22mshould handle null descriptions correctly\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mBackward Compatibility\u001b[2m > \u001b[22mshould handle legacy plaintext descriptions\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mBackward Compatibility\u001b[2m > \u001b[22mshould work without encryption service (backward compat mode)\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mEncryption Security Properties\u001b[2m > \u001b[22mshould use unique IVs for same description encrypted multiple times\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mEncryption Security Properties\u001b[2m > \u001b[22mshould fail decryption with wrong key\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mRound-Trip Testing\u001b[2m > \u001b[22mshould successfully encrypt and decrypt unicode characters\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mRound-Trip Testing\u001b[2m > \u001b[22mshould handle large descriptions (10KB+)\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/CaseRepository.test.ts\u001b[2m > \u001b[22mCaseRepository with Encryption\u001b[2m > \u001b[22mRound-Trip Testing\u001b[2m > \u001b[22mshould handle special legal characters\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mEncryption on Write Operations\u001b[2m > \u001b[22mshould store encrypted evidence content in database\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mEncryption on Write Operations\u001b[2m > \u001b[22mshould store file path without encryption\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mEncryption on Write Operations\u001b[2m > \u001b[22mshould update and encrypt evidence content\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mEncryption on Write Operations\u001b[2m > \u001b[22mshould handle null content without encryption\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mDecryption on Read Operations\u001b[2m > \u001b[22mshould decrypt evidence content on retrieval\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mDecryption on Read Operations\u001b[2m > \u001b[22mshould decrypt all evidence content in findByCaseId\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mDecryption on Read Operations\u001b[2m > \u001b[22mshould decrypt all evidence content in findAll\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mDecryption on Read Operations\u001b[2m > \u001b[22mshould filter by evidence type and decrypt\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mBackward Compatibility\u001b[2m > \u001b[22mshould handle legacy plaintext content\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mBackward Compatibility\u001b[2m > \u001b[22mshould work without encryption service\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mEncryption Security Properties\u001b[2m > \u001b[22mshould use unique IVs for same content encrypted multiple times\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mEncryption Security Properties\u001b[2m > \u001b[22mshould fail decryption with wrong key\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mRound-Trip Testing\u001b[2m > \u001b[22mshould successfully encrypt and decrypt unicode characters\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mRound-Trip Testing\u001b[2m > \u001b[22mshould handle large evidence content (100KB+)\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mRound-Trip Testing\u001b[2m > \u001b[22mshould handle special characters in evidence\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mStatistics and Counting\u001b[2m > \u001b[22mshould count evidence by case correctly\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/EvidenceRepository.test.ts\u001b[2m > \u001b[22mEvidenceRepository with Encryption\u001b[2m > \u001b[22mStatistics and Counting\u001b[2m > \u001b[22mshould count evidence by type correctly\n\u001b[31m   \u2192 db is not defined\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mUserProfileRepository\u001b[2m > \u001b[22mshould encrypt name and email when updating profile\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mUserProfileRepository\u001b[2m > \u001b[22mshould decrypt name and email when retrieving profile\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mUserProfileRepository\u001b[2m > \u001b[22mshould audit PII access\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mUserProfileRepository\u001b[2m > \u001b[22mshould not log PII in audit details\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mLegalIssuesRepository\u001b[2m > \u001b[22mshould encrypt description field\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mLegalIssuesRepository\u001b[2m > \u001b[22mshould decrypt description when retrieving\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mLegalIssuesRepository\u001b[2m > \u001b[22mshould find all issues for a case with decryption\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mLegalIssuesRepository\u001b[2m > \u001b[22mshould update encrypted description\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mLegalIssuesRepository\u001b[2m > \u001b[22mshould audit legal issue operations\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mTimelineRepository\u001b[2m > \u001b[22mshould encrypt description field\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mTimelineRepository\u001b[2m > \u001b[22mshould decrypt description when retrieving\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mTimelineRepository\u001b[2m > \u001b[22mshould find all events for a case sorted by date\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mTimelineRepository\u001b[2m > \u001b[22mshould update encrypted description\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mTimelineRepository\u001b[2m > \u001b[22mshould audit timeline event operations\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/Phase3Repositories.test.ts\u001b[2m > \u001b[22mPhase 3 GDPR Compliance\u001b[2m > \u001b[22mshould never log plaintext PII across all repositories\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\Phase3Repositories.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mcreateNote\u001b[2m > \u001b[22mshould create a note with valid input\n\u001b[31m   \u2192 Note content must be 10000 characters or less\u001b[39m\n \u001b[32m\u2713\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mcreateNote\u001b[2m > \u001b[22mshould throw error if content is empty\n \u001b[31m\u00d7\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mcreateNote\u001b[2m > \u001b[22mshould throw error if content exceeds 10000 characters\n\u001b[31m   \u2192 expected [Function] to throw error including 'Note content must be 10000 characters\u2026' but got 'Cannot read properties of undefined (\u2026'\u001b[39m\n \u001b[32m\u2713\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mcreateNote\u001b[2m > \u001b[22mshould accept content exactly 10000 characters\n \u001b[31m\u00d7\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mcreateNote\u001b[2m > \u001b[22mshould log and rethrow repository errors\n\u001b[31m   \u2192 expected [Function] to throw error including 'Database error' but got 'Note content must be 10000 characters\u2026'\u001b[39m\n \u001b[32m\u2713\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mgetNotesByCaseId\u001b[2m > \u001b[22mshould return all notes for a case\n \u001b[32m\u2713\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mgetNotesByCaseId\u001b[2m > \u001b[22mshould return empty array if no notes exist\n \u001b[32m\u2713\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mgetNotesByCaseId\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mupdateNote\u001b[2m > \u001b[22mshould update a note with valid input\n \u001b[32m\u2713\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mupdateNote\u001b[2m > \u001b[22mshould throw error if content is empty\n \u001b[32m\u2713\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mupdateNote\u001b[2m > \u001b[22mshould throw error if content exceeds 10000 characters\n \u001b[32m\u2713\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mupdateNote\u001b[2m > \u001b[22mshould throw error if note not found\n \u001b[32m\u2713\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mupdateNote\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[32m\u2713\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mdeleteNote\u001b[2m > \u001b[22mshould delete a note successfully\n \u001b[32m\u2713\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mdeleteNote\u001b[2m > \u001b[22mshould log and rethrow repository errors\n \u001b[31m\u00d7\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle special characters in content\n\u001b[31m   \u2192 Note content must be 10000 characters or less\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/services/NotesService.test.ts\u001b[2m > \u001b[22mNotesService\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle unicode characters in content\n\u001b[31m   \u2192 Note content must be 10000 characters or less\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould create a note with encrypted content\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould audit note creation\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mcreate\u001b[2m > \u001b[22mshould not log plaintext content in audit logs\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mfindById\u001b[2m > \u001b[22mshould decrypt content when retrieving note\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mfindById\u001b[2m > \u001b[22mshould audit PII access when decrypting content\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mfindById\u001b[2m > \u001b[22mshould return null for non-existent note\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mfindByCaseId\u001b[2m > \u001b[22mshould decrypt all notes for a case\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mfindByCaseId\u001b[2m > \u001b[22mshould return empty array for case with no notes\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mupdate\u001b[2m > \u001b[22mshould update note content with new encryption\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mupdate\u001b[2m > \u001b[22mshould audit note update\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mdelete\u001b[2m > \u001b[22mshould delete note and return true\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mdelete\u001b[2m > \u001b[22mshould return false when deleting non-existent note\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mdelete\u001b[2m > \u001b[22mshould audit note deletion\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mbackward compatibility\u001b[2m > \u001b[22mshould handle legacy plaintext notes\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mbackward compatibility\u001b[2m > \u001b[22mshould handle empty content\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mwithout encryption service\u001b[2m > \u001b[22mshould handle notes without encryption\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n \u001b[31m\u00d7\u001b[39m src/repositories/NotesRepository.test.ts\u001b[2m > \u001b[22mNotesRepository\u001b[2m > \u001b[22mGDPR compliance\u001b[2m > \u001b[22mshould never log decrypted content in audit logs\n\u001b[31m   \u2192 Cannot find module '../db/database'\nRequire stack:\n- C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\repositories\\NotesRepository.test.ts\u001b[39m\n \u001b[32m\u2713\u001b[39m src/hooks/useAI.test.ts\u001b[2m > \u001b[22museAI types\u001b[2m > \u001b[22mAILoadingState has correct values\n \u001b[32m\u2713\u001b[39m src/hooks/useAI.test.ts\u001b[2m > \u001b[22museAI types\u001b[2m > \u001b[22mUseAIReturn has correct shape\n \u001b[32m\u2713\u001b[39m src/hooks/useAI.test.ts\u001b[2m > \u001b[22museAI types\u001b[2m > \u001b[22mChatMessage has correct structure\n \u001b[32m\u2713\u001b[39m src/hooks/useAI.test.ts\u001b[2m > \u001b[22museAI types\u001b[2m > \u001b[22mLoading states transition correctly\n \u001b[32m\u2713\u001b[39m src/hooks/useAI.test.ts\u001b[2m > \u001b[22museAI hook contract\u001b[2m > \u001b[22msendMessage validates empty content\n \u001b[32m\u2713\u001b[39m src/hooks/useAI.test.ts\u001b[2m > \u001b[22museAI hook contract\u001b[2m > \u001b[22misStreaming prevents concurrent sends\n \u001b[32m\u2713\u001b[39m src/hooks/useAI.test.ts\u001b[2m > \u001b[22museAI hook contract\u001b[2m > \u001b[22mmessages array maintains order\n \u001b[32m\u2713\u001b[39m src/hooks/useAI.test.ts\u001b[2m > \u001b[22museAI hook contract\u001b[2m > \u001b[22mclearMessages resets all state\n \u001b[32m\u2713\u001b[39m src/hooks/useAI.test.ts\u001b[2m > \u001b[22museAI error handling\u001b[2m > \u001b[22mAI initialization error message is user-friendly\n \u001b[32m\u2713\u001b[39m src/hooks/useAI.test.ts\u001b[2m > \u001b[22museAI error handling\u001b[2m > \u001b[22mStream error is prefixed with \"AI Error:\"\n \u001b[32m\u2713\u001b[39m src/hooks/useAI.test.ts\u001b[2m > \u001b[22museAI error handling\u001b[2m > \u001b[22mEmpty message error is clear\n \u001b[32m\u2713\u001b[39m src/hooks/useAI.test.ts\u001b[2m > \u001b[22museAI error handling\u001b[2m > \u001b[22mConcurrent send error is clear\n \u001b[32m\u2713\u001b[39m src/hooks/useAI.test.ts\u001b[2m > \u001b[22museAI streaming behavior\u001b[2m > \u001b[22mStreaming content accumulates tokens\n \u001b[32m\u2713\u001b[39m src/hooks/useAI.test.ts\u001b[2m > \u001b[22museAI streaming behavior\u001b[2m > \u001b[22mStreaming content resets on completion\n \u001b[32m\u2713\u001b[39m src/hooks/useAI.test.ts\u001b[2m > \u001b[22museAI streaming behavior\u001b[2m > \u001b[22mAssistant message created from streaming content\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mRendering\u001b[2m > \u001b[22mshould render with default yellow color\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mRendering\u001b[2m > \u001b[22mshould render with custom color (blue)\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mRendering\u001b[2m > \u001b[22mshould render all 5 color variants correctly\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mRendering\u001b[2m > \u001b[22mshould display placeholder when content is empty\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mRendering\u001b[2m > \u001b[22mshould render delete button when onDelete is provided and not readOnly\u001b[33m 373\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mRendering\u001b[2m > \u001b[22mshould NOT render delete button when readOnly\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mRendering\u001b[2m > \u001b[22mshould NOT render delete button when onDelete is not provided\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mRendering\u001b[2m > \u001b[22mshould render textarea with correct placeholder\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mRendering\u001b[2m > \u001b[22mshould render textarea with custom placeholder\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mRendering\u001b[2m > \u001b[22mshould render send button\u001b[33m 310\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mRendering\u001b[2m > \u001b[22mshould have send button disabled when textarea is empty\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mEdit Mode Interactions\u001b[2m > \u001b[22mshould enter edit mode when clicked\u001b[33m 375\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mEdit Mode Interactions\u001b[2m > \u001b[22mshould NOT enter edit mode when readOnly\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mCreate Note Workflow\u001b[2m > \u001b[22mshould show note creator when Add button is clicked\u001b[33m 2015\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mEdit Mode Interactions\u001b[2m > \u001b[22mshould select all text when entering edit mode\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mNormal Rendering\u001b[2m > \u001b[22mshould render children when no error occurs\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mNormal Rendering\u001b[2m > \u001b[22mshould not show error UI when children render successfully\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mError Catching\u001b[2m > \u001b[22mshould catch errors from child components\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mError Catching\u001b[2m > \u001b[22mshould display error message in error UI\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mError Catching\u001b[2m > \u001b[22mshould show error details heading\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mError Catching\u001b[2m > \u001b[22mshould log error to console\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mError Catching\u001b[2m > \u001b[22mshould log component stack to console\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mError Fallback UI\u001b[2m > \u001b[22mshould display error icon\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mError Fallback UI\u001b[2m > \u001b[22mshould display heading\u001b[33m 454\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mError Fallback UI\u001b[2m > \u001b[22mshould display reload button\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mError Fallback UI\u001b[2m > \u001b[22mshould display try to continue button\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mError Fallback UI\u001b[2m > \u001b[22mshould display help text with log file path\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mDevelopment-Only Features\u001b[2m > \u001b[22mshould show component stack in development mode\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mDevelopment-Only Features\u001b[2m > \u001b[22mshould show error stack in development mode\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mDevelopment-Only Features\u001b[2m > \u001b[22mshould NOT show component stack in production mode\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mDevelopment-Only Features\u001b[2m > \u001b[22mshould NOT show error stack in production mode\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mRecovery Actions\u001b[2m > \u001b[22mshould reload page when reload button is clicked\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mUser Messages\u001b[2m > \u001b[22mshould render user message with correct styling\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mUser Messages\u001b[2m > \u001b[22mshould align user message to the right\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mUser Messages\u001b[2m > \u001b[22mshould render user message as plain text (not markdown)\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mUser Messages\u001b[2m > \u001b[22mshould display timestamp for user message\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mUser Messages\u001b[2m > \u001b[22mshould NOT show sources for user message\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mUser Messages\u001b[2m > \u001b[22mshould NOT show disclaimer for user message\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mUser Messages\u001b[2m > \u001b[22mshould show streaming indicator for user message\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mUser Messages\u001b[2m > \u001b[22mshould NOT show timestamp when streaming\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAssistant Messages\u001b[2m > \u001b[22mshould render assistant message with correct styling\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAssistant Messages\u001b[2m > \u001b[22mshould align assistant message to the left\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAssistant Messages\u001b[2m > \u001b[22mshould render assistant message as markdown\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAssistant Messages\u001b[2m > \u001b[22mshould display timestamp for assistant message\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAssistant Messages\u001b[2m > \u001b[22mshould show sources when provided\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAssistant Messages\u001b[2m > \u001b[22mshould NOT show sources when empty array\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAssistant Messages\u001b[2m > \u001b[22mshould show disclaimer for assistant message\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAssistant Messages\u001b[2m > \u001b[22mshould NOT show disclaimer when streaming\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAssistant Messages\u001b[2m > \u001b[22mshould render markdown lists correctly\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAssistant Messages\u001b[2m > \u001b[22mshould render markdown code blocks correctly\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAI Reasoning Process\u001b[2m > \u001b[22mshould show reasoning dropdown when thinkingContent is present\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAI Reasoning Process\u001b[2m > \u001b[22mshould NOT show reasoning dropdown when thinkingContent is null\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAI Reasoning Process\u001b[2m > \u001b[22mshould NOT show reasoning dropdown when thinkingContent is empty string\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mKeyboard Shortcuts\u001b[2m > \u001b[22mshould send message when Enter key is pressed\u001b[33m 640\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mCreate Note Workflow\u001b[2m > \u001b[22mshould autofocus textarea when creating new note\u001b[33m 619\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mEdit Mode Interactions\u001b[2m > \u001b[22mshould update content and call onUpdate when blur occurs\u001b[33m 674\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAI Reasoning Process\u001b[2m > \u001b[22mshould expand and collapse reasoning content when clicked\u001b[33m 359\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAI Reasoning Process\u001b[2m > \u001b[22mshould have proper ARIA attributes for reasoning button\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mKeyboard Shortcuts\u001b[2m > \u001b[22mshould create new line when Shift+Enter is pressed\u001b[33m 457\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mRecovery Actions\u001b[2m > \u001b[22mshould reset error state when continue button is clicked\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mError Message Handling\u001b[2m > \u001b[22mshould display custom error message\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mError Message Handling\u001b[2m > \u001b[22mshould display default message if error has no message\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mStyling and UI\u001b[2m > \u001b[22mshould have red background for error container\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mStyling and UI\u001b[2m > \u001b[22mshould have white card background for error content\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mStyling and UI\u001b[2m > \u001b[22mshould have proper button styling for reload button\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mStyling and UI\u001b[2m > \u001b[22mshould have proper button styling for continue button\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have proper heading hierarchy\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have focusable buttons\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have focus styles on buttons\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle errors with stack traces\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle null error gracefully\n \u001b[32m\u2713\u001b[39m src/components/ErrorBoundary.test.tsx\u001b[2m > \u001b[22mErrorBoundary\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle re-rendering after error is caught\n \u001b[32m\u2713\u001b[39m src/services/LegalAPIService.test.ts\u001b[2m > \u001b[22mLegalAPIService\u001b[2m > \u001b[22mextractKeywords\u001b[2m > \u001b[22mshould extract keywords from \"Can I be fired for being pregnant?\"\n \u001b[32m\u2713\u001b[39m src/services/LegalAPIService.test.ts\u001b[2m > \u001b[22mLegalAPIService\u001b[2m > \u001b[22mextractKeywords\u001b[2m > \u001b[22mshould handle housing-related questions\n \u001b[32m\u2713\u001b[39m src/services/LegalAPIService.test.ts\u001b[2m > \u001b[22mLegalAPIService\u001b[2m > \u001b[22mextractKeywords\u001b[2m > \u001b[22mshould return general keywords when no legal terms found\n \u001b[32m\u2713\u001b[39m src/services/LegalAPIService.test.ts\u001b[2m > \u001b[22mLegalAPIService\u001b[2m > \u001b[22mclassifyQuestion\u001b[2m > \u001b[22mshould classify pregnancy discrimination as employment\n \u001b[32m\u2713\u001b[39m src/services/LegalAPIService.test.ts\u001b[2m > \u001b[22mLegalAPIService\u001b[2m > \u001b[22mclassifyQuestion\u001b[2m > \u001b[22mshould classify eviction as housing\n \u001b[32m\u2713\u001b[39m src/services/LegalAPIService.test.ts\u001b[2m > \u001b[22mLegalAPIService\u001b[2m > \u001b[22mclassifyQuestion\u001b[2m > \u001b[22mshould classify consumer refund as consumer\n \u001b[31m\u00d7\u001b[39m src/services/LegalAPIService.test.ts\u001b[2m > \u001b[22mLegalAPIService\u001b[2m > \u001b[22mclassifyQuestion\u001b[2m > \u001b[22mshould default to civil for unknown questions\n\u001b[31m   \u2192 expected 'general' to be 'civil' // Object.is equality\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAI Reasoning Process\u001b[2m > \u001b[22mshould update aria-expanded when reasoning is expanded\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAI Reasoning Process\u001b[2m > \u001b[22mshould only show reasoning for assistant messages\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mStreaming State\u001b[2m > \u001b[22mshould show streaming indicator for assistant message\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mStreaming State\u001b[2m > \u001b[22mshould NOT show timestamp when streaming\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mStreaming State\u001b[2m > \u001b[22mshould NOT show disclaimer when streaming\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have proper ARIA label for reasoning button\n \u001b[32m\u2713\u001b[39m src/utils/error-logger.test.ts\u001b[2m > \u001b[22mErrorLogger\u001b[2m > \u001b[22mshould create log directory if it does not exist\n \u001b[32m\u2713\u001b[39m src/utils/error-logger.test.ts\u001b[2m > \u001b[22mErrorLogger\u001b[2m > \u001b[22mshould log error to file\n \u001b[32m\u2713\u001b[39m src/utils/error-logger.test.ts\u001b[2m > \u001b[22mErrorLogger\u001b[2m > \u001b[22mshould log string error\n \u001b[32m\u2713\u001b[39m src/utils/error-logger.test.ts\u001b[2m > \u001b[22mErrorLogger\u001b[2m > \u001b[22mshould include context in log\n \u001b[32m\u2713\u001b[39m src/utils/error-logger.test.ts\u001b[2m > \u001b[22mErrorLogger\u001b[2m > \u001b[22mshould rotate log file when exceeding max size\n \u001b[32m\u2713\u001b[39m src/utils/error-logger.test.ts\u001b[2m > \u001b[22mErrorLogger\u001b[2m > \u001b[22mshould read recent errors\n \u001b[32m\u2713\u001b[39m src/utils/error-logger.test.ts\u001b[2m > \u001b[22mErrorLogger\u001b[2m > \u001b[22mshould clear all logs\n \u001b[32m\u2713\u001b[39m src/utils/error-logger.test.ts\u001b[2m > \u001b[22mErrorLogger\u001b[2m > \u001b[22mshould maintain max number of backups\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould update ARIA label when reasoning is expanded\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have semantic HTML for message content\n \u001b[32m\u2713\u001b[39m src/components/MessageBubble.test.tsx\u001b[2m > \u001b[22mMessageBubble\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould preserve whitespace in user messages\n \u001b[32m\u2713\u001b[39m src/services/LegalAPIService.test.ts\u001b[2m > \u001b[22mLegalAPIService\u001b[2m > \u001b[22msearchLegalInfo\u001b[2m > \u001b[22mshould return LegalSearchResults structure\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mKeyboard Shortcuts\u001b[2m > \u001b[22mshould NOT send message when only whitespace is entered\n \u001b[32m\u2713\u001b[39m src/services/LegalAPIService.test.ts\u001b[2m > \u001b[22mLegalAPIService\u001b[2m > \u001b[22msearchLegalInfo\u001b[2m > \u001b[22mshould cache results on subsequent calls\n \u001b[32m\u2713\u001b[39m src/services/LegalAPIService.test.ts\u001b[2m > \u001b[22mLegalAPIService\u001b[2m > \u001b[22msearchLegalInfo\u001b[2m > \u001b[22mshould handle errors gracefully and return empty results\n \u001b[32m\u2713\u001b[39m src/services/LegalAPIService.test.ts\u001b[2m > \u001b[22mLegalAPIService\u001b[2m > \u001b[22mcache management\u001b[2m > \u001b[22mshould clear cache\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mEdit Mode Interactions\u001b[2m > \u001b[22mshould trim whitespace before calling onUpdate\u001b[33m 604\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mKeyboard Shortcuts\u001b[2m > \u001b[22mshould trim whitespace before sending\u001b[33m 302\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mEdit Mode Interactions\u001b[2m > \u001b[22mshould NOT call onUpdate if content is unchanged\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould render loading state\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould render error state\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould render empty state when no facts match filters\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould render facts list when data is loaded\u001b[33m 429\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould display correct count in header\u001b[33m 519\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould render Add Case Fact button\u001b[33m 1481\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mCategory Filtering\u001b[2m > \u001b[22mshould display all category filter buttons with counts\u001b[33m 2668\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mSend Button Click\u001b[2m > \u001b[22mshould send message when send button is clicked\u001b[33m 367\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mCreate Note Workflow\u001b[2m > \u001b[22mshould call createNote when Save button is clicked with content\u001b[33m 1425\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould render loading state\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould render error state\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould render empty state when no facts exist\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould render facts list when data is loaded\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould display correct count in header\u001b[33m 394\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mRendering States\u001b[2m > \u001b[22mshould render Add User Fact button\u001b[33m 789\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mType Filtering\u001b[2m > \u001b[22mshould display all filter buttons with counts\u001b[33m 1265\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mEdit Mode Interactions\u001b[2m > \u001b[22mshould revert changes when Escape key is pressed\u001b[33m 337\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mDelete Functionality\u001b[2m > \u001b[22mshould call onDelete when delete button is clicked and confirmed\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mSend Button Click\u001b[2m > \u001b[22mshould enable send button when textarea has text\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mSend Button Click\u001b[2m > \u001b[22mshould NOT send empty message when button is clicked\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mDisabled State\u001b[2m > \u001b[22mshould disable textarea when disabled prop is true\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mDisabled State\u001b[2m > \u001b[22mshould disable send button when disabled prop is true\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mDisabled State\u001b[2m > \u001b[22mshould NOT send message when disabled and Enter is pressed\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mDisabled State\u001b[2m > \u001b[22mshould apply disabled styling to textarea\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mDisabled State\u001b[2m > \u001b[22mshould apply disabled styling to send button\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mDelete Functionality\u001b[2m > \u001b[22mshould NOT call onDelete when delete is cancelled\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mCategory Filtering\u001b[2m > \u001b[22mshould filter facts by timeline category\u001b[33m 717\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mDelete Functionality\u001b[2m > \u001b[22mshould stop propagation when delete button is clicked\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have appropriate cursor style when not readOnly\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have default cursor when readOnly\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mType Filtering\u001b[2m > \u001b[22mshould filter facts by personal type when clicked\u001b[33m 405\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have placeholder in textarea when editing empty note\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould preserve whitespace in content display\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle very long content\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mAuto-resize Behavior\u001b[2m > \u001b[22mshould resize textarea as content grows\u001b[33m 392\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mAuto-resize Behavior\u001b[2m > \u001b[22mshould have minimum height set\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mAuto-resize Behavior\u001b[2m > \u001b[22mshould have maximum height set\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have proper ARIA label for textarea\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have proper ARIA label for send button\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould update aria-disabled when disabled prop changes\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mType Filtering\u001b[2m > \u001b[22mshould filter facts by employment type\u001b[33m 374\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mCategory Filtering\u001b[2m > \u001b[22mshould filter facts by evidence category\u001b[33m 581\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mCreate Note Workflow\u001b[2m > \u001b[22mshould clear textarea and hide creator after successful creation\u001b[33m 932\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/ChatInput.test.tsx\u001b[2m > \u001b[22mChatInput\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould be keyboard navigable\u001b[33m 366\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mType Filtering\u001b[2m > \u001b[22mshould show all facts when \"All\" filter is selected\u001b[33m 668\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle special characters in content\u001b[33m 1033\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mCreate Note Workflow\u001b[2m > \u001b[22mshould NOT call createNote when content is empty\u001b[33m 648\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle rapid click events without breaking\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould update content when prop changes\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mType Filtering\u001b[2m > \u001b[22mshould update count in header when filtering\u001b[33m 402\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle empty onUpdate gracefully\u001b[33m 330\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mHover Effects\u001b[2m > \u001b[22mshould apply hover styles on mouse enter\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mHover Effects\u001b[2m > \u001b[22mshould restore styles on mouse leave\n \u001b[32m\u2713\u001b[39m src/components/PostItNote.test.tsx\u001b[2m > \u001b[22mPostItNote\u001b[2m > \u001b[22mHover Effects\u001b[2m > \u001b[22mshould NOT apply hover effects when in edit mode\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mType Filtering\u001b[2m > \u001b[22mshould show empty state when filtered category has no facts\u001b[33m 373\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mCreate Note Workflow\u001b[2m > \u001b[22mshould NOT call createNote when content is only whitespace\u001b[33m 874\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mCreate User Fact Workflow\u001b[2m > \u001b[22mshould show fact creator when Add button is clicked\u001b[33m 412\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mCategory Filtering\u001b[2m > \u001b[22mshould show all facts when \"All\" category filter is selected\u001b[33m 959\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mImportance Filtering\u001b[2m > \u001b[22mshould display all importance filter buttons with counts\u001b[33m 1021\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mCreate User Fact Workflow\u001b[2m > \u001b[22mshould default to \"personal\" type when creating new fact\u001b[33m 450\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mImportance Filtering\u001b[2m > \u001b[22mshould filter facts by critical importance\u001b[33m 546\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mCreate Note Workflow\u001b[2m > \u001b[22mshould hide creator and clear content when Cancel is clicked\u001b[33m 936\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mCreate User Fact Workflow\u001b[2m > \u001b[22mshould allow changing fact type before creating\u001b[33m 492\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mUpdate Note Workflow\u001b[2m > \u001b[22mshould enter edit mode when Edit button is clicked\u001b[33m 337\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mImportance Filtering\u001b[2m > \u001b[22mshould filter facts by high importance\u001b[33m 527\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mCreate User Fact Workflow\u001b[2m > \u001b[22mshould render new fact creator UI elements\u001b[33m 370\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mUpdate Note Workflow\u001b[2m > \u001b[22mshould show Save and Cancel buttons in edit mode\u001b[33m 595\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mUpdate User Fact\u001b[2m > \u001b[22mshould call updateUserFact when fact is updated\u001b[33m 352\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mImportance Filtering\u001b[2m > \u001b[22mshould combine category and importance filters\u001b[33m 870\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mDelete User Fact\u001b[2m > \u001b[22mshould call deleteUserFact when delete button is clicked\u001b[33m 312\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mColor Assignment\u001b[2m > \u001b[22mshould assign correct colors to different fact types\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle very long fact content\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle special characters in fact content\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle caseId prop changes\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have proper heading hierarchy\n \u001b[32m\u2713\u001b[39m src/components/facts/UserFactsPanel.test.tsx\u001b[2m > \u001b[22mUserFactsPanel\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have accessible label for type select\u001b[33m 335\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mUpdate Note Workflow\u001b[2m > \u001b[22mshould call updateNote when Save button is clicked with changes\u001b[33m 1039\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mImportance Filtering\u001b[2m > \u001b[22mshould show empty state when combined filters match nothing\u001b[33m 838\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mCreate Case Fact Workflow\u001b[2m > \u001b[22mshould show fact creator when Add button is clicked\u001b[33m 576\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mUpdate Note Workflow\u001b[2m > \u001b[22mshould exit edit mode after successful update\u001b[33m 988\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mCreate Case Fact Workflow\u001b[2m > \u001b[22mshould default to \"timeline\" category and \"medium\" importance\u001b[33m 614\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mUpdate Note Workflow\u001b[2m > \u001b[22mshould NOT call updateNote when content is empty\u001b[33m 669\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mCreate Case Fact Workflow\u001b[2m > \u001b[22mshould allow changing category before creating\u001b[33m 662\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mUpdate Note Workflow\u001b[2m > \u001b[22mshould exit edit mode and revert changes when Cancel is clicked\u001b[33m 969\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mCreate Case Fact Workflow\u001b[2m > \u001b[22mshould allow changing importance before creating\u001b[33m 655\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mCreate Case Fact Workflow\u001b[2m > \u001b[22mshould render new fact creator UI elements\u001b[33m 554\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mUpdate Note Workflow\u001b[2m > \u001b[22mshould handle editing multiple notes independently\u001b[33m 919\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mUpdate Case Fact\u001b[2m > \u001b[22mshould call updateCaseFact when fact is updated\u001b[33m 527\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mDelete Note Workflow\u001b[2m > \u001b[22mshould call deleteNote when Delete button is clicked and confirmed\u001b[33m 333\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mDelete Note Workflow\u001b[2m > \u001b[22mshould NOT call deleteNote when delete is cancelled\u001b[33m 318\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mContent Display\u001b[2m > \u001b[22mshould preserve multiline content with pre-wrap\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mContent Display\u001b[2m > \u001b[22mshould display full timestamps in locale format\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle very long note content\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle special characters in note content\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle caseId prop changes\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mDelete Case Fact\u001b[2m > \u001b[22mshould call deleteCaseFact when delete button is clicked\u001b[33m 508\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mImportance Badges\u001b[2m > \u001b[22mshould display importance badge for each fact\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mColor Assignment\u001b[2m > \u001b[22mshould assign correct colors to different fact categories\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle very long fact content\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle special characters in fact content\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle caseId prop changes\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould update count when filtering\u001b[33m 528\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have proper heading hierarchy\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have accessible labels for selects\u001b[33m 502\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/facts/CaseFactsPanel.test.tsx\u001b[2m > \u001b[22mCaseFactsPanel\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have descriptive filter labels\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mEdge Cases\u001b[2m > \u001b[22mshould handle rapid create and cancel clicks\u001b[33m 1114\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have proper heading hierarchy\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have accessible placeholder for new note textarea\u001b[33m 305\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould autofocus edit textarea when entering edit mode\u001b[33m 332\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould have clear button labels\u001b[33m 406\u001b[2mms\u001b[22m\u001b[39m\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mAccessibility\u001b[2m > \u001b[22mshould handle keyboard navigation through buttons\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mEmpty State Behavior\u001b[2m > \u001b[22mshould show empty state with correct styling\n \u001b[32m\u2713\u001b[39m src/components/notes/NotesPanel.test.tsx\u001b[2m > \u001b[22mNotesPanel\u001b[2m > \u001b[22mEmpty State Behavior\u001b[2m > \u001b[22mshould show count of 0 in header when no notes\n\n\u001b[2m Test Files \u001b[22m \u001b[1m\u001b[31m14 failed\u001b[39m\u001b[22m\u001b[2m | \u001b[22m\u001b[1m\u001b[32m16 passed\u001b[39m\u001b[22m\u001b[90m (30)\u001b[39m\n\u001b[2m      Tests \u001b[22m \u001b[1m\u001b[31m233 failed\u001b[39m\u001b[22m\u001b[2m | \u001b[22m\u001b[1m\u001b[32m541 passed\u001b[39m\u001b[22m\u001b[90m (774)\u001b[39m\n\u001b[2m   Start at \u001b[22m 00:00:28\n\u001b[2m   Duration \u001b[22m 22.54s\u001b[2m (transform 6.00s, setup 8.39s, collect 16.26s, tests 60.41s, environment 55.08s, prepare 8.37s)\u001b[22m\n\n",
  "analysis": "**Error Category:** Import Path Error\n\n**Matched Error:**\nCannot find module '../\n\n**Diagnosis:**\nRelative import path incorrect or tsconfig.json misconfigured\n\n**Suggested Fix:**\nSTEP 1: Check tsconfig.json has \"moduleResolution\": \"node\"\nSTEP 2: Add \"baseUrl\": \".\" or \"baseUrl\": \"./src\"\nSTEP 3: Verify file exists at the path\nSTEP 4: Check case sensitivity (forceConsistentCasingInFileNames: true)\n\n**Example:**\n// tsconfig.json\n{\n  \"compilerOptions\": {\n    \"moduleResolution\": \"node\",\n    \"baseUrl\": \".\",\n    \"forceConsistentCasingInFileNames\": true\n  }\n}\n\n**Files Affected:**\n  - C:\\Users\\sava6\\Desktop\\Justice Companion\\src\\services\\AuditLogger.ts\n\n**Recommended Actions:**\n1. Review the file(s) listed above\n2. Locate the error in the code\n3. Apply the suggested fix pattern\n4. Re-run tests to verify the fix\n\n**Full Error Output (truncated to 500 chars):**\n\n> justice-companion@1.0.0 test\n> vitest --run\n\n\n\u001b[1m\u001b[7m\u001b[36m RUN \u001b[39m\u001b[27m\u001b[22m \u001b[36mv2.1.9 \u001b[39m\u001b[90mC:/Users/sava6/Desktop/Justice Companion\u001b[39m\n\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mcreateTimelineEvent\u001b[2m > \u001b[22mshould create a timeline event with valid input\n \u001b[32m\u2713\u001b[39m src/services/TimelineService.test.ts\u001b[2m > \u001b[22mTimelineService\u001b[2m > \u001b[22mcreateTimelineEvent\u001b[2m > \u001b[22mshould create a timeline event without description\n \u001b[32m\u2713\u001b[39...\n",
  "status": "auto_suggested",
  "approved": false,
  "source": "pattern_matcher"
}